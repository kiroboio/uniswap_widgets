{"version":3,"file":"index.js","sources":["../src/utils/JsonRpcConnector.ts","../src/hooks/useActiveWeb3React.tsx","../src/constants/chains.ts","../src/utils/constructSameAddressMap.ts","../src/constants/addresses.ts","../src/constants/tokens.ts","../src/hooks/useIsWindowVisible.ts","../src/hooks/useBlockNumber.tsx","../src/utils/index.ts","../src/hooks/useContract.ts","../src/state/multicall.tsx","../src/hooks/multicall.ts","../src/hooks/useCurrencyBalance.ts","../src/hooks/useNativeCurrency.ts","../src/utils/isZero.ts","../src/utils/safeNamehash.ts","../src/hooks/useDebounce.ts","../src/hooks/useENSAddress.ts","../src/hooks/useGasPrice.ts","../src/utils/tryParseCurrencyAmount.ts","../src/constants/misc.ts","../src/utils/isTradeBetter.ts","../src/constants/routing.ts","../src/hooks/useAllCurrencyCombinations.ts","../src/hooks/useV2Pairs.ts","../src/hooks/useBestV2Trade.ts","../src/state/routing/types.ts","../src/hooks/usePools.ts","../src/hooks/useV3SwapPools.ts","../src/hooks/useAllV3Routes.ts","../src/hooks/useClientSideV3Trade.ts","../src/hooks/useUSDCPrice.ts","../src/hooks/useAutoSlippageTolerance.ts","../src/state/atoms.ts","../src/state/settings.ts","../src/hooks/useSlippage.ts","../src/utils/computeFiatValuePriceImpact.tsx","../src/utils/prices.ts","../src/hooks/useUSDCPriceImpact.ts","../src/state/swap.ts","../src/hooks/useLast.ts","../src/state/routing/utils.ts","../src/hooks/swap/useWrapCallback.tsx","../src/hooks/useIsValidBlock.ts","../src/hooks/usePoll.ts","../src/hooks/routing/useRoutingAPIArguments.ts","../src/hooks/routing/useClientSideSmartOrderRouterTrade.ts","../src/hooks/swap/useBestTrade.ts","../src/hooks/swap/useSwapInfo.tsx","../src/hooks/swap/useSyncConvenienceFee.ts","../src/utils/resolveENSContentHash.ts","../src/utils/contenthashToUri.ts","../src/utils/parseENSAddress.ts","../src/utils/uriToHttp.ts","../src/hooks/useTokenList/validateTokenList.ts","../src/hooks/useTokenList/fetchTokenList.ts","../src/state/lists/wrappedTokenInfo.ts","../src/hooks/useTokenList/utils.ts","../src/hooks/useTokenList/index.tsx","../src/hooks/useCurrency.ts","../src/hooks/useOnSupportedNetwork.ts","../src/hooks/swap/useSyncTokenDefaults.ts","../src/hooks/swap/index.ts","../src/hooks/useCurrentMutableState.ts","../src/components/Swap/SwapWrapper.tsx","../src/errors.ts","../src/components/Swap/useValidate.tsx","../src/components/Swap/index.tsx","../src/state/transactions.ts","../src/utils/retry.ts","../src/hooks/transactions/updater.tsx","../src/hooks/transactions/index.tsx","../node_modules/@lingui/react/esm/index.js","../src/assets/svg/auto_router.svg","../src/assets/svg/expando.svg","../src/assets/svg/wallet.svg","../src/icons/index.tsx","../src/theme/dynamic.tsx","../src/theme/layer.ts","../src/theme/type.tsx","../src/theme/index.tsx","../src/utils/animations.ts","../src/components/Button.tsx","../src/components/Column.tsx","../src/components/Row.tsx","../src/components/Rule.tsx","../src/components/Dialog.tsx","../src/components/ActionButton.tsx","../src/hooks/useScrollbar.ts","../src/components/Expando.tsx","../src/components/Error/ErrorDialog.tsx","../src/components/Error/ErrorBoundary.tsx","../src/components/Wrapper.tsx","../src/constants/locales.ts","../src/index.tsx"],"sourcesContent":["import { JsonRpcProvider } from '@ethersproject/providers'\nimport { Actions, Connector, ProviderConnectInfo, ProviderRpcError } from '@web3-react/types'\n\nfunction parseChainId(chainId: string) {\n  return Number.parseInt(chainId, 16)\n}\n\nexport default class JsonRpcConnector extends Connector {\n  constructor(actions: Actions, public customProvider: JsonRpcProvider) {\n    super(actions)\n    customProvider\n      .on('connect', ({ chainId }: ProviderConnectInfo): void => {\n        this.actions.update({ chainId: parseChainId(chainId) })\n      })\n      .on('disconnect', (error: ProviderRpcError): void => {\n        this.actions.reportError(error)\n      })\n      .on('chainChanged', (chainId: string): void => {\n        this.actions.update({ chainId: parseChainId(chainId) })\n      })\n      .on('accountsChanged', (accounts: string[]): void => {\n        this.actions.update({ accounts })\n      })\n  }\n\n  async activate() {\n    this.actions.startActivation()\n\n    try {\n      const [{ chainId }, accounts] = await Promise.all([\n        this.customProvider.getNetwork(),\n        this.customProvider.listAccounts(),\n      ])\n      this.actions.update({ chainId, accounts })\n    } catch (e) {\n      this.actions.reportError(e)\n    }\n  }\n}\n","import { ExternalProvider, JsonRpcProvider, Web3Provider } from '@ethersproject/providers'\nimport { initializeConnector, Web3ReactHooks } from '@web3-react/core'\nimport { EIP1193 } from '@web3-react/eip1193'\nimport { EMPTY } from '@web3-react/empty'\nimport { Connector, Provider as Eip1193Provider } from '@web3-react/types'\nimport { Url } from '@web3-react/url'\nimport { createContext, PropsWithChildren, useContext, useEffect, useMemo } from 'react'\nimport JsonRpcConnector from 'utils/JsonRpcConnector'\n\ntype Web3ContextType = {\n  connector: Connector\n  library?: (JsonRpcProvider & { provider?: ExternalProvider }) | Web3Provider\n  chainId?: ReturnType<Web3ReactHooks['useChainId']>\n  accounts?: ReturnType<Web3ReactHooks['useAccounts']>\n  account?: ReturnType<Web3ReactHooks['useAccount']>\n  active?: ReturnType<Web3ReactHooks['useIsActive']>\n  activating?: ReturnType<Web3ReactHooks['useIsActivating']>\n  error?: ReturnType<Web3ReactHooks['useError']>\n}\n\nconst [EMPTY_CONNECTOR, EMPTY_HOOKS] = initializeConnector<Connector>(() => EMPTY)\nconst EMPTY_STATE = { connector: EMPTY_CONNECTOR, hooks: EMPTY_HOOKS }\nconst EMPTY_CONTEXT: Web3ContextType = { connector: EMPTY }\nconst Web3Context = createContext(EMPTY_CONTEXT)\n\nexport default function useActiveWeb3React() {\n  return useContext(Web3Context)\n}\n\ninterface ActiveWeb3ProviderProps {\n  accounts: string[]\n  jsonRpcEndpoint?: string | JsonRpcProvider\n  provider?: Eip1193Provider | JsonRpcProvider\n}\n\nexport function ActiveWeb3Provider({\n  jsonRpcEndpoint,\n  provider,\n  children,\n  accounts,\n}: PropsWithChildren<ActiveWeb3ProviderProps>) {\n  const network = useMemo(() => {\n    if (jsonRpcEndpoint) {\n      let connector, hooks\n      if (JsonRpcProvider.isProvider(jsonRpcEndpoint)) {\n        ;[connector, hooks] = initializeConnector((actions) => new JsonRpcConnector(actions, jsonRpcEndpoint))\n      } else {\n        ;[connector, hooks] = initializeConnector((actions) => new Url(actions, jsonRpcEndpoint))\n      }\n      connector.activate()\n      return { connector, hooks }\n    }\n    return EMPTY_STATE\n  }, [jsonRpcEndpoint])\n\n  const wallet = useMemo(() => {\n    if (provider) {\n      let connector, hooks\n      if (JsonRpcProvider.isProvider(provider)) {\n        ;[connector, hooks] = initializeConnector((actions) => new JsonRpcConnector(actions, provider))\n      } else if (JsonRpcProvider.isProvider((provider as any).provider)) {\n        throw new Error('Eip1193Bridge is experimental: pass your ethers Provider directly')\n      } else {\n        ;[connector, hooks] = initializeConnector((actions) => new EIP1193(actions, provider))\n      }\n      connector.activate()\n      return { connector, hooks }\n    }\n    return EMPTY_STATE\n  }, [provider])\n\n  const { connector, hooks } = wallet.hooks.useIsActive() || network === EMPTY_STATE ? wallet : network\n  const account = accounts[0]\n  const activating = hooks.useIsActivating()\n  const active = hooks.useIsActive()\n  const chainId = hooks.useChainId()\n  const error = hooks.useError()\n  const library = hooks.useProvider()\n  const web3 = useMemo(() => {\n    if (connector === EMPTY || !(active || activating)) {\n      return EMPTY_CONTEXT\n    }\n    return { connector, library, chainId, accounts, account, active, activating, error }\n  }, [account, accounts, activating, active, chainId, connector, error, library])\n\n  // Log web3 errors to facilitate debugging.\n  useEffect(() => {\n    if (error) {\n      console.error('web3 error:', error)\n    }\n  }, [error])\n\n  return <Web3Context.Provider value={web3}>{children}</Web3Context.Provider>\n}\n","/**\n * List of all the networks supported by the Uniswap Interface\n */\nexport enum SupportedChainId {\n  MAINNET = 1,\n  ROPSTEN = 3,\n  RINKEBY = 4,\n  GOERLI = 5,\n  KOVAN = 42,\n\n  ARBITRUM_ONE = 42161,\n  ARBITRUM_RINKEBY = 421611,\n\n  OPTIMISM = 10,\n  OPTIMISTIC_KOVAN = 69,\n\n  POLYGON = 137,\n  POLYGON_MUMBAI = 80001,\n}\n\nexport const CHAIN_IDS_TO_NAMES = {\n  [SupportedChainId.MAINNET]: 'mainnet',\n  [SupportedChainId.ROPSTEN]: 'ropsten',\n  [SupportedChainId.RINKEBY]: 'rinkeby',\n  [SupportedChainId.GOERLI]: 'goerli',\n  [SupportedChainId.KOVAN]: 'kovan',\n  [SupportedChainId.POLYGON]: 'polygon',\n  [SupportedChainId.POLYGON_MUMBAI]: 'polygon_mumbai',\n  [SupportedChainId.ARBITRUM_ONE]: 'arbitrum',\n  [SupportedChainId.ARBITRUM_RINKEBY]: 'arbitrum_rinkeby',\n  [SupportedChainId.OPTIMISM]: 'optimism',\n  [SupportedChainId.OPTIMISTIC_KOVAN]: 'optimistic_kovan',\n}\n\n/**\n * Array of all the supported chain IDs\n */\nexport const ALL_SUPPORTED_CHAIN_IDS: SupportedChainId[] = Object.values(SupportedChainId).filter(\n  (id) => typeof id === 'number'\n) as SupportedChainId[]\n\nexport const SUPPORTED_GAS_ESTIMATE_CHAIN_IDS = [\n  SupportedChainId.MAINNET,\n  SupportedChainId.POLYGON,\n  SupportedChainId.OPTIMISM,\n  SupportedChainId.ARBITRUM_ONE,\n]\n\n/**\n * All the chain IDs that are running the Ethereum protocol.\n */\nexport const L1_CHAIN_IDS = [\n  SupportedChainId.MAINNET,\n  SupportedChainId.ROPSTEN,\n  SupportedChainId.RINKEBY,\n  SupportedChainId.GOERLI,\n  SupportedChainId.KOVAN,\n  SupportedChainId.POLYGON,\n  SupportedChainId.POLYGON_MUMBAI,\n] as const\n\nexport type SupportedL1ChainId = typeof L1_CHAIN_IDS[number]\n\n/**\n * Controls some L2 specific behavior, e.g. slippage tolerance, special UI behavior.\n * The expectation is that all of these networks have immediate transaction confirmation.\n */\nexport const L2_CHAIN_IDS = [\n  SupportedChainId.ARBITRUM_ONE,\n  SupportedChainId.ARBITRUM_RINKEBY,\n  SupportedChainId.OPTIMISM,\n  SupportedChainId.OPTIMISTIC_KOVAN,\n] as const\n\nexport type SupportedL2ChainId = typeof L2_CHAIN_IDS[number]\n","import { SupportedChainId } from 'constants/chains'\n\nconst DEFAULT_NETWORKS = [\n  SupportedChainId.MAINNET,\n  SupportedChainId.ROPSTEN,\n  SupportedChainId.RINKEBY,\n  SupportedChainId.GOERLI,\n  SupportedChainId.KOVAN,\n]\n\nexport function constructSameAddressMap<T extends string>(\n  address: T,\n  additionalNetworks: SupportedChainId[] = []\n): { [chainId: number]: T } {\n  return DEFAULT_NETWORKS.concat(additionalNetworks).reduce<{ [chainId: number]: T }>((memo, chainId) => {\n    memo[chainId] = address\n    return memo\n  }, {})\n}\n","import { FACTORY_ADDRESS as V2_FACTORY_ADDRESS } from '@uniswap/v2-sdk'\nimport { FACTORY_ADDRESS as V3_FACTORY_ADDRESS } from '@uniswap/v3-sdk'\nimport { constructSameAddressMap } from 'utils/constructSameAddressMap'\n\nimport { SupportedChainId } from './chains'\n\ntype AddressMap = { [chainId: number]: string }\n\nexport const UNI_ADDRESS: AddressMap = constructSameAddressMap('0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984')\nexport const MULTICALL_ADDRESS: AddressMap = {\n  ...constructSameAddressMap('0x1F98415757620B543A52E61c46B32eB19261F984', [\n    SupportedChainId.OPTIMISTIC_KOVAN,\n    SupportedChainId.OPTIMISM,\n    SupportedChainId.POLYGON_MUMBAI,\n    SupportedChainId.POLYGON,\n  ]),\n  [SupportedChainId.ARBITRUM_ONE]: '0xadF885960B47eA2CD9B55E6DAc6B42b7Cb2806dB',\n  [SupportedChainId.ARBITRUM_RINKEBY]: '0xa501c031958F579dB7676fF1CE78AD305794d579',\n}\nexport const V2_FACTORY_ADDRESSES: AddressMap = constructSameAddressMap(V2_FACTORY_ADDRESS)\n\nexport const V2_ROUTER_ADDRESS: AddressMap = constructSameAddressMap('0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D')\nexport const V3_ROUTER_ADDRESS: AddressMap = constructSameAddressMap('0xE592427A0AEce92De3Edee1F18E0157C05861564', [\n  SupportedChainId.OPTIMISM,\n  SupportedChainId.OPTIMISTIC_KOVAN,\n  SupportedChainId.ARBITRUM_ONE,\n  SupportedChainId.ARBITRUM_RINKEBY,\n  SupportedChainId.POLYGON,\n  SupportedChainId.POLYGON_MUMBAI,\n])\nexport const SWAP_ROUTER_ADDRESSES: AddressMap = constructSameAddressMap('0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45', [\n  SupportedChainId.OPTIMISM,\n  SupportedChainId.OPTIMISTIC_KOVAN,\n  SupportedChainId.ARBITRUM_ONE,\n  SupportedChainId.ARBITRUM_RINKEBY,\n  SupportedChainId.POLYGON,\n  SupportedChainId.POLYGON_MUMBAI,\n])\n\n/**\n * The oldest V0 governance address\n */\nexport const GOVERNANCE_ALPHA_V0_ADDRESSES: AddressMap = constructSameAddressMap(\n  '0x5e4be8Bc9637f0EAA1A755019e06A68ce081D58F'\n)\n/**\n * The older V1 governance address\n */\nexport const GOVERNANCE_ALPHA_V1_ADDRESSES: AddressMap = {\n  [SupportedChainId.MAINNET]: '0xC4e172459f1E7939D522503B81AFAaC1014CE6F6',\n}\n/**\n * The latest governor bravo that is currently admin of timelock\n */\nexport const GOVERNANCE_BRAVO_ADDRESSES: AddressMap = {\n  [SupportedChainId.MAINNET]: '0x408ED6354d4973f66138C91495F2f2FCbd8724C3',\n}\n\nexport const TIMELOCK_ADDRESS: AddressMap = constructSameAddressMap('0x1a9C8182C09F50C8318d769245beA52c32BE35BC')\n\nexport const MERKLE_DISTRIBUTOR_ADDRESS: AddressMap = {\n  [SupportedChainId.MAINNET]: '0x090D4613473dEE047c3f2706764f49E0821D256e',\n}\nexport const ARGENT_WALLET_DETECTOR_ADDRESS: AddressMap = {\n  [SupportedChainId.MAINNET]: '0xeca4B0bDBf7c55E9b7925919d03CbF8Dc82537E8',\n}\nexport const V3_CORE_FACTORY_ADDRESSES: AddressMap = constructSameAddressMap(V3_FACTORY_ADDRESS, [\n  SupportedChainId.OPTIMISM,\n  SupportedChainId.OPTIMISTIC_KOVAN,\n  SupportedChainId.ARBITRUM_ONE,\n  SupportedChainId.ARBITRUM_RINKEBY,\n  SupportedChainId.POLYGON_MUMBAI,\n  SupportedChainId.POLYGON,\n])\nexport const QUOTER_ADDRESSES: AddressMap = constructSameAddressMap('0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6', [\n  SupportedChainId.OPTIMISM,\n  SupportedChainId.OPTIMISTIC_KOVAN,\n  SupportedChainId.ARBITRUM_ONE,\n  SupportedChainId.ARBITRUM_RINKEBY,\n  SupportedChainId.POLYGON_MUMBAI,\n  SupportedChainId.POLYGON,\n])\nexport const NONFUNGIBLE_POSITION_MANAGER_ADDRESSES: AddressMap = constructSameAddressMap(\n  '0xC36442b4a4522E871399CD717aBDD847Ab11FE88',\n  [\n    SupportedChainId.OPTIMISM,\n    SupportedChainId.OPTIMISTIC_KOVAN,\n    SupportedChainId.ARBITRUM_ONE,\n    SupportedChainId.ARBITRUM_RINKEBY,\n    SupportedChainId.POLYGON_MUMBAI,\n    SupportedChainId.POLYGON,\n  ]\n)\nexport const ENS_REGISTRAR_ADDRESSES: AddressMap = {\n  [SupportedChainId.MAINNET]: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e',\n  [SupportedChainId.ROPSTEN]: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e',\n  [SupportedChainId.GOERLI]: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e',\n  [SupportedChainId.RINKEBY]: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e',\n}\nexport const SOCKS_CONTROLLER_ADDRESSES: AddressMap = {\n  [SupportedChainId.MAINNET]: '0x65770b5283117639760beA3F867b69b3697a91dd',\n}\n\nexport const V3_MIGRATOR_ADDRESSES: AddressMap = constructSameAddressMap('0xA5644E29708357803b5A882D272c41cC0dF92B34', [\n  SupportedChainId.ARBITRUM_ONE,\n  SupportedChainId.ARBITRUM_RINKEBY,\n  SupportedChainId.POLYGON_MUMBAI,\n  SupportedChainId.POLYGON,\n])\n\nexport const TICK_LENS_ADDRESSES: AddressMap = {\n  [SupportedChainId.ARBITRUM_ONE]: '0xbfd8137f7d1516D3ea5cA83523914859ec47F573',\n  [SupportedChainId.ARBITRUM_RINKEBY]: '0xbfd8137f7d1516D3ea5cA83523914859ec47F573',\n}\n","import { Currency, Ether, NativeCurrency, Token, WETH9 } from '@uniswap/sdk-core'\nimport invariant from 'tiny-invariant'\n\nimport { UNI_ADDRESS } from './addresses'\nimport { SupportedChainId } from './chains'\n\nexport const USDC_MAINNET = new Token(\n  SupportedChainId.MAINNET,\n  '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',\n  6,\n  'USDC',\n  'USD//C'\n)\nexport const USDC_ROPSTEN = new Token(\n  SupportedChainId.ROPSTEN,\n  '0x07865c6e87b9f70255377e024ace6630c1eaa37f',\n  6,\n  'USDC',\n  'USD//C'\n)\nexport const USDC_RINKEBY = new Token(\n  SupportedChainId.RINKEBY,\n  '0x4DBCdF9B62e891a7cec5A2568C3F4FAF9E8Abe2b',\n  6,\n  'tUSDC',\n  'test USD//C'\n)\nexport const USDC_GOERLI = new Token(\n  SupportedChainId.GOERLI,\n  '0x07865c6e87b9f70255377e024ace6630c1eaa37f',\n  6,\n  'USDC',\n  'USD//C'\n)\nexport const USDC_KOVAN = new Token(\n  SupportedChainId.KOVAN,\n  '0x31eeb2d0f9b6fd8642914ab10f4dd473677d80df',\n  6,\n  'USDC',\n  'USD//C'\n)\nexport const USDC_OPTIMISM = new Token(\n  SupportedChainId.OPTIMISM,\n  '0x7F5c764cBc14f9669B88837ca1490cCa17c31607',\n  6,\n  'USDC',\n  'USD//C'\n)\nexport const USDC_OPTIMISTIC_KOVAN = new Token(\n  SupportedChainId.OPTIMISTIC_KOVAN,\n  '0x3b8e53b3ab8e01fb57d0c9e893bc4d655aa67d84',\n  6,\n  'USDC',\n  'USD//C'\n)\nexport const USDC_ARBITRUM = new Token(\n  SupportedChainId.ARBITRUM_ONE,\n  '0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8',\n  6,\n  'USDC',\n  'USD//C'\n)\nexport const USDC_ARBITRUM_RINKEBY = new Token(\n  SupportedChainId.ARBITRUM_RINKEBY,\n  '0x09b98f8b2395d076514037ff7d39a091a536206c',\n  6,\n  'USDC',\n  'USD//C'\n)\nexport const USDC_POLYGON = new Token(\n  SupportedChainId.POLYGON,\n  '0x2791bca1f2de4661ed88a30c99a7a9449aa84174',\n  6,\n  'USDC',\n  'USD//C'\n)\nexport const USDC_POLYGON_MUMBAI = new Token(\n  SupportedChainId.POLYGON_MUMBAI,\n  '0xe11a86849d99f524cac3e7a0ec1241828e332c62',\n  6,\n  'USDC',\n  'USD//C'\n)\n\nexport const AMPL = new Token(\n  SupportedChainId.MAINNET,\n  '0xD46bA6D942050d489DBd938a2C909A5d5039A161',\n  9,\n  'AMPL',\n  'Ampleforth'\n)\nexport const DAI = new Token(\n  SupportedChainId.MAINNET,\n  '0x6B175474E89094C44Da98b954EedeAC495271d0F',\n  18,\n  'DAI',\n  'Dai Stablecoin'\n)\nexport const DAI_ARBITRUM_ONE = new Token(\n  SupportedChainId.ARBITRUM_ONE,\n  '0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1',\n  18,\n  'DAI',\n  'Dai stable coin'\n)\nexport const DAI_OPTIMISM = new Token(\n  SupportedChainId.OPTIMISM,\n  '0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1',\n  18,\n  'DAI',\n  'Dai stable coin'\n)\nexport const USDC: { [chainId in SupportedChainId]: Token } = {\n  [SupportedChainId.MAINNET]: USDC_MAINNET,\n  [SupportedChainId.ARBITRUM_ONE]: USDC_ARBITRUM,\n  [SupportedChainId.OPTIMISM]: USDC_OPTIMISM,\n  [SupportedChainId.ARBITRUM_RINKEBY]: USDC_ARBITRUM_RINKEBY,\n  [SupportedChainId.OPTIMISTIC_KOVAN]: USDC_OPTIMISTIC_KOVAN,\n  [SupportedChainId.POLYGON]: USDC_POLYGON,\n  [SupportedChainId.POLYGON_MUMBAI]: USDC_POLYGON_MUMBAI,\n  [SupportedChainId.GOERLI]: USDC_GOERLI,\n  [SupportedChainId.RINKEBY]: USDC_RINKEBY,\n  [SupportedChainId.KOVAN]: USDC_KOVAN,\n  [SupportedChainId.ROPSTEN]: USDC_ROPSTEN,\n}\nexport const DAI_POLYGON = new Token(\n  SupportedChainId.POLYGON,\n  '0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063',\n  18,\n  'DAI',\n  'Dai Stablecoin'\n)\nexport const USDT_POLYGON = new Token(\n  SupportedChainId.POLYGON,\n  '0xc2132d05d31c914a87c6611c10748aeb04b58e8f',\n  6,\n  'USDT',\n  'Tether USD'\n)\nexport const WBTC_POLYGON = new Token(\n  SupportedChainId.POLYGON,\n  '0x1bfd67037b42cf73acf2047067bd4f2c47d9bfd6',\n  8,\n  'WBTC',\n  'Wrapped BTC'\n)\nexport const USDT = new Token(\n  SupportedChainId.MAINNET,\n  '0xdAC17F958D2ee523a2206206994597C13D831ec7',\n  6,\n  'USDT',\n  'Tether USD'\n)\nexport const USDT_ARBITRUM_ONE = new Token(\n  SupportedChainId.ARBITRUM_ONE,\n  '0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9',\n  6,\n  'USDT',\n  'Tether USD'\n)\nexport const USDT_OPTIMISM = new Token(\n  SupportedChainId.OPTIMISM,\n  '0x94b008aA00579c1307B0EF2c499aD98a8ce58e58',\n  6,\n  'USDT',\n  'Tether USD'\n)\nexport const WBTC = new Token(\n  SupportedChainId.MAINNET,\n  '0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599',\n  8,\n  'WBTC',\n  'Wrapped BTC'\n)\nexport const WBTC_ARBITRUM_ONE = new Token(\n  SupportedChainId.ARBITRUM_ONE,\n  '0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f',\n  8,\n  'WBTC',\n  'Wrapped BTC'\n)\nexport const WBTC_OPTIMISM = new Token(\n  SupportedChainId.OPTIMISM,\n  '0x68f180fcCe6836688e9084f035309E29Bf0A2095',\n  8,\n  'WBTC',\n  'Wrapped BTC'\n)\nexport const FEI = new Token(\n  SupportedChainId.MAINNET,\n  '0x956F47F50A910163D8BF957Cf5846D573E7f87CA',\n  18,\n  'FEI',\n  'Fei USD'\n)\nexport const TRIBE = new Token(\n  SupportedChainId.MAINNET,\n  '0xc7283b66Eb1EB5FB86327f08e1B5816b0720212B',\n  18,\n  'TRIBE',\n  'Tribe'\n)\nexport const FRAX = new Token(\n  SupportedChainId.MAINNET,\n  '0x853d955aCEf822Db058eb8505911ED77F175b99e',\n  18,\n  'FRAX',\n  'Frax'\n)\nexport const FXS = new Token(\n  SupportedChainId.MAINNET,\n  '0x3432B6A60D23Ca0dFCa7761B7ab56459D9C964D0',\n  18,\n  'FXS',\n  'Frax Share'\n)\nexport const renBTC = new Token(\n  SupportedChainId.MAINNET,\n  '0xEB4C2781e4ebA804CE9a9803C67d0893436bB27D',\n  8,\n  'renBTC',\n  'renBTC'\n)\nexport const ETH2X_FLI = new Token(\n  SupportedChainId.MAINNET,\n  '0xAa6E8127831c9DE45ae56bB1b0d4D4Da6e5665BD',\n  18,\n  'ETH2x-FLI',\n  'ETH 2x Flexible Leverage Index'\n)\nexport const sETH2 = new Token(\n  SupportedChainId.MAINNET,\n  '0xFe2e637202056d30016725477c5da089Ab0A043A',\n  18,\n  'sETH2',\n  'StakeWise Staked ETH2'\n)\nexport const rETH2 = new Token(\n  SupportedChainId.MAINNET,\n  '0x20BC832ca081b91433ff6c17f85701B6e92486c5',\n  18,\n  'rETH2',\n  'StakeWise Reward ETH2'\n)\nexport const SWISE = new Token(\n  SupportedChainId.MAINNET,\n  '0x48C3399719B582dD63eB5AADf12A40B4C3f52FA2',\n  18,\n  'SWISE',\n  'StakeWise'\n)\nexport const WETH_POLYGON_MUMBAI = new Token(\n  SupportedChainId.POLYGON_MUMBAI,\n  '0xa6fa4fb5f76172d178d61b04b0ecd319c5d1c0aa',\n  18,\n  'WETH',\n  'Wrapped Ether'\n)\n\nexport const WETH_POLYGON = new Token(\n  SupportedChainId.POLYGON,\n  '0x7ceb23fd6bc0add59e62ac25578270cff1b9f619',\n  18,\n  'WETH',\n  'Wrapped Ether'\n)\nexport const UNI: { [chainId: number]: Token } = {\n  [SupportedChainId.MAINNET]: new Token(SupportedChainId.MAINNET, UNI_ADDRESS[1], 18, 'UNI', 'Uniswap'),\n  [SupportedChainId.RINKEBY]: new Token(SupportedChainId.RINKEBY, UNI_ADDRESS[4], 18, 'UNI', 'Uniswap'),\n  [SupportedChainId.ROPSTEN]: new Token(SupportedChainId.ROPSTEN, UNI_ADDRESS[3], 18, 'UNI', 'Uniswap'),\n  [SupportedChainId.GOERLI]: new Token(SupportedChainId.GOERLI, UNI_ADDRESS[5], 18, 'UNI', 'Uniswap'),\n  [SupportedChainId.KOVAN]: new Token(SupportedChainId.KOVAN, UNI_ADDRESS[42], 18, 'UNI', 'Uniswap'),\n}\n\nexport const WRAPPED_NATIVE_CURRENCY: { [chainId: number]: Token | undefined } = {\n  ...(WETH9 as Record<SupportedChainId, Token>),\n  [SupportedChainId.OPTIMISM]: new Token(\n    SupportedChainId.OPTIMISM,\n    '0x4200000000000000000000000000000000000006',\n    18,\n    'WETH',\n    'Wrapped Ether'\n  ),\n  [SupportedChainId.OPTIMISTIC_KOVAN]: new Token(\n    SupportedChainId.OPTIMISTIC_KOVAN,\n    '0x4200000000000000000000000000000000000006',\n    18,\n    'WETH',\n    'Wrapped Ether'\n  ),\n  [SupportedChainId.ARBITRUM_ONE]: new Token(\n    SupportedChainId.ARBITRUM_ONE,\n    '0x82aF49447D8a07e3bd95BD0d56f35241523fBab1',\n    18,\n    'WETH',\n    'Wrapped Ether'\n  ),\n  [SupportedChainId.ARBITRUM_RINKEBY]: new Token(\n    SupportedChainId.ARBITRUM_RINKEBY,\n    '0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681',\n    18,\n    'WETH',\n    'Wrapped Ether'\n  ),\n  [SupportedChainId.POLYGON]: new Token(\n    SupportedChainId.POLYGON,\n    '0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270',\n    18,\n    'WMATIC',\n    'Wrapped MATIC'\n  ),\n  [SupportedChainId.POLYGON_MUMBAI]: new Token(\n    SupportedChainId.POLYGON_MUMBAI,\n    '0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889',\n    18,\n    'WMATIC',\n    'Wrapped MATIC'\n  ),\n}\n\nfunction isMatic(chainId: number): chainId is SupportedChainId.POLYGON | SupportedChainId.POLYGON_MUMBAI {\n  return chainId === SupportedChainId.POLYGON_MUMBAI || chainId === SupportedChainId.POLYGON\n}\n\nclass MaticNativeCurrency extends NativeCurrency {\n  equals(other: Currency): boolean {\n    return other.isNative && other.chainId === this.chainId\n  }\n\n  get wrapped(): Token {\n    if (!isMatic(this.chainId)) throw new Error('Not matic')\n    const wrapped = WRAPPED_NATIVE_CURRENCY[this.chainId]\n    invariant(wrapped instanceof Token)\n    return wrapped\n  }\n\n  public constructor(chainId: number) {\n    if (!isMatic(chainId)) throw new Error('Not matic')\n    super(chainId, 18, 'MATIC', 'Polygon Matic')\n  }\n}\n\nexport class ExtendedEther extends Ether {\n  public get wrapped(): Token {\n    const wrapped = WRAPPED_NATIVE_CURRENCY[this.chainId]\n    if (wrapped) return wrapped\n    throw new Error('Unsupported chain ID')\n  }\n\n  private static _cachedExtendedEther: { [chainId: number]: NativeCurrency } = {}\n\n  public static onChain(chainId: number): ExtendedEther {\n    return this._cachedExtendedEther[chainId] ?? (this._cachedExtendedEther[chainId] = new ExtendedEther(chainId))\n  }\n}\n\nconst cachedNativeCurrency: { [chainId: number]: NativeCurrency } = {}\nexport function nativeOnChain(chainId: number): NativeCurrency {\n  return (\n    cachedNativeCurrency[chainId] ??\n    (cachedNativeCurrency[chainId] = isMatic(chainId)\n      ? new MaticNativeCurrency(chainId)\n      : ExtendedEther.onChain(chainId))\n  )\n}\n\nexport const TOKEN_SHORTHANDS: { [shorthand: string]: { [chainId in SupportedChainId]?: string } } = {\n  USDC: {\n    [SupportedChainId.MAINNET]: USDC_MAINNET.address,\n    [SupportedChainId.ARBITRUM_ONE]: USDC_ARBITRUM.address,\n    [SupportedChainId.OPTIMISM]: USDC_OPTIMISM.address,\n    [SupportedChainId.ARBITRUM_RINKEBY]: USDC_ARBITRUM_RINKEBY.address,\n    [SupportedChainId.OPTIMISTIC_KOVAN]: USDC_OPTIMISTIC_KOVAN.address,\n    [SupportedChainId.POLYGON]: USDC_POLYGON.address,\n    [SupportedChainId.POLYGON_MUMBAI]: USDC_POLYGON_MUMBAI.address,\n    [SupportedChainId.GOERLI]: USDC_GOERLI.address,\n    [SupportedChainId.RINKEBY]: USDC_RINKEBY.address,\n    [SupportedChainId.KOVAN]: USDC_KOVAN.address,\n    [SupportedChainId.ROPSTEN]: USDC_ROPSTEN.address,\n  },\n}\n","import { useCallback, useEffect, useState } from 'react'\n\nfunction isVisibilityStateSupported() {\n  return 'visibilityState' in document\n}\n\nfunction isWindowVisible() {\n  return !isVisibilityStateSupported() || document.visibilityState !== 'hidden'\n}\n\n/**\n * Returns whether the window is currently visible to the user.\n */\nexport default function useIsWindowVisible(): boolean {\n  const [focused, setFocused] = useState<boolean>(false)\n  const listener = useCallback(() => {\n    setFocused(isWindowVisible())\n  }, [setFocused])\n\n  useEffect(() => {\n    if (!isVisibilityStateSupported()) return undefined\n    setFocused((focused) => isWindowVisible())\n\n    document.addEventListener('visibilitychange', listener)\n    return () => {\n      document.removeEventListener('visibilitychange', listener)\n    }\n  }, [listener])\n\n  return focused\n}\n","import useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport useIsWindowVisible from 'hooks/useIsWindowVisible'\nimport { createContext, ReactNode, useCallback, useContext, useEffect, useMemo, useState } from 'react'\n\nconst MISSING_PROVIDER = Symbol()\nconst BlockNumberContext = createContext<\n  | {\n      value?: number\n      fastForward(block: number): void\n    }\n  | typeof MISSING_PROVIDER\n>(MISSING_PROVIDER)\n\nfunction useBlockNumberContext() {\n  const blockNumber = useContext(BlockNumberContext)\n  if (blockNumber === MISSING_PROVIDER) {\n    throw new Error('BlockNumber hooks must be wrapped in a <BlockNumberProvider>')\n  }\n  return blockNumber\n}\n\n/** Requires that BlockUpdater be installed in the DOM tree. */\nexport default function useBlockNumber(): number | undefined {\n  return useBlockNumberContext().value\n}\n\nexport function useFastForwardBlockNumber(): (block: number) => void {\n  return useBlockNumberContext().fastForward\n}\n\nexport function BlockNumberProvider({ children }: { children: ReactNode }) {\n  const { chainId: activeChainId, library } = useActiveWeb3React()\n  const [{ chainId, block }, setChainBlock] = useState<{ chainId?: number; block?: number }>({ chainId: activeChainId })\n\n  const onBlock = useCallback(\n    (block: number) => {\n      setChainBlock((chainBlock) => {\n        if (chainBlock.chainId === activeChainId) {\n          if (!chainBlock.block || chainBlock.block < block) {\n            return { chainId: activeChainId, block }\n          }\n        }\n        return chainBlock\n      })\n    },\n    [activeChainId, setChainBlock]\n  )\n\n  const windowVisible = useIsWindowVisible()\n  useEffect(() => {\n    if (library && activeChainId && windowVisible) {\n      // If chainId hasn't changed, don't clear the block. This prevents re-fetching still valid data.\n      setChainBlock((chainBlock) => (chainBlock.chainId === activeChainId ? chainBlock : { chainId: activeChainId }))\n\n      let stale = false\n      library\n        .getBlockNumber()\n        .then((block) => {\n          if (stale) return\n          onBlock(block)\n        })\n        .catch((error) => {\n          console.error(`Failed to get block number for chainId ${activeChainId}`, error)\n        })\n\n      library.on('block', onBlock)\n      return () => {\n        stale = true\n        library.off('block', onBlock)\n      }\n    }\n    return undefined\n  }, [activeChainId, library, onBlock, setChainBlock, windowVisible])\n\n  const value = useMemo(\n    () => ({\n      value: chainId === activeChainId ? block : undefined,\n      fastForward: (block: number) => setChainBlock({ chainId: activeChainId, block }),\n    }),\n    [activeChainId, block, chainId]\n  )\n  return <BlockNumberContext.Provider value={value}>{children}</BlockNumberContext.Provider>\n}\n","import { getAddress } from '@ethersproject/address'\nimport { AddressZero } from '@ethersproject/constants'\nimport { Contract } from '@ethersproject/contracts'\nimport { JsonRpcProvider, JsonRpcSigner } from '@ethersproject/providers'\nimport { Token } from '@uniswap/sdk-core'\nimport { FeeAmount } from '@uniswap/v3-sdk'\nimport { ChainTokenMap } from 'hooks/useTokenList/utils'\n\n// returns the checksummed address if the address is valid, otherwise returns false\nexport function isAddress(value: any): string | false {\n  try {\n    return getAddress(value)\n  } catch {\n    return false\n  }\n}\n\n// shorten the checksummed version of the input address to have 0x + 4 characters at start and end\nexport function shortenAddress(address: string, chars = 4): string {\n  const parsed = isAddress(address)\n  if (!parsed) {\n    throw Error(`Invalid 'address' parameter '${address}'.`)\n  }\n  return `${parsed.substring(0, chars + 2)}...${parsed.substring(42 - chars)}`\n}\n\n// account is not optional\nfunction getSigner(library: JsonRpcProvider, account: string): JsonRpcSigner {\n  return library.getSigner(account).connectUnchecked()\n}\n\n// account is optional\nfunction getProviderOrSigner(library: JsonRpcProvider, account?: string): JsonRpcProvider | JsonRpcSigner {\n  return account ? getSigner(library, account) : library\n}\n\n// account is optional\nexport function getContract(address: string, ABI: any, library: JsonRpcProvider, account?: string): Contract {\n  if (!isAddress(address) || address === AddressZero) {\n    throw Error(`Invalid 'address' parameter '${address}'.`)\n  }\n\n  return new Contract(address, ABI, getProviderOrSigner(library, account) as any)\n}\n\nexport function escapeRegExp(string: string): string {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') // $& means the whole matched string\n}\n\nexport function isTokenOnList(chainTokenMap: ChainTokenMap, token?: Token): boolean {\n  return Boolean(token?.isToken && chainTokenMap[token.chainId]?.[token.address])\n}\n\nexport function formattedFeeAmount(feeAmount: FeeAmount): number {\n  return feeAmount / 10000\n}\n","import { Contract } from '@ethersproject/contracts'\nimport IUniswapV2PairJson from '@uniswap/v2-core/build/IUniswapV2Pair.json'\nimport IUniswapV2Router02Json from '@uniswap/v2-periphery/build/IUniswapV2Router02.json'\nimport QuoterJson from '@uniswap/v3-periphery/artifacts/contracts/lens/Quoter.sol/Quoter.json'\nimport TickLensJson from '@uniswap/v3-periphery/artifacts/contracts/lens/TickLens.sol/TickLens.json'\nimport UniswapInterfaceMulticallJson from '@uniswap/v3-periphery/artifacts/contracts/lens/UniswapInterfaceMulticall.sol/UniswapInterfaceMulticall.json'\nimport NonfungiblePositionManagerJson from '@uniswap/v3-periphery/artifacts/contracts/NonfungiblePositionManager.sol/NonfungiblePositionManager.json'\nimport V3MigratorJson from '@uniswap/v3-periphery/artifacts/contracts/V3Migrator.sol/V3Migrator.json'\nimport ARGENT_WALLET_DETECTOR_ABI from 'abis/argent-wallet-detector.json'\nimport EIP_2612 from 'abis/eip_2612.json'\nimport ENS_PUBLIC_RESOLVER_ABI from 'abis/ens-public-resolver.json'\nimport ENS_ABI from 'abis/ens-registrar.json'\nimport ERC20_ABI from 'abis/erc20.json'\nimport ERC20_BYTES32_ABI from 'abis/erc20_bytes32.json'\nimport ERC721_ABI from 'abis/erc721.json'\nimport ERC1155_ABI from 'abis/erc1155.json'\nimport { ArgentWalletDetector, EnsPublicResolver, EnsRegistrar, Erc20, Erc721, Erc1155, Weth } from 'abis/types'\nimport WETH_ABI from 'abis/weth.json'\nimport {\n  ARGENT_WALLET_DETECTOR_ADDRESS,\n  ENS_REGISTRAR_ADDRESSES,\n  MULTICALL_ADDRESS,\n  NONFUNGIBLE_POSITION_MANAGER_ADDRESSES,\n  QUOTER_ADDRESSES,\n  TICK_LENS_ADDRESSES,\n  V2_ROUTER_ADDRESS,\n  V3_MIGRATOR_ADDRESSES,\n} from 'constants/addresses'\nimport { WRAPPED_NATIVE_CURRENCY } from 'constants/tokens'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useMemo } from 'react'\nimport { NonfungiblePositionManager, Quoter, TickLens, UniswapInterfaceMulticall } from 'types/v3'\nimport { V3Migrator } from 'types/v3/V3Migrator'\nimport { getContract } from 'utils'\n\nconst { abi: IUniswapV2PairABI } = IUniswapV2PairJson\nconst { abi: IUniswapV2Router02ABI } = IUniswapV2Router02Json\nconst { abi: QuoterABI } = QuoterJson\nconst { abi: TickLensABI } = TickLensJson\nconst { abi: MulticallABI } = UniswapInterfaceMulticallJson\nconst { abi: NFTPositionManagerABI } = NonfungiblePositionManagerJson\nconst { abi: V2MigratorABI } = V3MigratorJson\n\n// returns null on errors\nexport function useContract<T extends Contract = Contract>(\n  addressOrAddressMap: string | { [chainId: number]: string } | undefined,\n  ABI: any,\n  withSignerIfPossible = true\n): T | null {\n  const { library, account, chainId } = useActiveWeb3React()\n\n  return useMemo(() => {\n    if (!addressOrAddressMap || !ABI || !library || !chainId) return null\n    let address: string | undefined\n    if (typeof addressOrAddressMap === 'string') address = addressOrAddressMap\n    else address = addressOrAddressMap[chainId]\n    if (!address) return null\n    try {\n      return getContract(address, ABI, library, withSignerIfPossible && account ? account : undefined)\n    } catch (error) {\n      console.error('Failed to get contract', error)\n      return null\n    }\n  }, [addressOrAddressMap, ABI, library, chainId, withSignerIfPossible, account]) as T\n}\n\nexport function useV2MigratorContract() {\n  return useContract<V3Migrator>(V3_MIGRATOR_ADDRESSES, V2MigratorABI, true)\n}\n\nexport function useTokenContract(tokenAddress?: string, withSignerIfPossible?: boolean) {\n  return useContract<Erc20>(tokenAddress, ERC20_ABI, withSignerIfPossible)\n}\n\nexport function useWETHContract(withSignerIfPossible?: boolean) {\n  const { chainId } = useActiveWeb3React()\n  return useContract<Weth>(\n    chainId ? WRAPPED_NATIVE_CURRENCY[chainId]?.address : undefined,\n    WETH_ABI,\n    withSignerIfPossible\n  )\n}\n\nexport function useERC721Contract(nftAddress?: string) {\n  return useContract<Erc721>(nftAddress, ERC721_ABI, false)\n}\n\nexport function useERC1155Contract(nftAddress?: string) {\n  return useContract<Erc1155>(nftAddress, ERC1155_ABI, false)\n}\n\nexport function useArgentWalletDetectorContract() {\n  return useContract<ArgentWalletDetector>(ARGENT_WALLET_DETECTOR_ADDRESS, ARGENT_WALLET_DETECTOR_ABI, false)\n}\n\nexport function useENSRegistrarContract(withSignerIfPossible?: boolean) {\n  return useContract<EnsRegistrar>(ENS_REGISTRAR_ADDRESSES, ENS_ABI, withSignerIfPossible)\n}\n\nexport function useENSResolverContract(address: string | undefined, withSignerIfPossible?: boolean) {\n  return useContract<EnsPublicResolver>(address, ENS_PUBLIC_RESOLVER_ABI, withSignerIfPossible)\n}\n\nexport function useBytes32TokenContract(tokenAddress?: string, withSignerIfPossible?: boolean): Contract | null {\n  return useContract(tokenAddress, ERC20_BYTES32_ABI, withSignerIfPossible)\n}\n\nexport function useEIP2612Contract(tokenAddress?: string): Contract | null {\n  return useContract(tokenAddress, EIP_2612, false)\n}\n\nexport function usePairContract(pairAddress?: string, withSignerIfPossible?: boolean): Contract | null {\n  return useContract(pairAddress, IUniswapV2PairABI, withSignerIfPossible)\n}\n\nexport function useV2RouterContract(): Contract | null {\n  return useContract(V2_ROUTER_ADDRESS, IUniswapV2Router02ABI, true)\n}\n\nexport function useInterfaceMulticall() {\n  return useContract<UniswapInterfaceMulticall>(MULTICALL_ADDRESS, MulticallABI, false) as UniswapInterfaceMulticall\n}\n\nexport function useV3NFTPositionManagerContract(withSignerIfPossible?: boolean): NonfungiblePositionManager | null {\n  return useContract<NonfungiblePositionManager>(\n    NONFUNGIBLE_POSITION_MANAGER_ADDRESSES,\n    NFTPositionManagerABI,\n    withSignerIfPossible\n  )\n}\n\nexport function useV3Quoter() {\n  return useContract<Quoter>(QUOTER_ADDRESSES, QuoterABI)\n}\n\nexport function useTickLens(): TickLens | null {\n  const { chainId } = useActiveWeb3React()\n  const address = chainId ? TICK_LENS_ADDRESSES[chainId] : undefined\n  return useContract(address, TickLensABI) as TickLens | null\n}\n","import { createMulticall } from '@uniswap/redux-multicall'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport useBlockNumber from 'hooks/useBlockNumber'\nimport { useInterfaceMulticall } from 'hooks/useContract'\nimport { combineReducers, createStore } from 'redux'\n\nconst multicall = createMulticall()\nconst reducer = combineReducers({ [multicall.reducerPath]: multicall.reducer })\nexport const store = createStore(reducer)\n\nexport default multicall\n\nexport function MulticallUpdater() {\n  const { chainId } = useActiveWeb3React()\n  const latestBlockNumber = useBlockNumber()\n  const contract = useInterfaceMulticall()\n  return <multicall.Updater chainId={chainId} latestBlockNumber={latestBlockNumber} contract={contract} />\n}\n","import useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport useBlockNumber from 'hooks/useBlockNumber'\nimport multicall from 'state/multicall'\n\nexport type { CallStateResult } from '@uniswap/redux-multicall' // re-export for convenience\nexport { NEVER_RELOAD } from '@uniswap/redux-multicall' // re-export for convenience\n\n// Create wrappers for hooks so consumers don't need to get latest block themselves\n\ntype MulticallParams<T extends (chainId: number | undefined, latestBlock: number | undefined, ...args: any) => any> =\n  Parameters<T> extends [any, any, ...infer P] ? P : never\n\nexport function useMultipleContractSingleData(\n  ...args: MulticallParams<typeof multicall.hooks.useMultipleContractSingleData>\n) {\n  const { chainId, latestBlock } = useCallContext()\n  return multicall.hooks.useMultipleContractSingleData(chainId, latestBlock, ...args)\n}\n\nexport function useSingleCallResult(...args: MulticallParams<typeof multicall.hooks.useSingleCallResult>) {\n  const { chainId, latestBlock } = useCallContext()\n  return multicall.hooks.useSingleCallResult(chainId, latestBlock, ...args)\n}\n\nexport function useSingleContractMultipleData(\n  ...args: MulticallParams<typeof multicall.hooks.useSingleContractMultipleData>\n) {\n  const { chainId, latestBlock } = useCallContext()\n  return multicall.hooks.useSingleContractMultipleData(chainId, latestBlock, ...args)\n}\n\nexport function useSingleContractWithCallData(\n  ...args: MulticallParams<typeof multicall.hooks.useSingleContractWithCallData>\n) {\n  const { chainId, latestBlock } = useCallContext()\n  return multicall.hooks.useSingleContractWithCallData(chainId, latestBlock, ...args)\n}\n\nfunction useCallContext() {\n  const { chainId } = useActiveWeb3React()\n  const latestBlock = useBlockNumber()\n  return { chainId, latestBlock }\n}\n","import { Interface } from '@ethersproject/abi'\nimport { Currency, CurrencyAmount, Token } from '@uniswap/sdk-core'\nimport ERC20ABI from 'abis/erc20.json'\nimport { Erc20Interface } from 'abis/types/Erc20'\nimport { nativeOnChain } from 'constants/tokens'\nimport { useMultipleContractSingleData, useSingleContractMultipleData } from 'hooks/multicall'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useInterfaceMulticall } from 'hooks/useContract'\nimport JSBI from 'jsbi'\nimport { useMemo } from 'react'\nimport { isAddress } from 'utils'\n\n/**\n * Returns a map of the given addresses to their eventually consistent ETH balances.\n */\nexport function useNativeCurrencyBalances(uncheckedAddresses?: (string | undefined)[]): {\n  [address: string]: CurrencyAmount<Currency> | undefined\n} {\n  const { chainId } = useActiveWeb3React()\n  const multicallContract = useInterfaceMulticall()\n\n  const validAddressInputs: [string][] = useMemo(\n    () =>\n      uncheckedAddresses\n        ? uncheckedAddresses\n            .map(isAddress)\n            .filter((a): a is string => a !== false)\n            .sort()\n            .map((addr) => [addr])\n        : [],\n    [uncheckedAddresses]\n  )\n\n  const results = useSingleContractMultipleData(multicallContract, 'getEthBalance', validAddressInputs)\n\n  return useMemo(\n    () =>\n      validAddressInputs.reduce<{ [address: string]: CurrencyAmount<Currency> }>((memo, [address], i) => {\n        const value = results?.[i]?.result?.[0]\n        if (value && chainId)\n          memo[address] = CurrencyAmount.fromRawAmount(nativeOnChain(chainId), JSBI.BigInt(value.toString()))\n        return memo\n      }, {}),\n    [validAddressInputs, chainId, results]\n  )\n}\n\nconst ERC20Interface = new Interface(ERC20ABI) as Erc20Interface\nconst tokenBalancesGasRequirement = { gasRequired: 185_000 }\n\n/**\n * Returns a map of token addresses to their eventually consistent token balances for a single account.\n */\nexport function useTokenBalancesWithLoadingIndicator(\n  address?: string,\n  tokens?: (Token | undefined)[]\n): [{ [tokenAddress: string]: CurrencyAmount<Token> | undefined }, boolean] {\n  const validatedTokens: Token[] = useMemo(\n    () => tokens?.filter((t?: Token): t is Token => isAddress(t?.address) !== false) ?? [],\n    [tokens]\n  )\n  const validatedTokenAddresses = useMemo(() => validatedTokens.map((vt) => vt.address), [validatedTokens])\n\n  const balances = useMultipleContractSingleData(\n    validatedTokenAddresses,\n    ERC20Interface,\n    'balanceOf',\n    useMemo(() => [address], [address]),\n    tokenBalancesGasRequirement\n  )\n\n  const anyLoading: boolean = useMemo(() => balances.some((callState) => callState.loading), [balances])\n\n  return useMemo(\n    () => [\n      address && validatedTokens.length > 0\n        ? validatedTokens.reduce<{ [tokenAddress: string]: CurrencyAmount<Token> | undefined }>((memo, token, i) => {\n            const value = balances?.[i]?.result?.[0]\n            const amount = value ? JSBI.BigInt(value.toString()) : undefined\n            if (amount) {\n              memo[token.address] = CurrencyAmount.fromRawAmount(token, amount)\n            }\n            return memo\n          }, {})\n        : {},\n      anyLoading,\n    ],\n    [address, validatedTokens, anyLoading, balances]\n  )\n}\n\nexport function useTokenBalances(\n  address?: string,\n  tokens?: (Token | undefined)[]\n): { [tokenAddress: string]: CurrencyAmount<Token> | undefined } {\n  return useTokenBalancesWithLoadingIndicator(address, tokens)[0]\n}\n\n// get the balance for a single token/account combo\nexport function useTokenBalance(account?: string, token?: Token): CurrencyAmount<Token> | undefined {\n  const tokenBalances = useTokenBalances(\n    account,\n    useMemo(() => [token], [token])\n  )\n  if (!token) return undefined\n  return tokenBalances[token.address]\n}\n\nexport function useCurrencyBalances(\n  account?: string,\n  currencies?: (Currency | undefined)[]\n): (CurrencyAmount<Currency> | undefined)[] {\n  const tokens = useMemo(\n    () => currencies?.filter((currency): currency is Token => currency?.isToken ?? false) ?? [],\n    [currencies]\n  )\n\n  const tokenBalances = useTokenBalances(account, tokens)\n  const containsETH: boolean = useMemo(() => currencies?.some((currency) => currency?.isNative) ?? false, [currencies])\n  const ethBalance = useNativeCurrencyBalances(useMemo(() => (containsETH ? [account] : []), [containsETH, account]))\n\n  return useMemo(\n    () =>\n      currencies?.map((currency) => {\n        if (!account || !currency) return undefined\n        if (currency.isToken) return tokenBalances[currency.address]\n        if (currency.isNative) return ethBalance[account]\n        return undefined\n      }) ?? [],\n    [account, currencies, ethBalance, tokenBalances]\n  )\n}\n\nexport default function useCurrencyBalance(\n  account?: string,\n  currency?: Currency\n): CurrencyAmount<Currency> | undefined {\n  return useCurrencyBalances(\n    account,\n    useMemo(() => [currency], [currency])\n  )[0]\n}\n","import { NativeCurrency } from '@uniswap/sdk-core'\nimport { SupportedChainId } from 'constants/chains'\nimport { nativeOnChain } from 'constants/tokens'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useMemo } from 'react'\n\nexport default function useNativeCurrency(): NativeCurrency {\n  const { chainId } = useActiveWeb3React()\n  return useMemo(\n    () =>\n      chainId\n        ? nativeOnChain(chainId)\n        : // display mainnet when not connected\n          nativeOnChain(SupportedChainId.MAINNET),\n    [chainId]\n  )\n}\n","/**\n * Returns true if the string value is zero in hex\n * @param hexNumberString\n */\nexport default function isZero(hexNumberString: string) {\n  return /^0x0*$/.test(hexNumberString)\n}\n","import { namehash } from '@ethersproject/hash'\n\nexport function safeNamehash(name?: string): string | undefined {\n  if (name === undefined) return undefined\n\n  try {\n    return namehash(name)\n  } catch (error) {\n    console.debug(error)\n    return undefined\n  }\n}\n","import { useEffect, useState } from 'react'\n\n/**\n * Debounces updates to a value.\n * Non-primitives *must* wrap the value in useMemo, or the value will be updated due to referential inequality.\n */\n// modified from https://usehooks.com/useDebounce/\nexport default function useDebounce<T>(value: T, delay: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value)\n\n  useEffect(() => {\n    // Update debounced value after delay\n    const handler = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n\n    // Cancel the timeout if value changes (also on delay change or unmount)\n    // This is how we prevent debounced value from updating if value is changed ...\n    // .. within the delay period. Timeout gets cleared and restarted.\n    return () => {\n      clearTimeout(handler)\n    }\n  }, [value, delay])\n\n  return debouncedValue\n}\n","import { useSingleCallResult } from 'hooks/multicall'\nimport { useMemo } from 'react'\nimport isZero from 'utils/isZero'\nimport { safeNamehash } from 'utils/safeNamehash'\n\nimport { useENSRegistrarContract, useENSResolverContract } from './useContract'\nimport useDebounce from './useDebounce'\n\n/**\n * Does a lookup for an ENS name to find its address.\n */\nexport default function useENSAddress(ensName?: string | null): { loading: boolean; address: string | null } {\n  const debouncedName = useDebounce(ensName, 200)\n  const ensNodeArgument = useMemo(\n    () => [debouncedName === null ? undefined : safeNamehash(debouncedName)],\n    [debouncedName]\n  )\n  const registrarContract = useENSRegistrarContract(false)\n  const resolverAddress = useSingleCallResult(registrarContract, 'resolver', ensNodeArgument)\n  const resolverAddressResult = resolverAddress.result?.[0]\n  const resolverContract = useENSResolverContract(\n    resolverAddressResult && !isZero(resolverAddressResult) ? resolverAddressResult : undefined,\n    false\n  )\n  const addr = useSingleCallResult(resolverContract, 'addr', ensNodeArgument)\n\n  const changed = debouncedName !== ensName\n  return useMemo(\n    () => ({\n      address: changed ? null : addr.result?.[0] ?? null,\n      loading: changed || resolverAddress.loading || addr.loading,\n    }),\n    [addr.loading, addr.result, changed, resolverAddress.loading]\n  )\n}\n","import { useSingleCallResult } from 'hooks/multicall'\nimport JSBI from 'jsbi'\nimport { useMemo } from 'react'\n\nimport { useContract } from './useContract'\nimport useENSAddress from './useENSAddress'\n\nconst CHAIN_DATA_ABI = [\n  {\n    inputs: [],\n    name: 'latestAnswer',\n    outputs: [{ internalType: 'int256', name: '', type: 'int256' }],\n    stateMutability: 'view',\n    type: 'function',\n  },\n]\n\n/**\n * Returns the price of 1 gas in WEI for the currently selected network using the chainlink fast gas price oracle\n */\nexport default function useGasPrice(): JSBI | undefined {\n  const { address } = useENSAddress('fast-gas-gwei.data.eth')\n  const contract = useContract(address ?? undefined, CHAIN_DATA_ABI, false)\n\n  const resultStr = useSingleCallResult(contract, 'latestAnswer').result?.[0]?.toString()\n  return useMemo(() => (typeof resultStr === 'string' ? JSBI.BigInt(resultStr) : undefined), [resultStr])\n}\n","import { parseUnits } from '@ethersproject/units'\nimport { Currency, CurrencyAmount } from '@uniswap/sdk-core'\nimport JSBI from 'jsbi'\n\n/**\n * Parses a CurrencyAmount from the passed string.\n * Returns the CurrencyAmount, or undefined if parsing fails.\n */\nexport default function tryParseCurrencyAmount<T extends Currency>(\n  value?: string,\n  currency?: T\n): CurrencyAmount<T> | undefined {\n  if (!value || !currency) {\n    return undefined\n  }\n  try {\n    const typedValueParsed = parseUnits(value, currency.decimals).toString()\n    if (typedValueParsed !== '0') {\n      return CurrencyAmount.fromRawAmount(currency, JSBI.BigInt(typedValueParsed))\n    }\n  } catch (error) {\n    // fails if the user specifies too many decimal places of precision (or maybe exceed max uint?)\n    console.debug(`Failed to parse input amount: \"${value}\"`, error)\n  }\n  return undefined\n}\n","import { Percent } from '@uniswap/sdk-core'\nimport JSBI from 'jsbi'\n\nexport const ZERO_ADDRESS = '0x0000000000000000000000000000000000000000'\n\nexport const NetworkContextName = 'NETWORK'\n\nexport const IS_IN_IFRAME = window.parent !== window\n\n// 30 minutes, denominated in seconds\nexport const DEFAULT_DEADLINE_FROM_NOW = 60 * 30\nexport const L2_DEADLINE_FROM_NOW = 60 * 5\n\n// transaction popup dismisal amounts\nexport const DEFAULT_TXN_DISMISS_MS = 25000\nexport const L2_TXN_DISMISS_MS = 5000\n\n// used for rewards deadlines\nexport const BIG_INT_SECONDS_IN_WEEK = JSBI.BigInt(60 * 60 * 24 * 7)\n\nexport const BIG_INT_ZERO = JSBI.BigInt(0)\n\n// one basis JSBI.BigInt\nconst BIPS_BASE = JSBI.BigInt(10000)\nexport const ONE_BIPS = new Percent(JSBI.BigInt(1), BIPS_BASE)\n\n// used for warning states\nexport const ALLOWED_PRICE_IMPACT_LOW: Percent = new Percent(JSBI.BigInt(100), BIPS_BASE) // 1%\nexport const ALLOWED_PRICE_IMPACT_MEDIUM: Percent = new Percent(JSBI.BigInt(300), BIPS_BASE) // 3%\nexport const ALLOWED_PRICE_IMPACT_HIGH: Percent = new Percent(JSBI.BigInt(500), BIPS_BASE) // 5%\n// if the price slippage exceeds this number, force the user to type 'confirm' to execute\nexport const PRICE_IMPACT_WITHOUT_FEE_CONFIRM_MIN: Percent = new Percent(JSBI.BigInt(1000), BIPS_BASE) // 10%\n// for non expert mode disable swaps above this\nexport const BLOCKED_PRICE_IMPACT_NON_EXPERT: Percent = new Percent(JSBI.BigInt(1500), BIPS_BASE) // 15%\n\nexport const BETTER_TRADE_LESS_HOPS_THRESHOLD = new Percent(JSBI.BigInt(50), BIPS_BASE)\n\nexport const ZERO_PERCENT = new Percent('0')\nexport const TWO_PERCENT = new Percent(JSBI.BigInt(200), BIPS_BASE)\nexport const ONE_HUNDRED_PERCENT = new Percent('1')\n","import { Currency, Percent, TradeType } from '@uniswap/sdk-core'\nimport { Trade as V2Trade } from '@uniswap/v2-sdk'\nimport { ONE_HUNDRED_PERCENT, ZERO_PERCENT } from 'constants/misc'\n\n// returns whether tradeB is better than tradeA by at least a threshold percentage amount\n// only used by v2 hooks\nexport function isTradeBetter(\n  tradeA: V2Trade<Currency, Currency, TradeType> | undefined | null,\n  tradeB: V2Trade<Currency, Currency, TradeType> | undefined | null,\n  minimumDelta: Percent = ZERO_PERCENT\n): boolean | undefined {\n  if (tradeA && !tradeB) return false\n  if (tradeB && !tradeA) return true\n  if (!tradeA || !tradeB) return undefined\n\n  if (\n    tradeA.tradeType !== tradeB.tradeType ||\n    !tradeA.inputAmount.currency.equals(tradeB.inputAmount.currency) ||\n    !tradeA.outputAmount.currency.equals(tradeB.outputAmount.currency)\n  ) {\n    throw new Error('Comparing incomparable trades')\n  }\n\n  if (minimumDelta.equalTo(ZERO_PERCENT)) {\n    return tradeA.executionPrice.lessThan(tradeB.executionPrice)\n  } else {\n    return tradeA.executionPrice.asFraction\n      .multiply(minimumDelta.add(ONE_HUNDRED_PERCENT))\n      .lessThan(tradeB.executionPrice)\n  }\n}\n","// a list of tokens by chain\nimport { Currency, Token } from '@uniswap/sdk-core'\n\nimport { SupportedChainId } from './chains'\nimport {\n  AMPL,\n  DAI,\n  DAI_ARBITRUM_ONE,\n  DAI_OPTIMISM,\n  DAI_POLYGON,\n  ETH2X_FLI,\n  FEI,\n  FRAX,\n  FXS,\n  nativeOnChain,\n  renBTC,\n  rETH2,\n  sETH2,\n  SWISE,\n  TRIBE,\n  USDC_ARBITRUM,\n  USDC_MAINNET,\n  USDC_OPTIMISM,\n  USDC_POLYGON,\n  USDT,\n  USDT_ARBITRUM_ONE,\n  USDT_OPTIMISM,\n  USDT_POLYGON,\n  WBTC,\n  WBTC_ARBITRUM_ONE,\n  WBTC_OPTIMISM,\n  WBTC_POLYGON,\n  WETH_POLYGON,\n  WETH_POLYGON_MUMBAI,\n  WRAPPED_NATIVE_CURRENCY,\n} from './tokens'\n\ntype ChainTokenList = {\n  readonly [chainId: number]: Token[]\n}\n\ntype ChainCurrencyList = {\n  readonly [chainId: number]: Currency[]\n}\n\nconst WRAPPED_NATIVE_CURRENCIES_ONLY: ChainTokenList = Object.fromEntries(\n  Object.entries(WRAPPED_NATIVE_CURRENCY)\n    .map(([key, value]) => [key, [value]])\n    .filter(Boolean)\n)\n\n// used to construct intermediary pairs for trading\nexport const BASES_TO_CHECK_TRADES_AGAINST: ChainTokenList = {\n  ...WRAPPED_NATIVE_CURRENCIES_ONLY,\n  [SupportedChainId.MAINNET]: [\n    ...WRAPPED_NATIVE_CURRENCIES_ONLY[SupportedChainId.MAINNET],\n    DAI,\n    USDC_MAINNET,\n    USDT,\n    WBTC,\n  ],\n  [SupportedChainId.OPTIMISM]: [\n    ...WRAPPED_NATIVE_CURRENCIES_ONLY[SupportedChainId.OPTIMISM],\n    DAI_OPTIMISM,\n    USDT_OPTIMISM,\n    WBTC_OPTIMISM,\n  ],\n  [SupportedChainId.ARBITRUM_ONE]: [\n    ...WRAPPED_NATIVE_CURRENCIES_ONLY[SupportedChainId.ARBITRUM_ONE],\n    DAI_ARBITRUM_ONE,\n    USDT_ARBITRUM_ONE,\n    WBTC_ARBITRUM_ONE,\n  ],\n  [SupportedChainId.POLYGON]: [\n    ...WRAPPED_NATIVE_CURRENCIES_ONLY[SupportedChainId.POLYGON],\n    DAI_POLYGON,\n    USDC_POLYGON,\n    USDT_POLYGON,\n    WETH_POLYGON,\n  ],\n}\nexport const ADDITIONAL_BASES: { [chainId: number]: { [tokenAddress: string]: Token[] } } = {\n  [SupportedChainId.MAINNET]: {\n    '0xF16E4d813f4DcfDe4c5b44f305c908742De84eF0': [ETH2X_FLI],\n    [rETH2.address]: [sETH2],\n    [SWISE.address]: [sETH2],\n    [FEI.address]: [TRIBE],\n    [TRIBE.address]: [FEI],\n    [FRAX.address]: [FXS],\n    [FXS.address]: [FRAX],\n    [WBTC.address]: [renBTC],\n    [renBTC.address]: [WBTC],\n  },\n}\n/**\n * Some tokens can only be swapped via certain pairs, so we override the list of bases that are considered for these\n * tokens.\n */\nexport const CUSTOM_BASES: { [chainId: number]: { [tokenAddress: string]: Token[] } } = {\n  [SupportedChainId.MAINNET]: {\n    [AMPL.address]: [DAI, WRAPPED_NATIVE_CURRENCY[SupportedChainId.MAINNET] as Token],\n  },\n}\n\n/**\n * Shows up in the currency select for swap and add liquidity\n */\nexport const COMMON_BASES: ChainCurrencyList = {\n  [SupportedChainId.MAINNET]: [\n    nativeOnChain(SupportedChainId.MAINNET),\n    DAI,\n    USDC_MAINNET,\n    USDT,\n    WBTC,\n    WRAPPED_NATIVE_CURRENCY[SupportedChainId.MAINNET] as Token,\n  ],\n  [SupportedChainId.ROPSTEN]: [\n    nativeOnChain(SupportedChainId.ROPSTEN),\n    WRAPPED_NATIVE_CURRENCY[SupportedChainId.ROPSTEN] as Token,\n  ],\n  [SupportedChainId.RINKEBY]: [\n    nativeOnChain(SupportedChainId.RINKEBY),\n    WRAPPED_NATIVE_CURRENCY[SupportedChainId.RINKEBY] as Token,\n  ],\n  [SupportedChainId.GOERLI]: [\n    nativeOnChain(SupportedChainId.GOERLI),\n    WRAPPED_NATIVE_CURRENCY[SupportedChainId.GOERLI] as Token,\n  ],\n  [SupportedChainId.KOVAN]: [\n    nativeOnChain(SupportedChainId.KOVAN),\n    WRAPPED_NATIVE_CURRENCY[SupportedChainId.KOVAN] as Token,\n  ],\n  [SupportedChainId.ARBITRUM_ONE]: [\n    nativeOnChain(SupportedChainId.ARBITRUM_ONE),\n    DAI_ARBITRUM_ONE,\n    USDC_ARBITRUM,\n    USDT_ARBITRUM_ONE,\n    WBTC_ARBITRUM_ONE,\n    WRAPPED_NATIVE_CURRENCY[SupportedChainId.ARBITRUM_ONE] as Token,\n  ],\n  [SupportedChainId.ARBITRUM_RINKEBY]: [\n    nativeOnChain(SupportedChainId.ARBITRUM_RINKEBY),\n    WRAPPED_NATIVE_CURRENCY[SupportedChainId.ARBITRUM_RINKEBY] as Token,\n  ],\n  [SupportedChainId.OPTIMISM]: [\n    nativeOnChain(SupportedChainId.OPTIMISM),\n    DAI_OPTIMISM,\n    USDC_OPTIMISM,\n    USDT_OPTIMISM,\n    WBTC_OPTIMISM,\n  ],\n  [SupportedChainId.OPTIMISTIC_KOVAN]: [nativeOnChain(SupportedChainId.OPTIMISTIC_KOVAN)],\n  [SupportedChainId.POLYGON]: [\n    nativeOnChain(SupportedChainId.POLYGON),\n    WETH_POLYGON,\n    USDC_POLYGON,\n    DAI_POLYGON,\n    USDT_POLYGON,\n    WBTC_POLYGON,\n  ],\n  [SupportedChainId.POLYGON_MUMBAI]: [\n    nativeOnChain(SupportedChainId.POLYGON_MUMBAI),\n    WRAPPED_NATIVE_CURRENCY[SupportedChainId.POLYGON_MUMBAI] as Token,\n    WETH_POLYGON_MUMBAI,\n  ],\n}\n\n// used to construct the list of all pairs we consider by default in the frontend\nexport const BASES_TO_TRACK_LIQUIDITY_FOR: ChainTokenList = {\n  ...WRAPPED_NATIVE_CURRENCIES_ONLY,\n  [SupportedChainId.MAINNET]: [\n    ...WRAPPED_NATIVE_CURRENCIES_ONLY[SupportedChainId.MAINNET],\n    DAI,\n    USDC_MAINNET,\n    USDT,\n    WBTC,\n  ],\n}\nexport const PINNED_PAIRS: { readonly [chainId: number]: [Token, Token][] } = {\n  [SupportedChainId.MAINNET]: [\n    [\n      new Token(SupportedChainId.MAINNET, '0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643', 8, 'cDAI', 'Compound Dai'),\n      new Token(\n        SupportedChainId.MAINNET,\n        '0x39AA39c021dfbaE8faC545936693aC917d5E7563',\n        8,\n        'cUSDC',\n        'Compound USD Coin'\n      ),\n    ],\n    [USDC_MAINNET, USDT],\n    [DAI, USDT],\n  ],\n}\n","import { Currency, Token } from '@uniswap/sdk-core'\nimport { ADDITIONAL_BASES, BASES_TO_CHECK_TRADES_AGAINST, CUSTOM_BASES } from 'constants/routing'\nimport { useMemo } from 'react'\n\nexport function useAllCurrencyCombinations(currencyA?: Currency, currencyB?: Currency): [Token, Token][] {\n  const chainId = currencyA?.chainId\n\n  const [tokenA, tokenB] = chainId ? [currencyA?.wrapped, currencyB?.wrapped] : [undefined, undefined]\n\n  const bases: Token[] = useMemo(() => {\n    if (!chainId || chainId !== tokenB?.chainId) return []\n\n    const common = BASES_TO_CHECK_TRADES_AGAINST[chainId] ?? []\n    const additionalA = tokenA ? ADDITIONAL_BASES[chainId]?.[tokenA.address] ?? [] : []\n    const additionalB = tokenB ? ADDITIONAL_BASES[chainId]?.[tokenB.address] ?? [] : []\n\n    return [...common, ...additionalA, ...additionalB]\n  }, [chainId, tokenA, tokenB])\n\n  const basePairs: [Token, Token][] = useMemo(\n    () =>\n      bases\n        .flatMap((base): [Token, Token][] => bases.map((otherBase) => [base, otherBase]))\n        // though redundant with the first filter below, that expression runs more often, so this is probably worthwhile\n        .filter(([t0, t1]) => !t0.equals(t1)),\n    [bases]\n  )\n\n  return useMemo(\n    () =>\n      tokenA && tokenB\n        ? [\n            // the direct pair\n            [tokenA, tokenB] as [Token, Token],\n            // token A against all bases\n            ...bases.map((base): [Token, Token] => [tokenA, base]),\n            // token B against all bases\n            ...bases.map((base): [Token, Token] => [tokenB, base]),\n            // each base against all bases\n            ...basePairs,\n          ]\n            // filter out invalid pairs comprised of the same asset (e.g. WETH<>WETH)\n            .filter(([t0, t1]) => !t0.equals(t1))\n            // filter out duplicate pairs\n            .filter(([t0, t1], i, otherPairs) => {\n              // find the first index in the array at which there are the same 2 tokens as the current\n              const firstIndexInOtherPairs = otherPairs.findIndex(([t0Other, t1Other]) => {\n                return (t0.equals(t0Other) && t1.equals(t1Other)) || (t0.equals(t1Other) && t1.equals(t0Other))\n              })\n              // only accept the first occurrence of the same 2 tokens\n              return firstIndexInOtherPairs === i\n            })\n            // optionally filter out some pairs for tokens with custom bases defined\n            .filter(([tokenA, tokenB]) => {\n              if (!chainId) return true\n              const customBases = CUSTOM_BASES[chainId]\n\n              const customBasesA: Token[] | undefined = customBases?.[tokenA.address]\n              const customBasesB: Token[] | undefined = customBases?.[tokenB.address]\n\n              if (!customBasesA && !customBasesB) return true\n\n              if (customBasesA && !customBasesA.find((base) => tokenB.equals(base))) return false\n              if (customBasesB && !customBasesB.find((base) => tokenA.equals(base))) return false\n\n              return true\n            })\n        : [],\n    [tokenA, tokenB, bases, basePairs, chainId]\n  )\n}\n","import { Interface } from '@ethersproject/abi'\nimport { Currency, CurrencyAmount } from '@uniswap/sdk-core'\nimport { abi as IUniswapV2PairABI } from '@uniswap/v2-core/build/IUniswapV2Pair.json'\nimport { computePairAddress, Pair } from '@uniswap/v2-sdk'\nimport { V2_FACTORY_ADDRESSES } from 'constants/addresses'\nimport { useMultipleContractSingleData } from 'hooks/multicall'\nimport { useMemo } from 'react'\n\nconst PAIR_INTERFACE = new Interface(IUniswapV2PairABI)\n\nexport enum PairState {\n  LOADING,\n  NOT_EXISTS,\n  EXISTS,\n  INVALID,\n}\n\nexport function useV2Pairs(currencies: [Currency | undefined, Currency | undefined][]): [PairState, Pair | null][] {\n  const tokens = useMemo(\n    () => currencies.map(([currencyA, currencyB]) => [currencyA?.wrapped, currencyB?.wrapped]),\n    [currencies]\n  )\n\n  const pairAddresses = useMemo(\n    () =>\n      tokens.map(([tokenA, tokenB]) => {\n        return tokenA &&\n          tokenB &&\n          tokenA.chainId === tokenB.chainId &&\n          !tokenA.equals(tokenB) &&\n          V2_FACTORY_ADDRESSES[tokenA.chainId]\n          ? computePairAddress({ factoryAddress: V2_FACTORY_ADDRESSES[tokenA.chainId], tokenA, tokenB })\n          : undefined\n      }),\n    [tokens]\n  )\n\n  const results = useMultipleContractSingleData(pairAddresses, PAIR_INTERFACE, 'getReserves')\n\n  return useMemo(() => {\n    return results.map((result, i) => {\n      const { result: reserves, loading } = result\n      const tokenA = tokens[i][0]\n      const tokenB = tokens[i][1]\n\n      if (loading) return [PairState.LOADING, null]\n      if (!tokenA || !tokenB || tokenA.equals(tokenB)) return [PairState.INVALID, null]\n      if (!reserves) return [PairState.NOT_EXISTS, null]\n      const { reserve0, reserve1 } = reserves\n      const [token0, token1] = tokenA.sortsBefore(tokenB) ? [tokenA, tokenB] : [tokenB, tokenA]\n      return [\n        PairState.EXISTS,\n        new Pair(\n          CurrencyAmount.fromRawAmount(token0, reserve0.toString()),\n          CurrencyAmount.fromRawAmount(token1, reserve1.toString())\n        ),\n      ]\n    })\n  }, [results, tokens])\n}\n\nexport function useV2Pair(tokenA?: Currency, tokenB?: Currency): [PairState, Pair | null] {\n  const inputs: [[Currency | undefined, Currency | undefined]] = useMemo(() => [[tokenA, tokenB]], [tokenA, tokenB])\n  return useV2Pairs(inputs)[0]\n}\n","import { Currency, CurrencyAmount, TradeType } from '@uniswap/sdk-core'\nimport { Pair, Trade } from '@uniswap/v2-sdk'\nimport { BETTER_TRADE_LESS_HOPS_THRESHOLD } from 'constants/misc'\nimport { useMemo } from 'react'\nimport { isTradeBetter } from 'utils/isTradeBetter'\n\nimport { useAllCurrencyCombinations } from './useAllCurrencyCombinations'\nimport { PairState, useV2Pairs } from './useV2Pairs'\n\nfunction useAllCommonPairs(currencyA?: Currency, currencyB?: Currency): Pair[] {\n  const allCurrencyCombinations = useAllCurrencyCombinations(currencyA, currencyB)\n\n  const allPairs = useV2Pairs(allCurrencyCombinations)\n\n  return useMemo(\n    () =>\n      Object.values(\n        allPairs\n          // filter out invalid pairs\n          .filter((result): result is [PairState.EXISTS, Pair] => Boolean(result[0] === PairState.EXISTS && result[1]))\n          .map(([, pair]) => pair)\n      ),\n    [allPairs]\n  )\n}\n\nconst MAX_HOPS = 3\n\n/**\n * Returns the best v2 trade for a desired swap\n * @param tradeType whether the swap is an exact in/out\n * @param amountSpecified the exact amount to swap in/out\n * @param otherCurrency the desired output/payment currency\n */\nexport function useBestV2Trade(\n  tradeType: TradeType.EXACT_INPUT | TradeType.EXACT_OUTPUT,\n  amountSpecified?: CurrencyAmount<Currency>,\n  otherCurrency?: Currency,\n  { maxHops = MAX_HOPS } = {}\n): Trade<Currency, Currency, TradeType.EXACT_INPUT | TradeType.EXACT_OUTPUT> | null {\n  const [currencyIn, currencyOut] = useMemo(\n    () =>\n      tradeType === TradeType.EXACT_INPUT\n        ? [amountSpecified?.currency, otherCurrency]\n        : [otherCurrency, amountSpecified?.currency],\n    [tradeType, amountSpecified, otherCurrency]\n  )\n  const allowedPairs = useAllCommonPairs(currencyIn, currencyOut)\n\n  return useMemo(() => {\n    if (amountSpecified && currencyIn && currencyOut && allowedPairs.length > 0) {\n      if (maxHops === 1) {\n        const options = { maxHops: 1, maxNumResults: 1 }\n        if (tradeType === TradeType.EXACT_INPUT) {\n          const amountIn = amountSpecified\n          return Trade.bestTradeExactIn(allowedPairs, amountIn, currencyOut, options)[0] ?? null\n        } else {\n          const amountOut = amountSpecified\n          return Trade.bestTradeExactOut(allowedPairs, currencyIn, amountOut, options)[0] ?? null\n        }\n      }\n\n      // search through trades with varying hops, find best trade out of them\n      let bestTradeSoFar: Trade<Currency, Currency, TradeType.EXACT_INPUT | TradeType.EXACT_OUTPUT> | null = null\n      for (let i = 1; i <= maxHops; i++) {\n        const options = { maxHops: i, maxNumResults: 1 }\n        let currentTrade: Trade<Currency, Currency, TradeType.EXACT_INPUT | TradeType.EXACT_OUTPUT> | null\n\n        if (tradeType === TradeType.EXACT_INPUT) {\n          const amountIn = amountSpecified\n          currentTrade = Trade.bestTradeExactIn(allowedPairs, amountIn, currencyOut, options)[0] ?? null\n        } else {\n          const amountOut = amountSpecified\n          currentTrade = Trade.bestTradeExactOut(allowedPairs, currencyIn, amountOut, options)[0] ?? null\n        }\n\n        // if current trade is best yet, save it\n        if (isTradeBetter(bestTradeSoFar, currentTrade, BETTER_TRADE_LESS_HOPS_THRESHOLD)) {\n          bestTradeSoFar = currentTrade\n        }\n      }\n      return bestTradeSoFar\n    }\n\n    return null\n  }, [tradeType, amountSpecified, currencyIn, currencyOut, allowedPairs, maxHops])\n}\n","import { Trade } from '@uniswap/router-sdk'\nimport { Currency, CurrencyAmount, Token, TradeType } from '@uniswap/sdk-core'\nimport { Route as V2Route } from '@uniswap/v2-sdk'\nimport { Route as V3Route } from '@uniswap/v3-sdk'\n\nexport enum TradeState {\n  LOADING,\n  INVALID,\n  NO_ROUTE_FOUND,\n  VALID,\n  SYNCING,\n}\n\n// from https://github.com/Uniswap/routing-api/blob/main/lib/handlers/schema.ts\n\nexport type TokenInRoute = Pick<Token, 'address' | 'chainId' | 'symbol' | 'decimals'>\n\nexport type V3PoolInRoute = {\n  type: 'v3-pool'\n  tokenIn: TokenInRoute\n  tokenOut: TokenInRoute\n  sqrtRatioX96: string\n  liquidity: string\n  tickCurrent: string\n  fee: string\n  amountIn?: string\n  amountOut?: string\n\n  // not used in the interface\n  address?: string\n}\n\nexport type V2Reserve = {\n  token: TokenInRoute\n  quotient: string\n}\n\nexport type V2PoolInRoute = {\n  type: 'v2-pool'\n  tokenIn: TokenInRoute\n  tokenOut: TokenInRoute\n  reserve0: V2Reserve\n  reserve1: V2Reserve\n  amountIn?: string\n  amountOut?: string\n\n  // not used in the interface\n  // avoid returning it from the client-side smart-order-router\n  address?: string\n}\n\nexport interface GetQuoteResult {\n  quoteId?: string\n  blockNumber: string\n  amount: string\n  amountDecimals: string\n  gasPriceWei: string\n  gasUseEstimate: string\n  gasUseEstimateQuote: string\n  gasUseEstimateQuoteDecimals: string\n  gasUseEstimateUSD: string\n  methodParameters?: { calldata: string; value: string }\n  quote: string\n  quoteDecimals: string\n  quoteGasAdjusted: string\n  quoteGasAdjustedDecimals: string\n  route: Array<V3PoolInRoute[] | V2PoolInRoute[]>\n  routeString: string\n}\n\nexport class InterfaceTrade<\n  TInput extends Currency,\n  TOutput extends Currency,\n  TTradeType extends TradeType\n> extends Trade<TInput, TOutput, TTradeType> {\n  gasUseEstimateUSD: CurrencyAmount<Token> | null | undefined\n\n  constructor({\n    gasUseEstimateUSD,\n    ...routes\n  }: {\n    gasUseEstimateUSD?: CurrencyAmount<Token> | undefined | null\n    v2Routes: {\n      routev2: V2Route<TInput, TOutput>\n      inputAmount: CurrencyAmount<TInput>\n      outputAmount: CurrencyAmount<TOutput>\n    }[]\n    v3Routes: {\n      routev3: V3Route<TInput, TOutput>\n      inputAmount: CurrencyAmount<TInput>\n      outputAmount: CurrencyAmount<TOutput>\n    }[]\n    tradeType: TTradeType\n  }) {\n    super(routes)\n    this.gasUseEstimateUSD = gasUseEstimateUSD\n  }\n}\n","import { Interface } from '@ethersproject/abi'\nimport { BigintIsh, Currency, Token } from '@uniswap/sdk-core'\nimport { abi as IUniswapV3PoolStateABI } from '@uniswap/v3-core/artifacts/contracts/interfaces/pool/IUniswapV3PoolState.sol/IUniswapV3PoolState.json'\nimport { computePoolAddress } from '@uniswap/v3-sdk'\nimport { FeeAmount, Pool } from '@uniswap/v3-sdk'\nimport { V3_CORE_FACTORY_ADDRESSES } from 'constants/addresses'\nimport { useMultipleContractSingleData } from 'hooks/multicall'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport JSBI from 'jsbi'\nimport { useMemo } from 'react'\nimport { IUniswapV3PoolStateInterface } from 'types/v3/IUniswapV3PoolState'\n\nconst POOL_STATE_INTERFACE = new Interface(IUniswapV3PoolStateABI) as IUniswapV3PoolStateInterface\n\n// Classes are expensive to instantiate, so this caches the recently instantiated pools.\n// This avoids re-instantiating pools as the other pools in the same request are loaded.\nclass PoolCache {\n  // Evict after 128 entries. Empirically, a swap uses 64 entries.\n  private static MAX_ENTRIES = 128\n\n  // These are FIFOs, using unshift/pop. This makes recent entries faster to find.\n  private static pools: Pool[] = []\n  private static addresses: { key: string; address: string }[] = []\n\n  static getPoolAddress(factoryAddress: string, tokenA: Token, tokenB: Token, fee: FeeAmount): string {\n    if (this.addresses.length > this.MAX_ENTRIES) {\n      this.addresses = this.addresses.slice(0, this.MAX_ENTRIES / 2)\n    }\n\n    const { address: addressA } = tokenA\n    const { address: addressB } = tokenB\n    const key = `${factoryAddress}:${addressA}:${addressB}:${fee.toString()}`\n    const found = this.addresses.find((address) => address.key === key)\n    if (found) return found.address\n\n    const address = {\n      key,\n      address: computePoolAddress({\n        factoryAddress,\n        tokenA,\n        tokenB,\n        fee,\n      }),\n    }\n    this.addresses.unshift(address)\n    return address.address\n  }\n\n  static getPool(\n    tokenA: Token,\n    tokenB: Token,\n    fee: FeeAmount,\n    sqrtPriceX96: BigintIsh,\n    liquidity: BigintIsh,\n    tick: number\n  ): Pool {\n    if (this.pools.length > this.MAX_ENTRIES) {\n      this.pools = this.pools.slice(0, this.MAX_ENTRIES / 2)\n    }\n\n    const found = this.pools.find(\n      (pool) =>\n        pool.token0 === tokenA &&\n        pool.token1 === tokenB &&\n        pool.fee === fee &&\n        JSBI.EQ(pool.sqrtRatioX96, sqrtPriceX96) &&\n        JSBI.EQ(pool.liquidity, liquidity) &&\n        pool.tickCurrent === tick\n    )\n    if (found) return found\n\n    const pool = new Pool(tokenA, tokenB, fee, sqrtPriceX96, liquidity, tick)\n    this.pools.unshift(pool)\n    return pool\n  }\n}\n\nexport enum PoolState {\n  LOADING,\n  NOT_EXISTS,\n  EXISTS,\n  INVALID,\n}\n\nexport function usePools(\n  poolKeys: [Currency | undefined, Currency | undefined, FeeAmount | undefined][]\n): [PoolState, Pool | null][] {\n  const { chainId } = useActiveWeb3React()\n\n  const poolTokens: ([Token, Token, FeeAmount] | undefined)[] = useMemo(() => {\n    if (!chainId) return new Array(poolKeys.length)\n\n    return poolKeys.map(([currencyA, currencyB, feeAmount]) => {\n      if (currencyA && currencyB && feeAmount) {\n        const tokenA = currencyA.wrapped\n        const tokenB = currencyB.wrapped\n        if (tokenA.equals(tokenB)) return undefined\n\n        return tokenA.sortsBefore(tokenB) ? [tokenA, tokenB, feeAmount] : [tokenB, tokenA, feeAmount]\n      }\n      return undefined\n    })\n  }, [chainId, poolKeys])\n\n  const poolAddresses: (string | undefined)[] = useMemo(() => {\n    const v3CoreFactoryAddress = chainId && V3_CORE_FACTORY_ADDRESSES[chainId]\n    if (!v3CoreFactoryAddress) return new Array(poolTokens.length)\n\n    return poolTokens.map((value) => value && PoolCache.getPoolAddress(v3CoreFactoryAddress, ...value))\n  }, [chainId, poolTokens])\n\n  const slot0s = useMultipleContractSingleData(poolAddresses, POOL_STATE_INTERFACE, 'slot0')\n  const liquidities = useMultipleContractSingleData(poolAddresses, POOL_STATE_INTERFACE, 'liquidity')\n\n  return useMemo(() => {\n    return poolKeys.map((_key, index) => {\n      const tokens = poolTokens[index]\n      if (!tokens) return [PoolState.INVALID, null]\n      const [token0, token1, fee] = tokens\n\n      if (!slot0s[index]) return [PoolState.INVALID, null]\n      const { result: slot0, loading: slot0Loading, valid: slot0Valid } = slot0s[index]\n\n      if (!liquidities[index]) return [PoolState.INVALID, null]\n      const { result: liquidity, loading: liquidityLoading, valid: liquidityValid } = liquidities[index]\n\n      if (!tokens || !slot0Valid || !liquidityValid) return [PoolState.INVALID, null]\n      if (slot0Loading || liquidityLoading) return [PoolState.LOADING, null]\n      if (!slot0 || !liquidity) return [PoolState.NOT_EXISTS, null]\n      if (!slot0.sqrtPriceX96 || slot0.sqrtPriceX96.eq(0)) return [PoolState.NOT_EXISTS, null]\n\n      try {\n        const pool = PoolCache.getPool(token0, token1, fee, slot0.sqrtPriceX96, liquidity[0], slot0.tick)\n        return [PoolState.EXISTS, pool]\n      } catch (error) {\n        console.error('Error when constructing the pool', error)\n        return [PoolState.NOT_EXISTS, null]\n      }\n    })\n  }, [liquidities, poolKeys, slot0s, poolTokens])\n}\n\nexport function usePool(\n  currencyA: Currency | undefined,\n  currencyB: Currency | undefined,\n  feeAmount: FeeAmount | undefined\n): [PoolState, Pool | null] {\n  const poolKeys: [Currency | undefined, Currency | undefined, FeeAmount | undefined][] = useMemo(\n    () => [[currencyA, currencyB, feeAmount]],\n    [currencyA, currencyB, feeAmount]\n  )\n\n  return usePools(poolKeys)[0]\n}\n","import { Currency, Token } from '@uniswap/sdk-core'\nimport { FeeAmount, Pool } from '@uniswap/v3-sdk'\nimport { SupportedChainId } from 'constants/chains'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useMemo } from 'react'\n\nimport { useAllCurrencyCombinations } from './useAllCurrencyCombinations'\nimport { PoolState, usePools } from './usePools'\n\n/**\n * Returns all the existing pools that should be considered for swapping between an input currency and an output currency\n * @param currencyIn the input currency\n * @param currencyOut the output currency\n */\nexport function useV3SwapPools(\n  currencyIn?: Currency,\n  currencyOut?: Currency\n): {\n  pools: Pool[]\n  loading: boolean\n} {\n  const { chainId } = useActiveWeb3React()\n\n  const allCurrencyCombinations = useAllCurrencyCombinations(currencyIn, currencyOut)\n\n  const allCurrencyCombinationsWithAllFees: [Token, Token, FeeAmount][] = useMemo(\n    () =>\n      allCurrencyCombinations.reduce<[Token, Token, FeeAmount][]>((list, [tokenA, tokenB]) => {\n        return chainId === SupportedChainId.MAINNET\n          ? list.concat([\n              [tokenA, tokenB, FeeAmount.LOW],\n              [tokenA, tokenB, FeeAmount.MEDIUM],\n              [tokenA, tokenB, FeeAmount.HIGH],\n            ])\n          : list.concat([\n              [tokenA, tokenB, FeeAmount.LOWEST],\n              [tokenA, tokenB, FeeAmount.LOW],\n              [tokenA, tokenB, FeeAmount.MEDIUM],\n              [tokenA, tokenB, FeeAmount.HIGH],\n            ])\n      }, []),\n    [allCurrencyCombinations, chainId]\n  )\n\n  const pools = usePools(allCurrencyCombinationsWithAllFees)\n\n  return useMemo(() => {\n    return {\n      pools: pools\n        .filter((tuple): tuple is [PoolState.EXISTS, Pool] => {\n          return tuple[0] === PoolState.EXISTS && tuple[1] !== null\n        })\n        .map(([, pool]) => pool),\n      loading: pools.some(([state]) => state === PoolState.LOADING),\n    }\n  }, [pools])\n}\n","import { Currency } from '@uniswap/sdk-core'\nimport { Pool, Route } from '@uniswap/v3-sdk'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useMemo } from 'react'\n\nimport { useV3SwapPools } from './useV3SwapPools'\n\n/**\n * Returns true if poolA is equivalent to poolB\n * @param poolA one of the two pools\n * @param poolB the other pool\n */\nfunction poolEquals(poolA: Pool, poolB: Pool): boolean {\n  return (\n    poolA === poolB ||\n    (poolA.token0.equals(poolB.token0) && poolA.token1.equals(poolB.token1) && poolA.fee === poolB.fee)\n  )\n}\n\nfunction computeAllRoutes(\n  currencyIn: Currency,\n  currencyOut: Currency,\n  pools: Pool[],\n  chainId: number,\n  currentPath: Pool[] = [],\n  allPaths: Route<Currency, Currency>[] = [],\n  startCurrencyIn: Currency = currencyIn,\n  maxHops = 2\n): Route<Currency, Currency>[] {\n  const tokenIn = currencyIn?.wrapped\n  const tokenOut = currencyOut?.wrapped\n  if (!tokenIn || !tokenOut) throw new Error('Missing tokenIn/tokenOut')\n\n  for (const pool of pools) {\n    if (!pool.involvesToken(tokenIn) || currentPath.find((pathPool) => poolEquals(pool, pathPool))) continue\n\n    const outputToken = pool.token0.equals(tokenIn) ? pool.token1 : pool.token0\n    if (outputToken.equals(tokenOut)) {\n      allPaths.push(new Route([...currentPath, pool], startCurrencyIn, currencyOut))\n    } else if (maxHops > 1) {\n      computeAllRoutes(\n        outputToken,\n        currencyOut,\n        pools,\n        chainId,\n        [...currentPath, pool],\n        allPaths,\n        startCurrencyIn,\n        maxHops - 1\n      )\n    }\n  }\n\n  return allPaths\n}\n\n/**\n * Returns all the routes from an input currency to an output currency\n * @param currencyIn the input currency\n * @param currencyOut the output currency\n */\nexport function useAllV3Routes(\n  currencyIn?: Currency,\n  currencyOut?: Currency\n): { loading: boolean; routes: Route<Currency, Currency>[] } {\n  const { chainId } = useActiveWeb3React()\n  const { pools, loading: poolsLoading } = useV3SwapPools(currencyIn, currencyOut)\n\n  return useMemo(() => {\n    if (poolsLoading || !chainId || !pools || !currencyIn || !currencyOut) return { loading: true, routes: [] }\n\n    const routes = computeAllRoutes(currencyIn, currencyOut, pools, chainId, [], [], currencyIn, 2)\n    return { loading: false, routes }\n  }, [chainId, currencyIn, currencyOut, pools, poolsLoading])\n}\n","import { Currency, CurrencyAmount, TradeType } from '@uniswap/sdk-core'\nimport { Route, SwapQuoter } from '@uniswap/v3-sdk'\nimport { SupportedChainId } from 'constants/chains'\nimport { useSingleContractWithCallData } from 'hooks/multicall'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport JSBI from 'jsbi'\nimport { useMemo } from 'react'\nimport { InterfaceTrade, TradeState } from 'state/routing/types'\n\nimport { useAllV3Routes } from './useAllV3Routes'\nimport { useV3Quoter } from './useContract'\n\nconst QUOTE_GAS_OVERRIDES: { [chainId: number]: number } = {\n  [SupportedChainId.ARBITRUM_ONE]: 25_000_000,\n  [SupportedChainId.ARBITRUM_RINKEBY]: 25_000_000,\n}\n\nconst DEFAULT_GAS_QUOTE = 2_000_000\n\n/**\n * Returns the best v3 trade for a desired swap\n * @param tradeType whether the swap is an exact in/out\n * @param amountSpecified the exact amount to swap in/out\n * @param otherCurrency the desired output/payment currency\n */\nexport function useClientSideV3Trade<TTradeType extends TradeType>(\n  tradeType: TTradeType,\n  amountSpecified?: CurrencyAmount<Currency>,\n  otherCurrency?: Currency\n): { state: TradeState; trade: InterfaceTrade<Currency, Currency, TTradeType> | undefined } {\n  const [currencyIn, currencyOut] =\n    tradeType === TradeType.EXACT_INPUT\n      ? [amountSpecified?.currency, otherCurrency]\n      : [otherCurrency, amountSpecified?.currency]\n  const { routes, loading: routesLoading } = useAllV3Routes(currencyIn, currencyOut)\n\n  const quoter = useV3Quoter()\n  const { chainId } = useActiveWeb3React()\n  const callData = useMemo(\n    () =>\n      amountSpecified\n        ? routes.map((route) => SwapQuoter.quoteCallParameters(route, amountSpecified, tradeType).calldata)\n        : [],\n    [amountSpecified, routes, tradeType]\n  )\n  const quotesResults = useSingleContractWithCallData(quoter, callData, {\n    gasRequired: chainId ? QUOTE_GAS_OVERRIDES[chainId] ?? DEFAULT_GAS_QUOTE : undefined,\n  })\n\n  return useMemo(() => {\n    if (\n      !amountSpecified ||\n      !currencyIn ||\n      !currencyOut ||\n      quotesResults.some(({ valid }) => !valid) ||\n      // skip when tokens are the same\n      (tradeType === TradeType.EXACT_INPUT\n        ? amountSpecified.currency.equals(currencyOut)\n        : amountSpecified.currency.equals(currencyIn))\n    ) {\n      return {\n        state: TradeState.INVALID,\n        trade: undefined,\n      }\n    }\n\n    if (routesLoading || quotesResults.some(({ loading }) => loading)) {\n      return {\n        state: TradeState.LOADING,\n        trade: undefined,\n      }\n    }\n\n    const { bestRoute, amountIn, amountOut } = quotesResults.reduce(\n      (\n        currentBest: {\n          bestRoute: Route<Currency, Currency> | null\n          amountIn: CurrencyAmount<Currency> | null\n          amountOut: CurrencyAmount<Currency> | null\n        },\n        { result },\n        i\n      ) => {\n        if (!result) return currentBest\n\n        // overwrite the current best if it's not defined or if this route is better\n        if (tradeType === TradeType.EXACT_INPUT) {\n          const amountOut = CurrencyAmount.fromRawAmount(currencyOut, result.amountOut.toString())\n          if (currentBest.amountOut === null || JSBI.lessThan(currentBest.amountOut.quotient, amountOut.quotient)) {\n            return {\n              bestRoute: routes[i],\n              amountIn: amountSpecified,\n              amountOut,\n            }\n          }\n        } else {\n          const amountIn = CurrencyAmount.fromRawAmount(currencyIn, result.amountIn.toString())\n          if (currentBest.amountIn === null || JSBI.greaterThan(currentBest.amountIn.quotient, amountIn.quotient)) {\n            return {\n              bestRoute: routes[i],\n              amountIn,\n              amountOut: amountSpecified,\n            }\n          }\n        }\n\n        return currentBest\n      },\n      {\n        bestRoute: null,\n        amountIn: null,\n        amountOut: null,\n      }\n    )\n\n    if (!bestRoute || !amountIn || !amountOut) {\n      return {\n        state: TradeState.NO_ROUTE_FOUND,\n        trade: undefined,\n      }\n    }\n\n    return {\n      state: TradeState.VALID,\n      trade: new InterfaceTrade({\n        v2Routes: [],\n        v3Routes: [\n          {\n            routev3: bestRoute,\n            inputAmount: amountIn,\n            outputAmount: amountOut,\n          },\n        ],\n        tradeType,\n      }),\n    }\n  }, [amountSpecified, currencyIn, currencyOut, quotesResults, routes, routesLoading, tradeType])\n}\n","import { Currency, CurrencyAmount, Price, Token, TradeType } from '@uniswap/sdk-core'\nimport { SupportedChainId } from 'constants/chains'\nimport { DAI_OPTIMISM, USDC_ARBITRUM, USDC_MAINNET, USDC_POLYGON } from 'constants/tokens'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useMemo, useRef } from 'react'\nimport tryParseCurrencyAmount from 'utils/tryParseCurrencyAmount'\n\nimport { useBestV2Trade } from './useBestV2Trade'\nimport { useClientSideV3Trade } from './useClientSideV3Trade'\n\n// Stablecoin amounts used when calculating spot price for a given currency.\n// The amount is large enough to filter low liquidity pairs.\nexport const STABLECOIN_AMOUNT_OUT: { [chainId: number]: CurrencyAmount<Token> } = {\n  [SupportedChainId.MAINNET]: CurrencyAmount.fromRawAmount(USDC_MAINNET, 100_000e6),\n  [SupportedChainId.ARBITRUM_ONE]: CurrencyAmount.fromRawAmount(USDC_ARBITRUM, 10_000e6),\n  [SupportedChainId.OPTIMISM]: CurrencyAmount.fromRawAmount(DAI_OPTIMISM, 10_000e18),\n  [SupportedChainId.POLYGON]: CurrencyAmount.fromRawAmount(USDC_POLYGON, 10_000e6),\n}\n\n/**\n * Returns the price in USDC of the input currency\n * @param currency currency to compute the USDC price of\n */\nexport default function useUSDCPrice(currency?: Currency): Price<Currency, Token> | undefined {\n  const chainId = currency?.chainId\n\n  const amountOut = chainId ? STABLECOIN_AMOUNT_OUT[chainId] : undefined\n  const stablecoin = amountOut?.currency\n\n  // TODO(#2808): remove dependency on useBestV2Trade\n  const v2USDCTrade = useBestV2Trade(TradeType.EXACT_OUTPUT, amountOut, currency, {\n    maxHops: 2,\n  })\n  const v3USDCTrade = useClientSideV3Trade(TradeType.EXACT_OUTPUT, amountOut, currency)\n  const price = useMemo(() => {\n    if (!currency || !stablecoin) {\n      return undefined\n    }\n\n    // handle usdc\n    if (currency?.wrapped.equals(stablecoin)) {\n      return new Price(stablecoin, stablecoin, '1', '1')\n    }\n\n    // use v2 price if available, v3 as fallback\n    if (v2USDCTrade) {\n      const { numerator, denominator } = v2USDCTrade.route.midPrice\n      return new Price(currency, stablecoin, denominator, numerator)\n    } else if (v3USDCTrade.trade) {\n      const { numerator, denominator } = v3USDCTrade.trade.routes[0].midPrice\n      return new Price(currency, stablecoin, denominator, numerator)\n    }\n\n    return undefined\n  }, [currency, stablecoin, v2USDCTrade, v3USDCTrade.trade])\n\n  const lastPrice = useRef(price)\n  if (!price || !lastPrice.current || !price.equalTo(lastPrice.current)) {\n    lastPrice.current = price\n  }\n  return lastPrice.current\n}\n\nexport function useUSDCValue(currencyAmount: CurrencyAmount<Currency> | undefined | null) {\n  const price = useUSDCPrice(currencyAmount?.currency)\n\n  return useMemo(() => {\n    if (!price || !currencyAmount) return null\n    try {\n      return price.quote(currencyAmount)\n    } catch (error) {\n      return null\n    }\n  }, [currencyAmount, price])\n}\n\n/**\n *\n * @param fiatValue string representation of a USD amount\n * @returns CurrencyAmount where currency is stablecoin on active chain\n */\nexport function useStablecoinAmountFromFiatValue(fiatValue: string | null | undefined) {\n  const { chainId } = useActiveWeb3React()\n  const stablecoin = chainId ? STABLECOIN_AMOUNT_OUT[chainId]?.currency : undefined\n\n  return useMemo(() => {\n    if (fiatValue === null || fiatValue === undefined || !chainId || !stablecoin) {\n      return undefined\n    }\n\n    // trim for decimal precision when parsing\n    const parsedForDecimals = parseFloat(fiatValue).toFixed(stablecoin.decimals).toString()\n    try {\n      // parse USD string into CurrencyAmount based on stablecoin decimals\n      return tryParseCurrencyAmount(parsedForDecimals, stablecoin)\n    } catch (error) {\n      return undefined\n    }\n  }, [chainId, fiatValue, stablecoin])\n}\n","import { Trade } from '@uniswap/router-sdk'\nimport { Currency, CurrencyAmount, Percent, TradeType } from '@uniswap/sdk-core'\nimport { SUPPORTED_GAS_ESTIMATE_CHAIN_IDS } from 'constants/chains'\nimport { L2_CHAIN_IDS } from 'constants/chains'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport useNativeCurrency from 'hooks/useNativeCurrency'\nimport JSBI from 'jsbi'\nimport { useMemo } from 'react'\nimport { InterfaceTrade } from 'state/routing/types'\n\nimport useGasPrice from './useGasPrice'\nimport useUSDCPrice, { useUSDCValue } from './useUSDCPrice'\n\nconst V3_SWAP_DEFAULT_SLIPPAGE = new Percent(50, 10_000) // .50%\nconst ONE_TENTHS_PERCENT = new Percent(10, 10_000) // .10%\nexport const DEFAULT_AUTO_SLIPPAGE = ONE_TENTHS_PERCENT\n\n/**\n * Return a guess of the gas cost used in computing slippage tolerance for a given trade\n * @param trade the trade for which to _guess_ the amount of gas it would cost to execute\n */\nfunction guesstimateGas(trade: Trade<Currency, Currency, TradeType> | undefined): number | undefined {\n  if (!!trade) {\n    return 100_000 + trade.swaps.reduce((memo, swap) => swap.route.pools.length + memo, 0) * 30_000\n  }\n  return undefined\n}\n\nconst MIN_AUTO_SLIPPAGE_TOLERANCE = new Percent(5, 1000) // 0.5%\nconst MAX_AUTO_SLIPPAGE_TOLERANCE = new Percent(25, 100) // 25%\n\n/**\n * Returns slippage tolerance based on values from current trade, gas estimates from api, and active network.\n */\nexport default function useAutoSlippageTolerance(\n  trade: InterfaceTrade<Currency, Currency, TradeType> | undefined\n): Percent {\n  const { chainId } = useActiveWeb3React()\n  const onL2 = chainId && L2_CHAIN_IDS.includes(chainId)\n  const outputDollarValue = useUSDCValue(trade?.outputAmount)\n  const nativeGasPrice = useGasPrice()\n\n  const gasEstimate = guesstimateGas(trade)\n  const nativeCurrency = useNativeCurrency()\n  const nativeCurrencyPrice = useUSDCPrice((trade && nativeCurrency) ?? undefined)\n\n  return useMemo(() => {\n    if (!trade || onL2) return DEFAULT_AUTO_SLIPPAGE\n\n    const nativeGasCost =\n      nativeGasPrice && typeof gasEstimate === 'number'\n        ? JSBI.multiply(nativeGasPrice, JSBI.BigInt(gasEstimate))\n        : undefined\n    const dollarGasCost =\n      nativeCurrency && nativeGasCost && nativeCurrencyPrice\n        ? nativeCurrencyPrice.quote(CurrencyAmount.fromRawAmount(nativeCurrency, nativeGasCost))\n        : undefined\n\n    // if valid estimate from api and using api trade, use gas estimate from api\n    // NOTE - dont use gas estimate for L2s yet - need to verify accuracy\n    // if not, use local heuristic\n    const dollarCostToUse =\n      chainId && SUPPORTED_GAS_ESTIMATE_CHAIN_IDS.includes(chainId) && trade?.gasUseEstimateUSD\n        ? trade.gasUseEstimateUSD\n        : dollarGasCost\n\n    if (outputDollarValue && dollarCostToUse) {\n      // the rationale is that a user will not want their trade to fail for a loss due to slippage that is less than\n      // the cost of the gas of the failed transaction\n      const fraction = dollarCostToUse.asFraction.divide(outputDollarValue.asFraction)\n      const result = new Percent(fraction.numerator, fraction.denominator)\n      if (result.greaterThan(MAX_AUTO_SLIPPAGE_TOLERANCE)) return MAX_AUTO_SLIPPAGE_TOLERANCE\n      if (result.lessThan(MIN_AUTO_SLIPPAGE_TOLERANCE)) return MIN_AUTO_SLIPPAGE_TOLERANCE\n      return result\n    }\n\n    return V3_SWAP_DEFAULT_SLIPPAGE\n  }, [trade, onL2, nativeGasPrice, gasEstimate, nativeCurrency, nativeCurrencyPrice, chainId, outputDollarValue])\n}\n","/* eslint-disable @typescript-eslint/ban-types */\nimport { Draft } from 'immer'\nimport { atom, WritableAtom } from 'jotai'\nimport { withImmer } from 'jotai/immer'\n\n/**\n * Creates a derived atom whose value is the picked object property.\n * By default, the setter acts as a primitive atom's, changing the original atom.\n * A custom setter may also be passed, which uses an Immer Draft so that it may be mutated directly.\n */\nexport function pickAtom<Value, Key extends keyof Value & keyof Draft<Value>, Update>(\n  anAtom: WritableAtom<Value, Value>,\n  key: Key,\n  setter: (draft: Draft<Value>[Key], update: Update) => Draft<Value>[Key]\n): WritableAtom<Value[Key], Update>\nexport function pickAtom<Value, Key extends keyof Value & keyof Draft<Value>, Update extends Value[Key]>(\n  anAtom: WritableAtom<Value, Value>,\n  key: Key,\n  setter?: (draft: Draft<Value>[Key], update: Update) => Draft<Value>[Key]\n): WritableAtom<Value[Key], Update>\nexport function pickAtom<Value, Key extends keyof Value & keyof Draft<Value>, Update extends Value[Key]>(\n  anAtom: WritableAtom<Value, Value>,\n  key: Key,\n  setter: (draft: Draft<Value>[Key], update: Update) => Draft<Value>[Key] = (draft, update) =>\n    update as Draft<Value>[Key]\n): WritableAtom<Value[Key], Update> {\n  return atom(\n    (get) => get(anAtom)[key],\n    (get, set, update: Update) =>\n      set(withImmer(anAtom), (value) => {\n        const derived = setter(value[key], update)\n        value[key] = derived\n      })\n  )\n}\n\n/** Sets a togglable atom to invert its state at the next render. */\nexport function setTogglable(draft: boolean) {\n  return !draft\n}\n","import { atomWithReset } from 'jotai/utils'\n\nimport { pickAtom, setTogglable } from './atoms'\n\ninterface Settings {\n  autoSlippage: boolean // if true, slippage will use the default calculation\n  maxSlippage: number | undefined // expressed as a percent\n  transactionTtl: number | undefined\n  mockTogglable: boolean\n  clientSideRouter: boolean // whether to use the client-side router or query the remote API\n}\n\nconst initialSettings: Settings = {\n  autoSlippage: true,\n  maxSlippage: undefined,\n  transactionTtl: undefined,\n  mockTogglable: true,\n  clientSideRouter: false,\n}\n\nexport const settingsAtom = atomWithReset(initialSettings)\nexport const autoSlippageAtom = pickAtom(settingsAtom, 'autoSlippage')\nexport const maxSlippageAtom = pickAtom(settingsAtom, 'maxSlippage')\nexport const transactionTtlAtom = pickAtom(settingsAtom, 'transactionTtl')\nexport const mockTogglableAtom = pickAtom(settingsAtom, 'mockTogglable', setTogglable)\nexport const clientSideRouterAtom = pickAtom(settingsAtom, 'clientSideRouter')\n","import { Currency, Percent, TradeType } from '@uniswap/sdk-core'\nimport useAutoSlippageTolerance, { DEFAULT_AUTO_SLIPPAGE } from 'hooks/useAutoSlippageTolerance'\nimport { useAtomValue } from 'jotai/utils'\nimport { useMemo } from 'react'\nimport { InterfaceTrade } from 'state/routing/types'\nimport { autoSlippageAtom, maxSlippageAtom } from 'state/settings'\n\nexport function toPercent(maxSlippage: number | undefined): Percent | undefined {\n  if (!maxSlippage) return undefined\n  const numerator = Math.floor(maxSlippage * 100)\n  return new Percent(numerator, 10_000)\n}\n\nexport interface Slippage {\n  auto: boolean\n  allowed: Percent\n  warning?: 'warning' | 'error'\n}\n\nexport const DEFAULT_SLIPPAGE = { auto: true, allowed: DEFAULT_AUTO_SLIPPAGE }\n\n/** Returns the allowed slippage, and whether it is auto-slippage. */\nexport default function useSlippage(trade: InterfaceTrade<Currency, Currency, TradeType> | undefined): Slippage {\n  const shouldUseAutoSlippage = useAtomValue(autoSlippageAtom)\n  const autoSlippage = useAutoSlippageTolerance(shouldUseAutoSlippage ? trade : undefined)\n  const maxSlippageValue = useAtomValue(maxSlippageAtom)\n  const maxSlippage = useMemo(() => toPercent(maxSlippageValue), [maxSlippageValue])\n  return useMemo(() => {\n    const auto = shouldUseAutoSlippage || !maxSlippage\n    const allowed = shouldUseAutoSlippage ? autoSlippage : maxSlippage ?? autoSlippage\n    const warning = auto ? undefined : getSlippageWarning(allowed)\n    if (auto && allowed === DEFAULT_AUTO_SLIPPAGE) {\n      return DEFAULT_SLIPPAGE\n    }\n    return { auto, allowed, warning }\n  }, [autoSlippage, maxSlippage, shouldUseAutoSlippage])\n}\n\nexport const MAX_VALID_SLIPPAGE = new Percent(1, 2)\nexport const MIN_HIGH_SLIPPAGE = new Percent(1, 100)\n\nexport function getSlippageWarning(slippage?: Percent): 'warning' | 'error' | undefined {\n  if (slippage?.greaterThan(MAX_VALID_SLIPPAGE)) return 'error'\n  if (slippage?.greaterThan(MIN_HIGH_SLIPPAGE)) return 'warning'\n  return\n}\n","import { Currency, CurrencyAmount, Percent } from '@uniswap/sdk-core'\nimport { ONE_HUNDRED_PERCENT } from 'constants/misc'\nimport JSBI from 'jsbi'\n\nexport function computeFiatValuePriceImpact(\n  fiatValueInput: CurrencyAmount<Currency> | undefined | null,\n  fiatValueOutput: CurrencyAmount<Currency> | undefined | null\n): Percent | undefined {\n  if (!fiatValueOutput || !fiatValueInput) return undefined\n  if (!fiatValueInput.currency.equals(fiatValueOutput.currency)) return undefined\n  if (JSBI.equal(fiatValueInput.quotient, JSBI.BigInt(0))) return undefined\n  const pct = ONE_HUNDRED_PERCENT.subtract(fiatValueOutput.divide(fiatValueInput))\n  return new Percent(pct.numerator, pct.denominator)\n}\n","import { Trade } from '@uniswap/router-sdk'\nimport { Currency, CurrencyAmount, Fraction, Percent, TradeType } from '@uniswap/sdk-core'\nimport { Pair } from '@uniswap/v2-sdk'\nimport { FeeAmount } from '@uniswap/v3-sdk'\nimport {\n  ALLOWED_PRICE_IMPACT_HIGH,\n  ALLOWED_PRICE_IMPACT_LOW,\n  ALLOWED_PRICE_IMPACT_MEDIUM,\n  BLOCKED_PRICE_IMPACT_NON_EXPERT,\n  ONE_HUNDRED_PERCENT,\n  ZERO_PERCENT,\n} from 'constants/misc'\nimport JSBI from 'jsbi'\n\nconst THIRTY_BIPS_FEE = new Percent(JSBI.BigInt(30), JSBI.BigInt(10000))\nconst INPUT_FRACTION_AFTER_FEE = ONE_HUNDRED_PERCENT.subtract(THIRTY_BIPS_FEE)\n\nexport function computeRealizedPriceImpact(trade: Trade<Currency, Currency, TradeType>): Percent {\n  const realizedLpFeePercent = computeRealizedLPFeePercent(trade)\n  return trade.priceImpact.subtract(realizedLpFeePercent)\n}\n\nexport function getPriceImpactWarning(priceImpact?: Percent): 'warning' | 'error' | undefined {\n  if (priceImpact?.greaterThan(ALLOWED_PRICE_IMPACT_HIGH)) return 'error'\n  if (priceImpact?.greaterThan(ALLOWED_PRICE_IMPACT_MEDIUM)) return 'warning'\n  return\n}\n\n// computes realized lp fee as a percent\nexport function computeRealizedLPFeePercent(trade: Trade<Currency, Currency, TradeType>): Percent {\n  let percent: Percent\n\n  // Since routes are either all v2 or all v3 right now, calculate separately\n  if (trade.swaps[0].route.pools instanceof Pair) {\n    // for each hop in our trade, take away the x*y=k price impact from 0.3% fees\n    // e.g. for 3 tokens/2 hops: 1 - ((1 - .03) * (1-.03))\n    percent = ONE_HUNDRED_PERCENT.subtract(\n      trade.swaps.reduce<Percent>(\n        (currentFee: Percent): Percent => currentFee.multiply(INPUT_FRACTION_AFTER_FEE),\n        ONE_HUNDRED_PERCENT\n      )\n    )\n  } else {\n    percent = ZERO_PERCENT\n    for (const swap of trade.swaps) {\n      const { numerator, denominator } = swap.inputAmount.divide(trade.inputAmount)\n      const overallPercent = new Percent(numerator, denominator)\n\n      const routeRealizedLPFeePercent = overallPercent.multiply(\n        ONE_HUNDRED_PERCENT.subtract(\n          swap.route.pools.reduce<Percent>((currentFee: Percent, pool): Percent => {\n            const fee =\n              pool instanceof Pair\n                ? // not currently possible given protocol check above, but not fatal\n                  FeeAmount.MEDIUM\n                : pool.fee\n            return currentFee.multiply(ONE_HUNDRED_PERCENT.subtract(new Fraction(fee, 1_000_000)))\n          }, ONE_HUNDRED_PERCENT)\n        )\n      )\n\n      percent = percent.add(routeRealizedLPFeePercent)\n    }\n  }\n\n  return new Percent(percent.numerator, percent.denominator)\n}\n\n// computes price breakdown for the trade\nexport function computeRealizedLPFeeAmount(\n  trade?: Trade<Currency, Currency, TradeType> | null\n): CurrencyAmount<Currency> | undefined {\n  if (trade) {\n    const realizedLPFee = computeRealizedLPFeePercent(trade)\n\n    // the amount of the input that accrues to LPs\n    return CurrencyAmount.fromRawAmount(trade.inputAmount.currency, trade.inputAmount.multiply(realizedLPFee).quotient)\n  }\n\n  return undefined\n}\n\nconst IMPACT_TIERS = [\n  BLOCKED_PRICE_IMPACT_NON_EXPERT,\n  ALLOWED_PRICE_IMPACT_HIGH,\n  ALLOWED_PRICE_IMPACT_MEDIUM,\n  ALLOWED_PRICE_IMPACT_LOW,\n]\n\ntype WarningSeverity = 0 | 1 | 2 | 3 | 4\nexport function warningSeverity(priceImpact: Percent | undefined): WarningSeverity {\n  if (!priceImpact) return 4\n  let impact: WarningSeverity = IMPACT_TIERS.length as WarningSeverity\n  for (const impactLevel of IMPACT_TIERS) {\n    if (impactLevel.lessThan(priceImpact)) return impact\n    impact--\n  }\n  return 0\n}\n","import { Currency, CurrencyAmount, Percent, Token } from '@uniswap/sdk-core'\nimport { useUSDCValue } from 'hooks/useUSDCPrice'\nimport { useMemo } from 'react'\nimport { computeFiatValuePriceImpact } from 'utils/computeFiatValuePriceImpact'\nimport { getPriceImpactWarning } from 'utils/prices'\n\nexport interface PriceImpact {\n  percent: Percent\n  warning?: 'warning' | 'error'\n  toString(): string\n}\n\n/**\n * Computes input/output USDC equivalents and the price impact.\n * Returns the price impact as a human readable string.\n */\nexport default function useUSDCPriceImpact(\n  inputAmount: CurrencyAmount<Currency> | undefined,\n  outputAmount: CurrencyAmount<Currency> | undefined\n): {\n  inputUSDC?: CurrencyAmount<Token>\n  outputUSDC?: CurrencyAmount<Token>\n  impact?: PriceImpact\n} {\n  const inputUSDC = useUSDCValue(inputAmount) ?? undefined\n  const outputUSDC = useUSDCValue(outputAmount) ?? undefined\n  return useMemo(() => {\n    const priceImpact = computeFiatValuePriceImpact(inputUSDC, outputUSDC)\n    const impact = priceImpact\n      ? {\n          percent: priceImpact,\n          warning: getPriceImpactWarning(priceImpact),\n          toString: () => toHumanReadablePriceImpact(priceImpact),\n        }\n      : undefined\n    return { inputUSDC, outputUSDC, impact }\n  }, [inputUSDC, outputUSDC])\n}\n\nfunction toHumanReadablePriceImpact(priceImpact: Percent): string {\n  const sign = priceImpact.lessThan(0) ? '+' : ''\n  const number = parseFloat(priceImpact.multiply(-1)?.toSignificant(3))\n  return `${sign}${number}%`\n}\n","import { Currency } from '@uniswap/sdk-core'\nimport { FeeOptions } from '@uniswap/v3-sdk'\nimport { SupportedChainId } from 'constants/chains'\nimport { nativeOnChain } from 'constants/tokens'\nimport { atom } from 'jotai'\nimport { atomWithImmer } from 'jotai/immer'\n\nexport enum Field {\n  INPUT = 'INPUT',\n  OUTPUT = 'OUTPUT',\n}\n\nexport interface Swap {\n  independentField: Field\n  amount: string\n  [Field.INPUT]?: Currency\n  [Field.OUTPUT]?: Currency\n}\n\nexport const swapAtom = atomWithImmer<Swap>({\n  independentField: Field.INPUT,\n  amount: '',\n  [Field.INPUT]: nativeOnChain(SupportedChainId.MAINNET),\n})\n\n// If set to a transaction hash, that transaction will display in a status dialog.\nexport const displayTxHashAtom = atom<string | undefined>(undefined)\n\nexport const feeOptionsAtom = atom<FeeOptions | undefined>(undefined)\n","import { useEffect, useState } from 'react'\n\n/**\n * Returns the last value of type T that passes a filter function\n * @param value changing value\n * @param filterFn function that determines whether a given value should be considered for the last value\n */\nexport default function useLast<T>(\n  value: T | undefined | null,\n  filterFn?: (value: T | null | undefined) => boolean\n): T | null | undefined {\n  const [last, setLast] = useState<T | null | undefined>(filterFn && filterFn(value) ? value : undefined)\n  useEffect(() => {\n    setLast((last) => {\n      const shouldUse: boolean = filterFn ? filterFn(value) : true\n      if (shouldUse) return value\n      return last\n    })\n  }, [filterFn, value])\n  return last\n}\n","import { Currency, CurrencyAmount, Token, TradeType } from '@uniswap/sdk-core'\nimport { Pair, Route as V2Route } from '@uniswap/v2-sdk'\nimport { FeeAmount, Pool, Route as V3Route } from '@uniswap/v3-sdk'\nimport { nativeOnChain } from 'constants/tokens'\n\nimport { GetQuoteResult, InterfaceTrade, V2PoolInRoute, V3PoolInRoute } from './types'\n\n/**\n * Transforms a Routing API quote into an array of routes that can be used to create\n * a `Trade`.\n */\nexport function computeRoutes(\n  currencyIn: Currency | undefined,\n  currencyOut: Currency | undefined,\n  tradeType: TradeType,\n  quoteResult: Pick<GetQuoteResult, 'route'> | undefined\n) {\n  if (!quoteResult || !quoteResult.route || !currencyIn || !currencyOut) return undefined\n\n  if (quoteResult.route.length === 0) return []\n\n  const parsedTokenIn = parseToken(quoteResult.route[0][0].tokenIn)\n  const parsedTokenOut = parseToken(quoteResult.route[0][quoteResult.route[0].length - 1].tokenOut)\n\n  if (parsedTokenIn.address !== currencyIn.wrapped.address) return undefined\n  if (parsedTokenOut.address !== currencyOut.wrapped.address) return undefined\n\n  const parsedCurrencyIn = currencyIn.isNative ? nativeOnChain(currencyIn.chainId) : parsedTokenIn\n  const parsedCurrencyOut = currencyOut.isNative ? nativeOnChain(currencyOut.chainId) : parsedTokenOut\n\n  try {\n    return quoteResult.route.map((route) => {\n      if (route.length === 0) {\n        throw new Error('Expected route to have at least one pair or pool')\n      }\n      const rawAmountIn = route[0].amountIn\n      const rawAmountOut = route[route.length - 1].amountOut\n\n      if (!rawAmountIn || !rawAmountOut) {\n        throw new Error('Expected both amountIn and amountOut to be present')\n      }\n  \n      return {\n        routev3: isV3Route(route) ? new V3Route(route.map(parsePool), parsedCurrencyIn, parsedCurrencyOut) : null,\n        routev2: !isV3Route(route) ? new V2Route(route.map(parsePair), parsedCurrencyIn, parsedCurrencyOut) : null,\n        inputAmount: CurrencyAmount.fromRawAmount(parsedCurrencyIn, rawAmountIn),\n        outputAmount: CurrencyAmount.fromRawAmount(parsedCurrencyOut, rawAmountOut),\n      }\n    })\n  } catch (e) {\n    // `Route` constructor may throw if inputs/outputs are temporarily out of sync\n    // (RTK-Query always returns the latest data which may not be the right inputs/outputs)\n    // This is not fatal and will fix itself in future render cycles\n    console.error(e)\n    return undefined\n  }\n}\n\nexport function transformRoutesToTrade<TTradeType extends TradeType>(\n  route: ReturnType<typeof computeRoutes>,\n  tradeType: TTradeType,\n  gasUseEstimateUSD?: CurrencyAmount<Token> | null\n): InterfaceTrade<Currency, Currency, TTradeType> {\n  return new InterfaceTrade({\n    v2Routes:\n      route\n        ?.filter((r): r is typeof route[0] & { routev2: NonNullable<typeof route[0]['routev2']> } => r.routev2 !== null)\n        .map(({ routev2, inputAmount, outputAmount }) => ({ routev2, inputAmount, outputAmount })) ?? [],\n    v3Routes:\n      route\n        ?.filter((r): r is typeof route[0] & { routev3: NonNullable<typeof route[0]['routev3']> } => r.routev3 !== null)\n        .map(({ routev3, inputAmount, outputAmount }) => ({ routev3, inputAmount, outputAmount })) ?? [],\n    tradeType,\n    gasUseEstimateUSD,\n  })\n}\n\nconst parseToken = ({ address, chainId, decimals, symbol }: GetQuoteResult['route'][0][0]['tokenIn']): Token => {\n  return new Token(chainId, address, parseInt(decimals.toString()), symbol)\n}\n\nconst parsePool = ({ fee, sqrtRatioX96, liquidity, tickCurrent, tokenIn, tokenOut }: V3PoolInRoute): Pool =>\n  new Pool(\n    parseToken(tokenIn),\n    parseToken(tokenOut),\n    parseInt(fee) as FeeAmount,\n    sqrtRatioX96,\n    liquidity,\n    parseInt(tickCurrent)\n  )\n\nconst parsePair = ({ reserve0, reserve1 }: V2PoolInRoute): Pair =>\n  new Pair(\n    CurrencyAmount.fromRawAmount(parseToken(reserve0.token), reserve0.quotient),\n    CurrencyAmount.fromRawAmount(parseToken(reserve1.token), reserve1.quotient)\n  )\n\nfunction isV3Route(route: V3PoolInRoute[] | V2PoolInRoute[]): route is V3PoolInRoute[] {\n  return route[0].type === 'v3-pool'\n}\n","import { ContractTransaction } from '@ethersproject/contracts'\nimport { WRAPPED_NATIVE_CURRENCY } from 'constants/tokens'\nimport { useWETHContract } from 'hooks/useContract'\nimport { useAtomValue } from 'jotai/utils'\nimport { useMemo } from 'react'\nimport { Field, swapAtom } from 'state/swap'\nimport tryParseCurrencyAmount from 'utils/tryParseCurrencyAmount'\n\nimport useActiveWeb3React from '../useActiveWeb3React'\nimport useCurrencyBalance from '../useCurrencyBalance'\n\nexport enum WrapType {\n  NONE,\n  WRAP,\n  UNWRAP,\n}\ninterface UseWrapCallbackReturns {\n  callback?: () => Promise<ContractTransaction>\n  type: WrapType\n}\n\nexport default function useWrapCallback(): UseWrapCallbackReturns {\n  const { account, chainId } = useActiveWeb3React()\n  const wrappedNativeCurrencyContract = useWETHContract()\n  const { amount, [Field.INPUT]: inputCurrency, [Field.OUTPUT]: outputCurrency } = useAtomValue(swapAtom)\n\n  const wrapType = useMemo(() => {\n    if (chainId && inputCurrency && outputCurrency) {\n      if (inputCurrency.isNative && WRAPPED_NATIVE_CURRENCY[chainId]?.equals(outputCurrency)) {\n        return WrapType.WRAP\n      }\n      if (outputCurrency.isNative && WRAPPED_NATIVE_CURRENCY[chainId]?.equals(inputCurrency)) {\n        return WrapType.UNWRAP\n      }\n    }\n    return WrapType.NONE\n  }, [chainId, inputCurrency, outputCurrency])\n\n  const parsedAmountIn = useMemo(\n    () => tryParseCurrencyAmount(amount, inputCurrency ?? undefined),\n    [inputCurrency, amount]\n  )\n  const balanceIn = useCurrencyBalance(account, inputCurrency)\n\n  const callback = useMemo(() => {\n    if (\n      wrapType === WrapType.NONE ||\n      !parsedAmountIn ||\n      !balanceIn ||\n      balanceIn.lessThan(parsedAmountIn) ||\n      !wrappedNativeCurrencyContract\n    ) {\n      return\n    }\n\n    return async () =>\n      wrapType === WrapType.WRAP\n        ? wrappedNativeCurrencyContract.deposit({ value: `0x${parsedAmountIn.quotient.toString(16)}` })\n        : wrappedNativeCurrencyContract.withdraw(`0x${parsedAmountIn.quotient.toString(16)}`)\n  }, [wrapType, parsedAmountIn, balanceIn, wrappedNativeCurrencyContract])\n\n  return useMemo(() => ({ callback, type: wrapType }), [callback, wrapType])\n}\n","import { atomWithImmer } from 'jotai/immer'\nimport { useAtomValue, useUpdateAtom } from 'jotai/utils'\nimport { useCallback } from 'react'\n\nimport useActiveWeb3React from './useActiveWeb3React'\nimport useBlockNumber from './useBlockNumber'\n\n// The oldest block (per chain) to be considered valid.\nconst oldestBlockMapAtom = atomWithImmer<{ [chainId: number]: number }>({})\n\nconst DEFAULT_MAX_BLOCK_AGE = 10\n\nexport function useSetOldestValidBlock(): (block: number) => void {\n  const { chainId } = useActiveWeb3React()\n  const updateValidBlock = useUpdateAtom(oldestBlockMapAtom)\n  return useCallback(\n    (block: number) => {\n      if (!chainId) return\n      updateValidBlock((oldestBlockMap) => {\n        oldestBlockMap[chainId] = Math.max(block, oldestBlockMap[chainId] || 0)\n      })\n    },\n    [chainId, updateValidBlock]\n  )\n}\n\nexport function useGetIsValidBlock(maxBlockAge = DEFAULT_MAX_BLOCK_AGE): (block: number) => boolean {\n  const { chainId } = useActiveWeb3React()\n  const currentBlock = useBlockNumber()\n  const oldestBlockMap = useAtomValue(oldestBlockMapAtom)\n  const oldestBlock = chainId ? oldestBlockMap[chainId] : 0\n  return useCallback(\n    (block: number) => {\n      if (!currentBlock) return false\n      if (currentBlock - block > maxBlockAge) return false\n      if (currentBlock < oldestBlock) return false\n      return true\n    },\n    [currentBlock, maxBlockAge, oldestBlock]\n  )\n}\n\nexport default function useIsValidBlock(block: number): boolean {\n  return useGetIsValidBlock()(block)\n}\n","import ms from 'ms.macro'\nimport { useEffect, useMemo, useState } from 'react'\n\nconst DEFAULT_POLLING_INTERVAL = ms`15s`\nconst DEFAULT_KEEP_UNUSED_DATA_FOR = ms`10s`\n\ninterface PollingOptions<T> {\n  // If true, any cached result will be returned, but no new fetch will be initiated.\n  debounce?: boolean\n\n  // If stale, any cached result will be returned, and a new fetch will be initiated.\n  isStale?: (value: T) => boolean\n\n  pollingInterval?: number\n  keepUnusedDataFor?: number\n}\n\ninterface CacheEntry<T> {\n  ttl: number | null // null denotes a pending fetch\n  result?: T\n}\n\nexport default function usePoll<T>(\n  fetch: () => Promise<T>,\n  key = '',\n  {\n    debounce = false,\n    isStale,\n    pollingInterval = DEFAULT_POLLING_INTERVAL,\n    keepUnusedDataFor = DEFAULT_KEEP_UNUSED_DATA_FOR,\n  }: PollingOptions<T>\n): T | undefined {\n  const cache = useMemo(() => new Map<string, CacheEntry<T>>(), [])\n  const [, setData] = useState<{ key: string; result?: T }>({ key })\n\n  useEffect(() => {\n    if (debounce) return\n\n    let timeout: number\n\n    const entry = cache.get(key)\n    if (entry) {\n      // If there is not a pending fetch (and there should be), queue one.\n      if (entry.ttl) {\n        if (isStale && entry?.result !== undefined ? isStale(entry.result) : false) {\n          poll() // stale results should be refetched immediately\n        } else if (entry.ttl && entry.ttl + keepUnusedDataFor > Date.now()) {\n          timeout = setTimeout(poll, Math.max(0, entry.ttl - Date.now()))\n        }\n      }\n    } else {\n      // If there is no cached entry, trigger a poll immediately.\n      poll()\n    }\n    setData({ key, result: entry?.result })\n\n    return () => {\n      clearTimeout(timeout)\n      timeout = 0\n    }\n\n    async function poll(ttl = Date.now() + pollingInterval) {\n      timeout = setTimeout(poll, pollingInterval) // queue the next poll\n      cache.set(key, { ttl: null, ...cache.get(key) }) // mark the entry as a pending fetch\n\n      // Always set the result in the cache, but only set it as data if the key is still being queried.\n      const result = await fetch()\n      cache.set(key, { ttl, result })\n      if (timeout) setData((data) => (data.key === key ? { key, result } : data))\n    }\n  }, [cache, debounce, fetch, isStale, keepUnusedDataFor, key, pollingInterval])\n\n  useEffect(() => {\n    // Cleanup stale entries when a new key is used.\n    void key\n\n    const now = Date.now()\n    cache.forEach(({ ttl }, key) => {\n      if (ttl && ttl + keepUnusedDataFor <= now) {\n        cache.delete(key)\n      }\n    })\n  }, [cache, keepUnusedDataFor, key])\n\n  // Use data.result to force a re-render, but actually retrieve the data from the cache.\n  // This gives the _first_ render access to a new result, avoiding lag introduced by React.\n  return cache.get(key)?.result\n}\n","import { Currency, CurrencyAmount, TradeType } from '@uniswap/sdk-core'\nimport { useMemo } from 'react'\n\n/**\n * Returns query arguments for the Routing API query or undefined if the\n * query should be skipped. Input arguments do not need to be memoized, as they will\n * be destructured.\n */\nexport function useRoutingAPIArguments({\n  tokenIn,\n  tokenOut,\n  amount,\n  tradeType,\n  useClientSideRouter,\n}: {\n  tokenIn: Currency | undefined\n  tokenOut: Currency | undefined\n  amount: CurrencyAmount<Currency> | undefined\n  tradeType: TradeType\n  useClientSideRouter: boolean\n}) {\n  return useMemo(\n    () =>\n      !tokenIn || !tokenOut || !amount || tokenIn.equals(tokenOut)\n        ? undefined\n        : {\n            amount: amount.quotient.toString(),\n            tokenInAddress: tokenIn.wrapped.address,\n            tokenInChainId: tokenIn.wrapped.chainId,\n            tokenInDecimals: tokenIn.wrapped.decimals,\n            tokenInSymbol: tokenIn.wrapped.symbol,\n            tokenOutAddress: tokenOut.wrapped.address,\n            tokenOutChainId: tokenOut.wrapped.chainId,\n            tokenOutDecimals: tokenOut.wrapped.decimals,\n            tokenOutSymbol: tokenOut.wrapped.symbol,\n            useClientSideRouter,\n            type: (tradeType === TradeType.EXACT_INPUT ? 'exactIn' : 'exactOut') as 'exactIn' | 'exactOut',\n          },\n    [amount, tokenIn, tokenOut, tradeType, useClientSideRouter]\n  )\n}\n","import 'setimmediate'\n\nimport { Protocol } from '@uniswap/router-sdk'\nimport { Currency, CurrencyAmount, TradeType } from '@uniswap/sdk-core'\nimport { SupportedChainId } from 'constants/chains'\nimport useDebounce from 'hooks/useDebounce'\nimport { useStablecoinAmountFromFiatValue } from 'hooks/useUSDCPrice'\nimport { useCallback, useMemo } from 'react'\nimport { GetQuoteResult, InterfaceTrade, TradeState } from 'state/routing/types'\nimport { computeRoutes, transformRoutesToTrade } from 'state/routing/utils'\n\nimport useWrapCallback, { WrapType } from '../swap/useWrapCallback'\nimport useActiveWeb3React from '../useActiveWeb3React'\nimport { useGetIsValidBlock } from '../useIsValidBlock'\nimport usePoll from '../usePoll'\nimport { useRoutingAPIArguments } from './useRoutingAPIArguments'\n\n/**\n * Reduces client-side latency by increasing the minimum percentage of the input token to use for each route in a split route while SOR is used client-side.\n * Defaults are defined in https://github.com/Uniswap/smart-order-router/blob/309e6f6603984d3b5aef0733b0cfaf129c29f602/src/routers/alpha-router/config.ts#L83.\n */\nconst DistributionPercents: { [key: number]: number } = {\n  [SupportedChainId.MAINNET]: 10,\n  [SupportedChainId.OPTIMISM]: 10,\n  [SupportedChainId.OPTIMISTIC_KOVAN]: 10,\n  [SupportedChainId.ARBITRUM_ONE]: 25,\n  [SupportedChainId.ARBITRUM_RINKEBY]: 25,\n}\nconst DEFAULT_DISTRIBUTION_PERCENT = 10\nfunction getConfig(chainId: SupportedChainId | undefined) {\n  return {\n    // Limit to only V2 and V3.\n    protocols: [Protocol.V2, Protocol.V3],\n    distributionPercent: (chainId && DistributionPercents[chainId]) ?? DEFAULT_DISTRIBUTION_PERCENT,\n  }\n}\n\nexport default function useClientSideSmartOrderRouterTrade<TTradeType extends TradeType>(\n  tradeType: TTradeType,\n  amountSpecified?: CurrencyAmount<Currency>,\n  otherCurrency?: Currency\n): {\n  state: TradeState\n  trade: InterfaceTrade<Currency, Currency, TTradeType> | undefined\n} {\n  const amount = useMemo(() => amountSpecified?.asFraction, [amountSpecified])\n  const [currencyIn, currencyOut] =\n    tradeType === TradeType.EXACT_INPUT\n      ? [amountSpecified?.currency, otherCurrency]\n      : [otherCurrency, amountSpecified?.currency]\n\n  // Debounce is used to prevent excessive requests to SOR, as it is data intensive.\n  // Fast user actions (ie updating the input) should be debounced, but currency changes should not.\n  const [debouncedAmount, debouncedCurrencyIn, debouncedCurrencyOut] = useDebounce(\n    useMemo(() => [amount, currencyIn, currencyOut], [amount, currencyIn, currencyOut]),\n    200\n  )\n  const isDebouncing =\n    amount !== debouncedAmount && currencyIn === debouncedCurrencyIn && currencyOut === debouncedCurrencyOut\n\n  const queryArgs = useRoutingAPIArguments({\n    tokenIn: currencyIn,\n    tokenOut: currencyOut,\n    amount: amountSpecified,\n    tradeType,\n    useClientSideRouter: true,\n  })\n  const chainId = amountSpecified?.currency.chainId\n  const { library } = useActiveWeb3React()\n  const params = useMemo(() => chainId && library && { chainId, provider: library }, [chainId, library])\n  const config = useMemo(() => getConfig(chainId), [chainId])\n  const { type: wrapType } = useWrapCallback()\n\n  const getQuoteResult = useCallback(async (): Promise<{ data?: GetQuoteResult; error?: unknown }> => {\n    if (wrapType !== WrapType.NONE) return { error: undefined }\n    if (!queryArgs || !params) return { error: undefined }\n    try {\n      // Lazy-load the smart order router to improve initial pageload times.\n      const quoteResult = await (\n        await import('./clientSideSmartOrderRouter')\n      ).getClientSideQuote(queryArgs, params, config)\n\n      // There is significant post-fetch processing, so delay a tick to prevent dropped frames.\n      // This is only important in the context of integrations - if we control the whole site,\n      // then we can afford to drop a few frames.\n      return new Promise((resolve) => setImmediate(() => resolve(quoteResult)))\n    } catch {\n      return { error: true }\n    }\n  }, [config, params, queryArgs, wrapType])\n\n  const getIsValidBlock = useGetIsValidBlock()\n  const { data: quoteResult, error } = usePoll(getQuoteResult, JSON.stringify(queryArgs), {\n    debounce: isDebouncing,\n    isStale: useCallback(({ data }) => !getIsValidBlock(Number(data?.blockNumber) || 0), [getIsValidBlock]),\n  }) ?? {\n    error: undefined,\n  }\n  const isValid = getIsValidBlock(Number(quoteResult?.blockNumber) || 0)\n\n  const route = useMemo(\n    () => computeRoutes(currencyIn, currencyOut, tradeType, quoteResult),\n    [currencyIn, currencyOut, quoteResult, tradeType]\n  )\n  const gasUseEstimateUSD = useStablecoinAmountFromFiatValue(quoteResult?.gasUseEstimateUSD) ?? null\n  const trade = useMemo(() => {\n    if (route) {\n      try {\n        return route && transformRoutesToTrade(route, tradeType, gasUseEstimateUSD)\n      } catch (e: unknown) {\n        console.debug('transformRoutesToTrade failed: ', e)\n      }\n    }\n    return\n  }, [gasUseEstimateUSD, route, tradeType])\n\n  return useMemo(() => {\n    if (!currencyIn || !currencyOut) {\n      return { state: TradeState.INVALID, trade: undefined }\n    }\n\n    if (!trade && !error) {\n      if (isDebouncing) {\n        return { state: TradeState.SYNCING, trade: undefined }\n      } else if (!isValid) {\n        return { state: TradeState.LOADING, trade: undefined }\n      }\n    }\n\n    let otherAmount = undefined\n    if (quoteResult) {\n      switch (tradeType) {\n        case TradeType.EXACT_INPUT:\n          otherAmount = CurrencyAmount.fromRawAmount(currencyOut, quoteResult.quote)\n          break\n        case TradeType.EXACT_OUTPUT:\n          otherAmount = CurrencyAmount.fromRawAmount(currencyIn, quoteResult.quote)\n          break\n      }\n    }\n\n    if (error || !otherAmount || !route || route.length === 0) {\n      return { state: TradeState.NO_ROUTE_FOUND, trade: undefined }\n    }\n\n    if (trade) {\n      return { state: TradeState.VALID, trade }\n    }\n    return { state: TradeState.INVALID, trade: undefined }\n  }, [currencyIn, currencyOut, trade, error, isValid, quoteResult, route, isDebouncing, tradeType])\n}\n","import { Currency, CurrencyAmount, TradeType } from '@uniswap/sdk-core'\nimport { useClientSideV3Trade } from 'hooks/useClientSideV3Trade'\nimport useLast from 'hooks/useLast'\nimport { useMemo } from 'react'\nimport { InterfaceTrade, TradeState } from 'state/routing/types'\n\nimport useClientSideSmartOrderRouterTrade from '../routing/useClientSideSmartOrderRouterTrade'\n\nexport const INVALID_TRADE = { state: TradeState.INVALID, trade: undefined }\n\n/**\n * Returns the best v2+v3 trade for a desired swap.\n * @param tradeType whether the swap is an exact in/out\n * @param amountSpecified the exact amount to swap in/out\n * @param otherCurrency the desired output/payment currency\n */\nexport function useBestTrade(\n  tradeType: TradeType,\n  amountSpecified?: CurrencyAmount<Currency>,\n  otherCurrency?: Currency\n): {\n  state: TradeState\n  trade: InterfaceTrade<Currency, Currency, TradeType> | undefined\n} {\n  const clientSORTradeObject = useClientSideSmartOrderRouterTrade(tradeType, amountSpecified, otherCurrency)\n\n  // Use a simple client side logic as backup if SOR is not available.\n  const useFallback =\n    clientSORTradeObject.state === TradeState.NO_ROUTE_FOUND || clientSORTradeObject.state === TradeState.INVALID\n  const fallbackTradeObject = useClientSideV3Trade(\n    tradeType,\n    useFallback ? amountSpecified : undefined,\n    useFallback ? otherCurrency : undefined\n  )\n\n  const tradeObject = useFallback ? fallbackTradeObject : clientSORTradeObject\n  const lastTrade = useLast(tradeObject.trade, Boolean) ?? undefined\n\n  // Return the last trade while syncing/loading to avoid jank from clearing the last trade while loading.\n  // If the trade is unsettled and not stale, return the last trade as a placeholder during settling.\n  return useMemo(() => {\n    const { state, trade } = tradeObject\n    // If the trade is in a settled state, return it.\n    if (state === TradeState.INVALID) return INVALID_TRADE\n    if ((state !== TradeState.LOADING && state !== TradeState.SYNCING) || trade) return tradeObject\n\n    const [currencyIn, currencyOut] =\n      tradeType === TradeType.EXACT_INPUT\n        ? [amountSpecified?.currency, otherCurrency]\n        : [otherCurrency, amountSpecified?.currency]\n\n    // If the trade currencies have switched, consider it stale - do not return the last trade.\n    const isStale =\n      (currencyIn && !lastTrade?.inputAmount?.currency.equals(currencyIn)) ||\n      (currencyOut && !lastTrade?.outputAmount?.currency.equals(currencyOut))\n    if (isStale) return tradeObject\n\n    return { state, trade: lastTrade }\n  }, [amountSpecified?.currency, lastTrade, otherCurrency, tradeObject, tradeType])\n}\n","import { Currency, CurrencyAmount, TradeType } from '@uniswap/sdk-core'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useCurrencyBalances } from 'hooks/useCurrencyBalance'\nimport useSlippage, { DEFAULT_SLIPPAGE, Slippage } from 'hooks/useSlippage'\nimport useUSDCPriceImpact, { PriceImpact } from 'hooks/useUSDCPriceImpact'\nimport { useAtomValue } from 'jotai/utils'\nimport { createContext, PropsWithChildren, useContext, useMemo } from 'react'\nimport { InterfaceTrade, TradeState } from 'state/routing/types'\nimport { Field, swapAtom } from 'state/swap'\nimport tryParseCurrencyAmount from 'utils/tryParseCurrencyAmount'\n\nimport { INVALID_TRADE, useBestTrade } from './useBestTrade'\nimport useWrapCallback, { WrapType } from './useWrapCallback'\n\ninterface SwapField {\n  currency?: Currency\n  amount?: CurrencyAmount<Currency>\n  balance?: CurrencyAmount<Currency>\n  usdc?: CurrencyAmount<Currency>\n}\n\nexport interface SwapInfo {\n  [Field.INPUT]: SwapField\n  [Field.OUTPUT]: SwapField\n  trade: {\n    trade?: InterfaceTrade<Currency, Currency, TradeType>\n    state: TradeState\n  }\n  slippage: Slippage\n  impact?: PriceImpact\n}\n\n// from the current swap inputs, compute the best trade and return it.\nfunction useComputeSwapInfo(): SwapInfo {\n  const { type: wrapType } = useWrapCallback()\n  const isWrapping = wrapType === WrapType.WRAP || wrapType === WrapType.UNWRAP\n  const { independentField, amount, [Field.INPUT]: currencyIn, [Field.OUTPUT]: currencyOut } = useAtomValue(swapAtom)\n  const isExactIn = independentField === Field.INPUT\n\n  const parsedAmount = useMemo(\n    () => tryParseCurrencyAmount(amount, (isExactIn ? currencyIn : currencyOut) ?? undefined),\n    [amount, isExactIn, currencyIn, currencyOut]\n  )\n  const hasAmounts = currencyIn && currencyOut && parsedAmount && !isWrapping\n  const trade = useBestTrade(\n    isExactIn ? TradeType.EXACT_INPUT : TradeType.EXACT_OUTPUT,\n    hasAmounts ? parsedAmount : undefined,\n    hasAmounts ? (isExactIn ? currencyOut : currencyIn) : undefined\n  )\n\n  const amountIn = useMemo(\n    () => (isWrapping || isExactIn ? parsedAmount : trade.trade?.inputAmount),\n    [isExactIn, isWrapping, parsedAmount, trade.trade?.inputAmount]\n  )\n  const amountOut = useMemo(\n    () => (isWrapping || !isExactIn ? parsedAmount : trade.trade?.outputAmount),\n    [isExactIn, isWrapping, parsedAmount, trade.trade?.outputAmount]\n  )\n\n  const { account } = useActiveWeb3React()\n  const [balanceIn, balanceOut] = useCurrencyBalances(\n    account,\n    useMemo(() => [currencyIn, currencyOut], [currencyIn, currencyOut])\n  )\n\n  // Compute slippage and impact off of the trade so that it refreshes with the trade.\n  // (Using amountIn/amountOut would show (incorrect) intermediate values.)\n  const slippage = useSlippage(trade.trade)\n  const { inputUSDC, outputUSDC, impact } = useUSDCPriceImpact(trade.trade?.inputAmount, trade.trade?.outputAmount)\n\n  return useMemo(\n    () => ({\n      [Field.INPUT]: {\n        currency: currencyIn,\n        amount: amountIn,\n        balance: balanceIn,\n        usdc: inputUSDC,\n      },\n      [Field.OUTPUT]: {\n        currency: currencyOut,\n        amount: amountOut,\n        balance: balanceOut,\n        usdc: outputUSDC,\n      },\n      trade,\n      slippage,\n      impact,\n    }),\n    [\n      amountIn,\n      amountOut,\n      balanceIn,\n      balanceOut,\n      currencyIn,\n      currencyOut,\n      impact,\n      inputUSDC,\n      outputUSDC,\n      slippage,\n      trade,\n    ]\n  )\n}\n\nconst DEFAULT_SWAP_INFO: SwapInfo = {\n  [Field.INPUT]: {},\n  [Field.OUTPUT]: {},\n  trade: INVALID_TRADE,\n  slippage: DEFAULT_SLIPPAGE,\n}\n\nconst SwapInfoContext = createContext(DEFAULT_SWAP_INFO)\n\nexport function SwapInfoProvider({ children, disabled }: PropsWithChildren<{ disabled?: boolean }>) {\n  const swapInfo = useComputeSwapInfo()\n  if (disabled) {\n    return <SwapInfoContext.Provider value={DEFAULT_SWAP_INFO}>{children}</SwapInfoContext.Provider>\n  }\n  return <SwapInfoContext.Provider value={swapInfo}>{children}</SwapInfoContext.Provider>\n}\n\n/** Requires that SwapInfoUpdater be installed in the DOM tree. **/\nexport default function useSwapInfo(): SwapInfo {\n  return useContext(SwapInfoContext)\n}\n","import { Percent } from '@uniswap/sdk-core'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useUpdateAtom } from 'jotai/utils'\nimport { useEffect } from 'react'\nimport { feeOptionsAtom } from 'state/swap'\n\nexport interface FeeOptions {\n  convenienceFee?: number\n  convenienceFeeRecipient?: string | string | { [chainId: number]: string }\n}\n\nexport default function useSyncConvenienceFee({ convenienceFee, convenienceFeeRecipient }: FeeOptions) {\n  const { chainId } = useActiveWeb3React()\n  const updateFeeOptions = useUpdateAtom(feeOptionsAtom)\n\n  useEffect(() => {\n    if (convenienceFee && convenienceFeeRecipient) {\n      if (typeof convenienceFeeRecipient === 'string') {\n        updateFeeOptions({\n          fee: new Percent(convenienceFee, 10_000),\n          recipient: convenienceFeeRecipient,\n        })\n        return\n      }\n      if (chainId && convenienceFeeRecipient[chainId]) {\n        updateFeeOptions({\n          fee: new Percent(convenienceFee, 10_000),\n          recipient: convenienceFeeRecipient[chainId],\n        })\n        return\n      }\n    }\n    updateFeeOptions(undefined)\n  }, [chainId, convenienceFee, convenienceFeeRecipient, updateFeeOptions])\n}\n","import { Provider } from '@ethersproject/abstract-provider'\nimport { Contract } from '@ethersproject/contracts'\nimport { namehash } from '@ethersproject/hash'\n\nconst REGISTRAR_ABI = [\n  {\n    constant: true,\n    inputs: [\n      {\n        name: 'node',\n        type: 'bytes32',\n      },\n    ],\n    name: 'resolver',\n    outputs: [\n      {\n        name: 'resolverAddress',\n        type: 'address',\n      },\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n]\nconst REGISTRAR_ADDRESS = '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e'\n\nconst RESOLVER_ABI = [\n  {\n    constant: true,\n    inputs: [\n      {\n        internalType: 'bytes32',\n        name: 'node',\n        type: 'bytes32',\n      },\n    ],\n    name: 'contenthash',\n    outputs: [\n      {\n        internalType: 'bytes',\n        name: '',\n        type: 'bytes',\n      },\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n]\n\n// cache the resolver contracts since most of them are the public resolver\nfunction resolverContract(resolverAddress: string, provider: Provider): Contract {\n  return new Contract(resolverAddress, RESOLVER_ABI, provider)\n}\n\n/**\n * Fetches and decodes the result of an ENS contenthash lookup on mainnet to a URI\n * @param ensName to resolve\n * @param provider provider to use to fetch the data\n */\nexport default async function resolveENSContentHash(ensName: string, provider: Provider): Promise<string> {\n  const ensRegistrarContract = new Contract(REGISTRAR_ADDRESS, REGISTRAR_ABI, provider)\n  const hash = namehash(ensName)\n  const resolverAddress = await ensRegistrarContract.resolver(hash)\n  return resolverContract(resolverAddress, provider).contenthash(hash)\n}\n","import CID from 'cids'\nimport { getNameFromData, rmPrefix } from 'multicodec'\nimport { decode, toB58String } from 'multihashes'\n\nexport function hexToUint8Array(hex: string): Uint8Array {\n  hex = hex.startsWith('0x') ? hex.substr(2) : hex\n  if (hex.length % 2 !== 0) throw new Error('hex must have length that is multiple of 2')\n  const arr = new Uint8Array(hex.length / 2)\n  for (let i = 0; i < arr.length; i++) {\n    arr[i] = parseInt(hex.substr(i * 2, 2), 16)\n  }\n  return arr\n}\n\nconst UTF_8_DECODER = new TextDecoder('utf-8')\n\n/**\n * Returns the URI representation of the content hash for supported codecs\n * @param contenthash to decode\n */\nexport default function contenthashToUri(contenthash: string): string {\n  const data = hexToUint8Array(contenthash)\n  const codec = getNameFromData(data)\n  switch (codec) {\n    case 'ipfs-ns': {\n      const unprefixedData = rmPrefix(data)\n      const cid = new CID(unprefixedData)\n      return `ipfs://${toB58String(cid.multihash)}`\n    }\n    case 'ipns-ns': {\n      const unprefixedData = rmPrefix(data)\n      const cid = new CID(unprefixedData)\n      const multihash = decode(cid.multihash)\n      if (multihash.name === 'identity') {\n        return `ipns://${UTF_8_DECODER.decode(multihash.digest).trim()}`\n      } else {\n        return `ipns://${toB58String(cid.multihash)}`\n      }\n    }\n    default:\n      throw new Error(`Unrecognized codec: ${codec}`)\n  }\n}\n","const ENS_NAME_REGEX = /^(([a-zA-Z0-9]+(-[a-zA-Z0-9]+)*\\.)+)eth(\\/.*)?$/\n\nexport default function parseENSAddress(\n  ensAddress: string\n): { ensName: string; ensPath: string | undefined } | undefined {\n  const match = ensAddress.match(ENS_NAME_REGEX)\n  if (!match) return undefined\n  return { ensName: `${match[1].toLowerCase()}eth`, ensPath: match[4] }\n}\n","/**\n * Given a URI that may be ipfs, ipns, http, https, ar, or data protocol, return the fetch-able http(s) URLs for the same content\n * @param uri to convert to fetch-able http url\n */\nexport default function uriToHttp(uri: string): string[] {\n  const protocol = uri.split(':')[0].toLowerCase()\n  switch (protocol) {\n    case 'data':\n      return [uri]\n    case 'https':\n      return [uri]\n    case 'http':\n      return ['https' + uri.substr(4), uri]\n    case 'ipfs':\n      const hash = uri.match(/^ipfs:(\\/\\/)?(.*)$/i)?.[2]\n      return [`https://cloudflare-ipfs.com/ipfs/${hash}/`, `https://ipfs.io/ipfs/${hash}/`]\n    case 'ipns':\n      const name = uri.match(/^ipns:(\\/\\/)?(.*)$/i)?.[2]\n      return [`https://cloudflare-ipfs.com/ipns/${name}/`, `https://ipfs.io/ipns/${name}/`]\n    case 'ar':\n      const tx = uri.match(/^ar:(\\/\\/)?(.*)$/i)?.[2]\n      return [`https://arweave.net/${tx}`]\n    default:\n      return []\n  }\n}\n","import type { TokenInfo, TokenList } from '@uniswap/token-lists'\nimport type { Ajv, ValidateFunction } from 'ajv'\n\nenum ValidationSchema {\n  LIST = 'list',\n  TOKENS = 'tokens',\n}\n\nconst validator = new Promise<Ajv>(async (resolve) => {\n  const [ajv, schema] = await Promise.all([import('ajv'), import('@uniswap/token-lists/src/tokenlist.schema.json')])\n  const validator = new ajv.default({ allErrors: true })\n    .addSchema(schema, ValidationSchema.LIST)\n    // Adds a meta scheme of Pick<TokenList, 'tokens'>\n    .addSchema(\n      {\n        ...schema,\n        $id: schema.$id + '#tokens',\n        required: ['tokens'],\n      },\n      ValidationSchema.TOKENS\n    )\n  resolve(validator)\n})\n\nfunction getValidationErrors(validate: ValidateFunction | undefined): string {\n  return (\n    validate?.errors?.map((error) => [error.dataPath, error.message].filter(Boolean).join(' ')).join('; ') ??\n    'unknown error'\n  )\n}\n\n/**\n * Validates an array of tokens.\n * @param json the TokenInfo[] to validate\n */\nexport async function validateTokens(json: TokenInfo[]): Promise<TokenInfo[]> {\n  const validate = (await validator).getSchema(ValidationSchema.TOKENS)\n  if (validate?.({ tokens: json })) {\n    return json\n  }\n  throw new Error(`Token list failed validation: ${getValidationErrors(validate)}`)\n}\n\n/**\n * Validates a token list.\n * @param json the TokenList to validate\n */\nexport default async function validateTokenList(json: TokenList): Promise<TokenList> {\n  const validate = (await validator).getSchema(ValidationSchema.LIST)\n  if (validate?.(json)) {\n    return json\n  }\n  throw new Error(`Token list failed validation: ${getValidationErrors(validate)}`)\n}\n","import type { TokenList } from '@uniswap/token-lists'\nimport contenthashToUri from 'utils/contenthashToUri'\nimport parseENSAddress from 'utils/parseENSAddress'\nimport uriToHttp from 'utils/uriToHttp'\n\nimport validateTokenList from './validateTokenList'\n\nconst listCache = new Map<string, TokenList>()\n\n/** Fetches and validates a token list. */\nexport default async function fetchTokenList(\n  listUrl: string,\n  resolveENSContentHash: (ensName: string) => Promise<string>\n): Promise<TokenList> {\n  const cached = listCache?.get(listUrl) // avoid spurious re-fetches\n  if (cached) {\n    return cached\n  }\n\n  let urls: string[]\n  const parsedENS = parseENSAddress(listUrl)\n  if (parsedENS) {\n    let contentHashUri\n    try {\n      contentHashUri = await resolveENSContentHash(parsedENS.ensName)\n    } catch (error) {\n      const message = `failed to resolve ENS name: ${parsedENS.ensName}`\n      console.debug(message, error)\n      throw new Error(message)\n    }\n    let translatedUri\n    try {\n      translatedUri = contenthashToUri(contentHashUri)\n    } catch (error) {\n      const message = `failed to translate contenthash to URI: ${contentHashUri}`\n      console.debug(message, error)\n      throw new Error(message)\n    }\n    urls = uriToHttp(`${translatedUri}${parsedENS.ensPath ?? ''}`)\n  } else {\n    urls = uriToHttp(listUrl)\n  }\n\n  for (let i = 0; i < urls.length; i++) {\n    const url = urls[i]\n    const isLast = i === urls.length - 1\n    let response\n    try {\n      response = await fetch(url, { credentials: 'omit' })\n    } catch (error) {\n      const message = `failed to fetch list: ${listUrl}`\n      console.debug(message, error)\n      if (isLast) throw new Error(message)\n      continue\n    }\n\n    if (!response.ok) {\n      const message = `failed to fetch list: ${listUrl}`\n      console.debug(message, response.statusText)\n      if (isLast) throw new Error(message)\n      continue\n    }\n\n    const json = await response.json()\n    const list = await validateTokenList(json)\n    listCache?.set(listUrl, list)\n    return list\n  }\n\n  throw new Error('Unrecognized list URL protocol.')\n}\n","import { Currency, Token } from '@uniswap/sdk-core'\nimport { Tags, TokenInfo, TokenList } from '@uniswap/token-lists'\nimport { isAddress } from 'utils'\n\ntype TagDetails = Tags[keyof Tags]\ninterface TagInfo extends TagDetails {\n  id: string\n}\n/**\n * Token instances created from token info on a token list.\n */\nexport class WrappedTokenInfo implements Token {\n  public readonly isNative: false = false\n  public readonly isToken: true = true\n  public readonly list?: TokenList\n\n  public readonly tokenInfo: TokenInfo\n\n  constructor(tokenInfo: TokenInfo, list?: TokenList) {\n    this.tokenInfo = tokenInfo\n    this.list = list\n  }\n\n  private _checksummedAddress: string | null = null\n\n  public get address(): string {\n    if (this._checksummedAddress) return this._checksummedAddress\n    const checksummedAddress = isAddress(this.tokenInfo.address)\n    if (!checksummedAddress) throw new Error(`Invalid token address: ${this.tokenInfo.address}`)\n    return (this._checksummedAddress = checksummedAddress)\n  }\n\n  public get chainId(): number {\n    return this.tokenInfo.chainId\n  }\n\n  public get decimals(): number {\n    return this.tokenInfo.decimals\n  }\n\n  public get name(): string {\n    return this.tokenInfo.name\n  }\n\n  public get symbol(): string {\n    return this.tokenInfo.symbol\n  }\n\n  public get logoURI(): string | undefined {\n    return this.tokenInfo.logoURI\n  }\n\n  private _tags: TagInfo[] | null = null\n  public get tags(): TagInfo[] {\n    if (this._tags !== null) return this._tags\n    if (!this.tokenInfo.tags) return (this._tags = [])\n    const listTags = this.list?.tags\n    if (!listTags) return (this._tags = [])\n\n    return (this._tags = this.tokenInfo.tags.map((tagId) => {\n      return {\n        ...listTags[tagId],\n        id: tagId,\n      }\n    }))\n  }\n\n  equals(other: Currency): boolean {\n    return other.chainId === this.chainId && other.isToken && other.address.toLowerCase() === this.address.toLowerCase()\n  }\n\n  sortsBefore(other: Token): boolean {\n    if (this.equals(other)) throw new Error('Addresses should not be equal')\n    return this.address.toLowerCase() < other.address.toLowerCase()\n  }\n\n  public get wrapped(): Token {\n    return this\n  }\n}\n","import { TokenInfo, TokenList } from '@uniswap/token-lists'\nimport { WrappedTokenInfo } from 'state/lists/wrappedTokenInfo'\n\ntype TokenMap = Readonly<{ [tokenAddress: string]: { token: WrappedTokenInfo; list?: TokenList } }>\nexport type ChainTokenMap = Readonly<{ [chainId: number]: TokenMap }>\n\ntype Mutable<T> = {\n  -readonly [P in keyof T]: Mutable<T[P]>\n}\n\nconst mapCache = typeof WeakMap !== 'undefined' ? new WeakMap<TokenList | TokenInfo[], ChainTokenMap>() : null\n\nexport function tokensToChainTokenMap(tokens: TokenList | TokenInfo[]): ChainTokenMap {\n  const cached = mapCache?.get(tokens)\n  if (cached) return cached\n\n  const [list, infos] = Array.isArray(tokens) ? [undefined, tokens] : [tokens, tokens.tokens]\n  const map = infos.reduce<Mutable<ChainTokenMap>>((map, info) => {\n    const token = new WrappedTokenInfo(info, list)\n    if (map[token.chainId]?.[token.address] !== undefined) {\n      console.warn(`Duplicate token skipped: ${token.address}`)\n      return map\n    }\n    if (!map[token.chainId]) {\n      map[token.chainId] = {}\n    }\n    map[token.chainId][token.address] = { token, list }\n    return map\n  }, {}) as ChainTokenMap\n  mapCache?.set(tokens, map)\n  return map\n}\n","import { Token } from '@uniswap/sdk-core'\nimport { TokenInfo, TokenList } from '@uniswap/token-lists'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { createContext, PropsWithChildren, useCallback, useContext, useEffect, useMemo, useState } from 'react'\nimport { WrappedTokenInfo } from 'state/lists/wrappedTokenInfo'\nimport resolveENSContentHash from 'utils/resolveENSContentHash'\n\nimport fetchTokenList from './fetchTokenList'\nimport { ChainTokenMap, tokensToChainTokenMap } from './utils'\nimport { validateTokens } from './validateTokenList'\n\nexport { useQueryTokens } from './useQueryTokens'\n\nexport const DEFAULT_TOKEN_LIST = 'https://gateway.ipfs.io/ipns/tokens.uniswap.org'\n\nconst MISSING_PROVIDER = Symbol()\nconst ChainTokenMapContext = createContext<ChainTokenMap | undefined | typeof MISSING_PROVIDER>(MISSING_PROVIDER)\n\nfunction useChainTokenMapContext() {\n  const chainTokenMap = useContext(ChainTokenMapContext)\n  if (chainTokenMap === MISSING_PROVIDER) {\n    throw new Error('TokenList hooks must be wrapped in a <TokenListProvider>')\n  }\n  return chainTokenMap\n}\n\nexport function useIsTokenListLoaded() {\n  return Boolean(useChainTokenMapContext())\n}\n\nexport default function useTokenList(): WrappedTokenInfo[] {\n  const { chainId } = useActiveWeb3React()\n  const chainTokenMap = useChainTokenMapContext()\n  const tokenMap = chainId && chainTokenMap?.[chainId]\n  return useMemo(() => {\n    if (!tokenMap) return []\n    return Object.values(tokenMap).map(({ token }) => token)\n  }, [tokenMap])\n}\n\nexport type TokenMap = { [address: string]: Token }\n\nexport function useTokenMap(): TokenMap {\n  const { chainId } = useActiveWeb3React()\n  const chainTokenMap = useChainTokenMapContext()\n  const tokenMap = chainId && chainTokenMap?.[chainId]\n  return useMemo(() => {\n    if (!tokenMap) return {}\n    return Object.entries(tokenMap).reduce((map, [address, { token }]) => {\n      map[address] = token\n      return map\n    }, {} as TokenMap)\n  }, [tokenMap])\n}\n\nexport function TokenListProvider({\n  list = DEFAULT_TOKEN_LIST,\n  children,\n}: PropsWithChildren<{ list?: string | TokenInfo[] }>) {\n  // Error boundaries will not catch (non-rendering) async errors, but it should still be shown\n  const [error, setError] = useState<Error>()\n  if (error) throw error\n\n  const [chainTokenMap, setChainTokenMap] = useState<ChainTokenMap>()\n\n  useEffect(() => setChainTokenMap(undefined), [list])\n\n  const { chainId, library } = useActiveWeb3React()\n  const resolver = useCallback(\n    (ensName: string) => {\n      if (library && chainId === 1) {\n        return resolveENSContentHash(ensName, library)\n      }\n      throw new Error('Could not construct mainnet ENS resolver')\n    },\n    [chainId, library]\n  )\n\n  useEffect(() => {\n    // If the list was already loaded, don't reload it.\n    if (chainTokenMap) return\n\n    let stale = false\n    activateList(list)\n    return () => {\n      stale = true\n    }\n\n    async function activateList(list: string | TokenInfo[]) {\n      try {\n        let tokens: TokenList | TokenInfo[]\n        if (typeof list === 'string') {\n          tokens = await fetchTokenList(list, resolver)\n        } else {\n          tokens = await validateTokens(list)\n        }\n        // tokensToChainTokenMap also caches the fetched tokens, so it must be invoked even if stale.\n        const map = tokensToChainTokenMap(tokens)\n        if (!stale) {\n          setChainTokenMap(map)\n          setError(undefined)\n        }\n      } catch (e: unknown) {\n        if (!stale) {\n          // Do not update the token map, in case the map was already resolved without error on mainnet.\n          setError(e as Error)\n        }\n      }\n    }\n  }, [chainTokenMap, list, resolver])\n\n  return <ChainTokenMapContext.Provider value={chainTokenMap}>{children}</ChainTokenMapContext.Provider>\n}\n","import { arrayify } from '@ethersproject/bytes'\nimport { parseBytes32String } from '@ethersproject/strings'\nimport { Currency, Token } from '@uniswap/sdk-core'\nimport { TOKEN_SHORTHANDS } from 'constants/tokens'\nimport { NEVER_RELOAD, useSingleCallResult } from 'hooks/multicall'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useBytes32TokenContract, useTokenContract } from 'hooks/useContract'\nimport useNativeCurrency from 'hooks/useNativeCurrency'\nimport { useMemo } from 'react'\nimport { isAddress } from 'utils'\nimport { supportedChainId } from 'utils/supportedChainId'\n\nimport { TokenMap, useTokenMap } from './useTokenList'\n\n// parse a name or symbol from a token response\nconst BYTES32_REGEX = /^0x[a-fA-F0-9]{64}$/\n\nfunction parseStringOrBytes32(str: string | undefined, bytes32: string | undefined, defaultValue: string): string {\n  return str && str.length > 0\n    ? str\n    : // need to check for proper bytes string and valid terminator\n    bytes32 && BYTES32_REGEX.test(bytes32) && arrayify(bytes32)[31] === 0\n    ? parseBytes32String(bytes32)\n    : defaultValue\n}\n\n/**\n * Returns a Token from the tokenAddress.\n * Returns null if token is loading or null was passed.\n * Returns undefined if tokenAddress is invalid or token does not exist.\n */\nexport function useTokenFromNetwork(tokenAddress: string | null | undefined): Token | null | undefined {\n  const { chainId } = useActiveWeb3React()\n\n  const formattedAddress = isAddress(tokenAddress)\n\n  const tokenContract = useTokenContract(formattedAddress ? formattedAddress : undefined, false)\n  const tokenContractBytes32 = useBytes32TokenContract(formattedAddress ? formattedAddress : undefined, false)\n\n  const tokenName = useSingleCallResult(tokenContract, 'name', undefined, NEVER_RELOAD)\n  const tokenNameBytes32 = useSingleCallResult(tokenContractBytes32, 'name', undefined, NEVER_RELOAD)\n  const symbol = useSingleCallResult(tokenContract, 'symbol', undefined, NEVER_RELOAD)\n  const symbolBytes32 = useSingleCallResult(tokenContractBytes32, 'symbol', undefined, NEVER_RELOAD)\n  const decimals = useSingleCallResult(tokenContract, 'decimals', undefined, NEVER_RELOAD)\n\n  return useMemo(() => {\n    if (typeof tokenAddress !== 'string' || !chainId || !formattedAddress) return undefined\n    if (decimals.loading || symbol.loading || tokenName.loading) return null\n    if (decimals.result) {\n      return new Token(\n        chainId,\n        formattedAddress,\n        decimals.result[0],\n        parseStringOrBytes32(symbol.result?.[0], symbolBytes32.result?.[0], 'UNKNOWN'),\n        parseStringOrBytes32(tokenName.result?.[0], tokenNameBytes32.result?.[0], 'Unknown Token')\n      )\n    }\n    return undefined\n  }, [\n    formattedAddress,\n    chainId,\n    decimals.loading,\n    decimals.result,\n    symbol.loading,\n    symbol.result,\n    symbolBytes32.result,\n    tokenAddress,\n    tokenName.loading,\n    tokenName.result,\n    tokenNameBytes32.result,\n  ])\n}\n\n/**\n * Returns a Token from the tokenAddress.\n * Returns null if token is loading or null was passed.\n * Returns undefined if tokenAddress is invalid or token does not exist.\n */\nexport function useTokenFromMapOrNetwork(tokens: TokenMap, tokenAddress?: string | null): Token | null | undefined {\n  const address = isAddress(tokenAddress)\n  const token: Token | undefined = address ? tokens[address] : undefined\n\n  const tokenFromNetwork = useTokenFromNetwork(token ? undefined : address ? address : undefined)\n\n  return tokenFromNetwork ?? token\n}\n\n/**\n * Returns a Token from the tokenAddress.\n * Returns null if token is loading or null was passed.\n * Returns undefined if tokenAddress is invalid or token does not exist.\n */\nexport function useToken(tokenAddress?: string | null): Token | null | undefined {\n  const tokens = useTokenMap()\n  return useTokenFromMapOrNetwork(tokens, tokenAddress)\n}\n\n/**\n * Returns a Currency from the currencyId.\n * Returns null if currency is loading or null was passed.\n * Returns undefined if currencyId is invalid or token does not exist.\n */\nexport function useCurrencyFromMap(tokens: TokenMap, currencyId?: string | null): Currency | null | undefined {\n  const nativeCurrency = useNativeCurrency()\n  const { chainId } = useActiveWeb3React()\n  const isNative = Boolean(nativeCurrency && currencyId?.toUpperCase() === 'ETH')\n  const shorthandMatchAddress = useMemo(() => {\n    const chain = supportedChainId(chainId)\n    return chain && currencyId ? TOKEN_SHORTHANDS[currencyId.toUpperCase()]?.[chain] : undefined\n  }, [chainId, currencyId])\n\n  const token = useTokenFromMapOrNetwork(tokens, isNative ? undefined : shorthandMatchAddress ?? currencyId)\n\n  if (currencyId === null || currencyId === undefined) return currencyId\n\n  // this case so we use our builtin wrapped token instead of wrapped tokens on token lists\n  const wrappedNative = nativeCurrency?.wrapped\n  if (wrappedNative?.address?.toUpperCase() === currencyId?.toUpperCase()) return wrappedNative\n\n  return isNative ? nativeCurrency : token\n}\n\n/**\n * Returns a Currency from the currencyId.\n * Returns null if currency is loading or null was passed.\n * Returns undefined if currencyId is invalid or token does not exist.\n */\nexport default function useCurrency(currencyId?: string | null): Currency | null | undefined {\n  const tokens = useTokenMap()\n  return useCurrencyFromMap(tokens, currencyId)\n}\n","import { ALL_SUPPORTED_CHAIN_IDS } from 'constants/chains'\nimport { useMemo } from 'react'\n\nimport useActiveWeb3React from './useActiveWeb3React'\n\nfunction useOnSupportedNetwork() {\n  const { chainId } = useActiveWeb3React()\n  return useMemo(() => Boolean(chainId && ALL_SUPPORTED_CHAIN_IDS.includes(chainId)), [chainId])\n}\n\nexport default useOnSupportedNetwork\n","import { Currency } from '@uniswap/sdk-core'\nimport { nativeOnChain } from 'constants/tokens'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useToken } from 'hooks/useCurrency'\nimport useNativeCurrency from 'hooks/useNativeCurrency'\nimport { useUpdateAtom } from 'jotai/utils'\nimport { useCallback, useEffect, useRef } from 'react'\nimport { Field, Swap, swapAtom } from 'state/swap'\n\nimport useOnSupportedNetwork from '../useOnSupportedNetwork'\nimport { useIsTokenListLoaded } from '../useTokenList'\n\nexport type DefaultAddress = string | { [chainId: number]: string | 'NATIVE' } | 'NATIVE'\n\nexport interface TokenDefaults {\n  defaultInputTokenAddress?: DefaultAddress\n  defaultInputAmount?: number | string\n  defaultOutputTokenAddress?: DefaultAddress\n  defaultOutputAmount?: number | string\n}\n\nfunction useDefaultToken(\n  defaultAddress: DefaultAddress | undefined,\n  chainId: number | undefined\n): Currency | undefined {\n  let address = undefined\n  if (typeof defaultAddress === 'string') {\n    address = defaultAddress\n  } else if (typeof defaultAddress === 'object' && chainId) {\n    address = defaultAddress[chainId]\n  }\n  const token = useToken(address)\n\n  const onSupportedNetwork = useOnSupportedNetwork()\n\n  // Only use native currency if chain ID is in supported chains. ExtendedEther will error otherwise.\n  if (chainId && address === 'NATIVE' && onSupportedNetwork) {\n    return nativeOnChain(chainId)\n  }\n  return token ?? undefined\n}\n\nexport default function useSyncTokenDefaults({\n  defaultInputTokenAddress,\n  defaultInputAmount,\n  defaultOutputTokenAddress,\n  defaultOutputAmount,\n}: TokenDefaults) {\n  const updateSwap = useUpdateAtom(swapAtom)\n  const { chainId } = useActiveWeb3React()\n  const onSupportedNetwork = useOnSupportedNetwork()\n  const nativeCurrency = useNativeCurrency()\n  const defaultOutputToken = useDefaultToken(defaultOutputTokenAddress, chainId)\n  const defaultInputToken =\n    useDefaultToken(defaultInputTokenAddress, chainId) ??\n    // Default the input token to the native currency if it is not the output token.\n    (defaultOutputToken !== nativeCurrency && onSupportedNetwork ? nativeCurrency : undefined)\n\n  const setToDefaults = useCallback(() => {\n    const defaultSwapState: Swap = {\n      amount: '',\n      [Field.INPUT]: defaultInputToken,\n      [Field.OUTPUT]: defaultOutputToken,\n      independentField: Field.INPUT,\n    }\n    if (defaultInputToken && defaultInputAmount) {\n      defaultSwapState.amount = defaultInputAmount.toString()\n    } else if (defaultOutputToken && defaultOutputAmount) {\n      defaultSwapState.independentField = Field.OUTPUT\n      defaultSwapState.amount = defaultOutputAmount.toString()\n    }\n    updateSwap((swap) => ({ ...swap, ...defaultSwapState }))\n  }, [defaultInputAmount, defaultInputToken, defaultOutputAmount, defaultOutputToken, updateSwap])\n\n  const lastChainId = useRef<number | undefined>(undefined)\n  const isTokenListLoaded = useIsTokenListLoaded()\n  useEffect(() => {\n    const shouldSync = isTokenListLoaded && chainId && chainId !== lastChainId.current\n    if (shouldSync) {\n      setToDefaults()\n      lastChainId.current = chainId\n    }\n  }, [isTokenListLoaded, chainId, setToDefaults])\n}\n","import { Currency, CurrencyAmount } from '@uniswap/sdk-core'\nimport { useAtom } from 'jotai'\nimport { useAtomValue, useUpdateAtom } from 'jotai/utils'\nimport { useCallback, useMemo } from 'react'\nimport { pickAtom } from 'state/atoms'\nimport { Field, swapAtom } from 'state/swap'\nimport tryParseCurrencyAmount from 'utils/tryParseCurrencyAmount'\nexport { default as useSwapInfo } from './useSwapInfo'\n\nfunction otherField(field: Field) {\n  switch (field) {\n    case Field.INPUT:\n      return Field.OUTPUT\n      break\n    case Field.OUTPUT:\n      return Field.INPUT\n      break\n  }\n}\n\nexport function useSwitchSwapCurrencies() {\n  const update = useUpdateAtom(swapAtom)\n  return useCallback(() => {\n    update((swap) => {\n      const oldOutput = swap[Field.OUTPUT]\n      swap[Field.OUTPUT] = swap[Field.INPUT]\n      swap[Field.INPUT] = oldOutput\n      switch (swap.independentField) {\n        case Field.INPUT:\n          swap.independentField = Field.OUTPUT\n          break\n        case Field.OUTPUT:\n          swap.independentField = Field.INPUT\n          break\n      }\n    })\n  }, [update])\n}\n\nexport function useSwapCurrency(field: Field): [Currency | undefined, (currency?: Currency) => void] {\n  const atom = useMemo(() => pickAtom(swapAtom, field), [field])\n  const otherAtom = useMemo(() => pickAtom(swapAtom, otherField(field)), [field])\n  const [currency, setCurrency] = useAtom(atom)\n  const otherCurrency = useAtomValue(otherAtom)\n  const switchSwapCurrencies = useSwitchSwapCurrencies()\n  const setOrSwitchCurrency = useCallback(\n    (currency?: Currency) => {\n      if (currency === otherCurrency) {\n        switchSwapCurrencies()\n      } else {\n        setCurrency(currency)\n      }\n    },\n    [otherCurrency, setCurrency, switchSwapCurrencies]\n  )\n  return [currency, setOrSwitchCurrency]\n}\n\nconst independentFieldAtom = pickAtom(swapAtom, 'independentField')\n\nexport function useIsSwapFieldIndependent(field: Field): boolean {\n  const independentField = useAtomValue(independentFieldAtom)\n  return independentField === field\n}\n\nconst amountAtom = pickAtom(swapAtom, 'amount')\n\n// check if any amount has been entered by user\nexport function useIsAmountPopulated() {\n  return Boolean(useAtomValue(amountAtom))\n}\n\nexport function useSwapAmount(field: Field): [string | undefined, (amount: string) => void] {\n  const amount = useAtomValue(amountAtom)\n  const isFieldIndependent = useIsSwapFieldIndependent(field)\n  const value = isFieldIndependent ? amount : undefined\n  const updateSwap = useUpdateAtom(swapAtom)\n  const updateAmount = useCallback(\n    (amount: string) =>\n      updateSwap((swap) => {\n        swap.independentField = field\n        swap.amount = amount\n      }),\n    [field, updateSwap]\n  )\n  return [value, updateAmount]\n}\n\nexport function useSwapCurrencyAmount(field: Field): CurrencyAmount<Currency> | undefined {\n  const isFieldIndependent = useIsSwapFieldIndependent(field)\n  const isAmountPopulated = useIsAmountPopulated()\n  const [swapAmount] = useSwapAmount(field)\n  const [swapCurrency] = useSwapCurrency(field)\n  const currencyAmount = useMemo(() => tryParseCurrencyAmount(swapAmount, swapCurrency), [swapAmount, swapCurrency])\n  if (isFieldIndependent && isAmountPopulated) {\n    return currencyAmount\n  }\n  return\n}\n","import { useEffect, useRef } from 'react'\n\n/**\n * Use this hook to mutate the .current value instead of creating new\n *\n * Two use cases\n *\n * 1) For not adding state to hook deps\n * 2) For getting updated(mutated) state version in async operations\n */\nexport const useCurrentMutableState = <T>(state: T): React.MutableRefObject<T> => {\n  const ref = useRef<T>(state)\n  useEffect(() => {\n    ref.current = state\n  }, [state])\n\n  return ref\n}\n","import { Currency, Token } from '@uniswap/sdk-core'\nimport { useSwapAmount, useSwapCurrency, useSwapInfo } from 'hooks/swap'\nimport { useCurrentMutableState as useRef } from 'hooks/useCurrentMutableState'\nimport { useEffect } from 'react'\nimport { Field } from 'state/swap'\n\nimport { useDispatchSwapValues, useSwapValues } from '../../'\n\nexport interface InputProps {\n  disabled: boolean\n  amount?: string\n  currency?: Currency\n}\n\nexport interface Props {\n  input: InputProps\n  output: InputProps\n}\n\nexport default function SwapWrapper({ chainId, children }: { chainId: number; children: JSX.Element }) {\n  const swapInfo = useSwapInfo()\n\n  const { input, output } = useSwapValues()\n\n  const [, updateInputAmount] = useSwapAmount(Field.INPUT)\n  const [, updateInputCurrency] = useSwapCurrency(Field.INPUT)\n\n  const [, updateSwapOutputAmount] = useSwapAmount(Field.OUTPUT)\n  const [, updateSwapOutputCurrency] = useSwapCurrency(Field.OUTPUT)\n\n  const _updateInputAmount = useRef(updateInputAmount)\n  const _updateInputCurrency = useRef(updateInputCurrency)\n  const _updateSwapOutputAmount = useRef(updateSwapOutputAmount)\n  const _updateSwapOutputCurrency = useRef(updateSwapOutputCurrency)\n  useEffect(() => {\n    if (!input?.amount) return\n    _updateInputAmount.current(input.amount)\n  }, [input?.amount])\n\n  useEffect(() => {\n    if (!input?.currency?.address) return\n    const newInputToken = new Token(chainId, input.currency.address, input.currency.decimals)\n    _updateInputCurrency.current(newInputToken)\n  }, [input?.currency?.address, chainId, input?.currency?.decimals])\n\n  useEffect(() => {\n    if (!output?.amount) return\n    _updateSwapOutputAmount.current(output.amount)\n  }, [output?.amount])\n\n  useEffect(() => {\n    if (!output?.currency?.address) return\n    _updateSwapOutputCurrency.current(new Token(chainId, output.currency.address, output.currency.decimals))\n  }, [output?.currency?.address, chainId, output?.currency?.decimals])\n\n  const dispatchSwapValues = useDispatchSwapValues()\n\n  const _dispatchSwapValues = useRef(dispatchSwapValues)\n  const _swapInfo = useRef(swapInfo)\n  useEffect(() => {\n    _dispatchSwapValues.current({\n      uniswap: {\n        swapInfo: _swapInfo.current,\n        inputAmountFormatted: _swapInfo.current.INPUT.amount?.toSignificant(6),\n        outputAmountFormatted: _swapInfo.current.OUTPUT.amount?.toSignificant(6),\n        isLoading: _swapInfo.current.trade.state === 0,\n      },\n      type: 'setUniswapValues',\n    })\n  }, [swapInfo.trade.state])\n\n  return children\n}\n","export class IntegrationError extends Error {\n  constructor(message: string) {\n    super(message)\n    this.name = 'Integration Error'\n  }\n}\n","import { IntegrationError } from 'errors'\nimport { FeeOptions } from 'hooks/swap/useSyncConvenienceFee'\nimport { DefaultAddress, TokenDefaults } from 'hooks/swap/useSyncTokenDefaults'\nimport { PropsWithChildren, useEffect } from 'react'\nimport { isAddress } from 'utils'\n\nfunction isAddressOrAddressMap(addressOrMap: DefaultAddress): boolean {\n  if (typeof addressOrMap === 'object') {\n    return Object.values(addressOrMap).every((address) => isAddress(address))\n  }\n  if (typeof addressOrMap === 'string') {\n    return typeof isAddress(addressOrMap) === 'string'\n  }\n  return false\n}\n\ntype ValidatorProps = PropsWithChildren<TokenDefaults & FeeOptions>\n\nexport default function useValidate(props: ValidatorProps) {\n  const { convenienceFee, convenienceFeeRecipient } = props\n  useEffect(() => {\n    if (convenienceFee) {\n      if (convenienceFee > 100 || convenienceFee < 0) {\n        throw new IntegrationError(`convenienceFee must be between 0 and 100 (you set it to ${convenienceFee}).`)\n      }\n      if (!convenienceFeeRecipient) {\n        throw new IntegrationError('convenienceFeeRecipient is required when convenienceFee is set.')\n      }\n\n      if (typeof convenienceFeeRecipient === 'string') {\n        if (!isAddress(convenienceFeeRecipient)) {\n          throw new IntegrationError(\n            `convenienceFeeRecipient must be a valid address (you set it to ${convenienceFeeRecipient}).`\n          )\n        }\n      } else if (typeof convenienceFeeRecipient === 'object') {\n        Object.values(convenienceFeeRecipient).forEach((recipient) => {\n          if (!isAddress(recipient)) {\n            const values = Object.values(convenienceFeeRecipient).join(', ')\n            throw new IntegrationError(\n              `All values in convenienceFeeRecipient object must be valid addresses (you used ${values}).`\n            )\n          }\n        })\n      }\n    }\n  }, [convenienceFee, convenienceFeeRecipient])\n\n  const { defaultInputAmount, defaultOutputAmount } = props\n  useEffect(() => {\n    if (defaultOutputAmount && defaultInputAmount) {\n      throw new IntegrationError('defaultInputAmount and defaultOutputAmount may not both be defined.')\n    }\n    if (defaultInputAmount && (isNaN(+defaultInputAmount) || defaultInputAmount < 0)) {\n      throw new IntegrationError(`defaultInputAmount must be a positive number (you set it to ${defaultInputAmount})`)\n    }\n    if (defaultOutputAmount && (isNaN(+defaultOutputAmount) || defaultOutputAmount < 0)) {\n      throw new IntegrationError(\n        `defaultOutputAmount must be a positive number (you set it to ${defaultOutputAmount}).`\n      )\n    }\n  }, [defaultInputAmount, defaultOutputAmount])\n\n  const { defaultInputTokenAddress, defaultOutputTokenAddress } = props\n  useEffect(() => {\n    if (\n      defaultInputTokenAddress &&\n      !isAddressOrAddressMap(defaultInputTokenAddress) &&\n      defaultInputTokenAddress !== 'NATIVE'\n    ) {\n      throw new IntegrationError(\n        `defaultInputTokenAddress must be a valid address or \"NATIVE\" (you set it to ${defaultInputTokenAddress}).`\n      )\n    }\n    if (\n      defaultOutputTokenAddress &&\n      !isAddressOrAddressMap(defaultOutputTokenAddress) &&\n      defaultOutputTokenAddress !== 'NATIVE'\n    ) {\n      throw new IntegrationError(\n        `defaultOutputTokenAddress must be a valid address or \"NATIVE\" (you set it to ${defaultOutputTokenAddress}).`\n      )\n    }\n  }, [defaultInputTokenAddress, defaultOutputTokenAddress])\n}\n","import { SwapInfoProvider } from 'hooks/swap/useSwapInfo'\nimport useSyncConvenienceFee, { FeeOptions } from 'hooks/swap/useSyncConvenienceFee'\nimport useSyncTokenDefaults, { TokenDefaults } from 'hooks/swap/useSyncTokenDefaults'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport useOnSupportedNetwork from 'hooks/useOnSupportedNetwork'\n\nimport SwapWrapper from './SwapWrapper'\nimport useValidate from './useValidate'\n\nexport interface SwapToken {\n  address: string\n  decimals: number\n}\n\nexport interface SwapField {\n  amount?: string\n  currency?: SwapToken\n}\nexport interface SwapProps extends TokenDefaults, FeeOptions {\n  chainId: number\n  children: JSX.Element\n}\n\n// const getSwapValuesTest = () => (\n//   <>\n//     <button\n//       onClick={() => {\n//         dispatchSwapValues({\n//           type: 'setUniswapInput',\n//           input: {\n//             amount: Math.random().toString(),\n//             currency: {\n//               address: '0xb678e95f83af08e7598ec21533f7585e83272799',\n//               decimals: 18,\n//             },\n//           },\n//         })\n\n//         dispatchSwapValues({\n//           type: 'setUniswapOutput',\n//           output: {\n//             currency: {\n//               address: '0x1f9840a85d5af5bf1d1762f925bdaddc4201f984',\n//               decimals: 18,\n//             },\n//           },\n//         })\n//       }}\n//     >\n//       test swap\n//     </button>\n//     <button\n//       onClick={() => {\n//         dispatchSwapValues({\n//           type: 'setUniswapInput',\n//           input: {\n//             currency: {\n//               address: '0xb678e95f83af08e7598ec21533f7585e83272799',\n//               decimals: 18,\n//             },\n//           },\n//         })\n\n//         dispatchSwapValues({\n//           type: 'setUniswapOutput',\n//           output: {\n//             amount: Math.random().toString(),\n//             currency: {\n//               address: '0x1f9840a85d5af5bf1d1762f925bdaddc4201f984',\n//               decimals: 18,\n//             },\n//           },\n//         })\n//       }}\n//     >\n//       test swap output\n//     </button>\n//   </>\n// )\n\nexport default function Swap(props: SwapProps) {\n  useValidate(props)\n  useSyncConvenienceFee(props)\n  useSyncTokenDefaults(props)\n\n  const { chainId } = props\n\n  const { active } = useActiveWeb3React()\n  const onSupportedNetwork = useOnSupportedNetwork()\n  const isDisabled = !(active && onSupportedNetwork)\n\n  return (\n    <SwapInfoProvider disabled={isDisabled}>\n      <SwapWrapper chainId={chainId}>{props.children}</SwapWrapper>\n    </SwapInfoProvider>\n  )\n}\n","import { TransactionReceipt, TransactionResponse } from '@ethersproject/abstract-provider'\nimport { Currency, CurrencyAmount, TradeType } from '@uniswap/sdk-core'\nimport { atomWithImmer } from 'jotai/immer'\n\nexport enum TransactionType {\n  APPROVAL,\n  SWAP,\n  WRAP,\n}\n\ninterface BaseTransactionInfo {\n  type: TransactionType\n  response: TransactionResponse\n}\n\nexport interface ApprovalTransactionInfo extends BaseTransactionInfo {\n  type: TransactionType.APPROVAL\n  tokenAddress: string\n  spenderAddress: string\n}\n\nexport interface SwapTransactionInfo extends BaseTransactionInfo {\n  type: TransactionType.SWAP\n  tradeType: TradeType\n  inputCurrencyAmount: CurrencyAmount<Currency>\n  outputCurrencyAmount: CurrencyAmount<Currency>\n}\n\nexport interface InputSwapTransactionInfo extends SwapTransactionInfo {\n  tradeType: TradeType.EXACT_INPUT\n  expectedOutputCurrencyAmount: string\n  minimumOutputCurrencyAmount: string\n}\n\nexport interface OutputSwapTransactionInfo extends SwapTransactionInfo {\n  tradeType: TradeType.EXACT_OUTPUT\n  expectedInputCurrencyAmount: string\n  maximumInputCurrencyAmount: string\n}\n\nexport interface WrapTransactionInfo extends BaseTransactionInfo {\n  type: TransactionType.WRAP\n  unwrapped: boolean\n  currencyAmountRaw: string\n  chainId?: number\n}\n\nexport type TransactionInfo = ApprovalTransactionInfo | SwapTransactionInfo | WrapTransactionInfo\n\nexport interface Transaction<T extends TransactionInfo = TransactionInfo> {\n  addedTime: number\n  lastCheckedBlockNumber?: number\n  receipt?: TransactionReceipt\n  info: T\n}\n\nexport const transactionsAtom = atomWithImmer<{\n  [chainId: string]: { [hash: string]: Transaction }\n}>({})\n","function wait(ms: number): Promise<void> {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n\nfunction waitRandom(min: number, max: number): Promise<void> {\n  return wait(min + Math.round(Math.random() * Math.max(0, max - min)))\n}\n\n/**\n * This error is thrown if the function is cancelled before completing\n */\nclass CancelledError extends Error {\n  public isCancelledError: true = true\n  constructor() {\n    super('Cancelled')\n  }\n}\n\n/**\n * Throw this error if the function should retry\n */\nexport class RetryableError extends Error {\n  public isRetryableError: true = true\n}\n\nexport interface RetryOptions {\n  n: number\n  minWait: number\n  maxWait: number\n}\n\n/**\n * Retries the function that returns the promise until the promise successfully resolves up to n retries\n * @param fn function to retry\n * @param n how many times to retry\n * @param minWait min wait between retries in ms\n * @param maxWait max wait between retries in ms\n */\nexport function retry<T>(\n  fn: () => Promise<T>,\n  { n, minWait, maxWait }: RetryOptions\n): { promise: Promise<T>; cancel: () => void } {\n  let completed = false\n  let rejectCancelled: (error: Error) => void\n  const promise = new Promise<T>(async (resolve, reject) => {\n    rejectCancelled = reject\n    while (true) {\n      let result: T\n      try {\n        result = await fn()\n        if (!completed) {\n          resolve(result)\n          completed = true\n        }\n        break\n      } catch (error) {\n        if (completed) {\n          break\n        }\n        if (n <= 0 || !error.isRetryableError) {\n          reject(error)\n          completed = true\n          break\n        }\n        n--\n      }\n      await waitRandom(minWait, maxWait)\n    }\n  })\n  return {\n    promise,\n    cancel: () => {\n      if (completed) return\n      completed = true\n      rejectCancelled(new CancelledError())\n    },\n  }\n}\n","import { TransactionReceipt } from '@ethersproject/abstract-provider'\nimport { SupportedChainId } from 'constants/chains'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport useBlockNumber, { useFastForwardBlockNumber } from 'hooks/useBlockNumber'\nimport ms from 'ms.macro'\nimport { useCallback, useEffect } from 'react'\nimport { retry, RetryableError, RetryOptions } from 'utils/retry'\n\ninterface Transaction {\n  addedTime: number\n  receipt?: unknown\n  lastCheckedBlockNumber?: number\n}\n\nexport function shouldCheck(lastBlockNumber: number, tx: Transaction): boolean {\n  if (tx.receipt) return false\n  if (!tx.lastCheckedBlockNumber) return true\n  const blocksSinceCheck = lastBlockNumber - tx.lastCheckedBlockNumber\n  if (blocksSinceCheck < 1) return false\n  const minutesPending = (new Date().getTime() - tx.addedTime) / ms`1m`\n  if (minutesPending > 60) {\n    // every 10 blocks if pending longer than an hour\n    return blocksSinceCheck > 9\n  } else if (minutesPending > 5) {\n    // every 3 blocks if pending longer than 5 minutes\n    return blocksSinceCheck > 2\n  } else {\n    // otherwise every block\n    return true\n  }\n}\n\nconst RETRY_OPTIONS_BY_CHAIN_ID: { [chainId: number]: RetryOptions } = {\n  [SupportedChainId.ARBITRUM_ONE]: { n: 10, minWait: 250, maxWait: 1000 },\n  [SupportedChainId.ARBITRUM_RINKEBY]: { n: 10, minWait: 250, maxWait: 1000 },\n  [SupportedChainId.OPTIMISTIC_KOVAN]: { n: 10, minWait: 250, maxWait: 1000 },\n  [SupportedChainId.OPTIMISM]: { n: 10, minWait: 250, maxWait: 1000 },\n}\nconst DEFAULT_RETRY_OPTIONS: RetryOptions = { n: 1, minWait: 0, maxWait: 0 }\n\ninterface UpdaterProps {\n  pendingTransactions: { [hash: string]: Transaction }\n  onCheck: (tx: { chainId: number; hash: string; blockNumber: number }) => void\n  onReceipt: (tx: { chainId: number; hash: string; receipt: TransactionReceipt }) => void\n}\n\nexport default function Updater({ pendingTransactions, onCheck, onReceipt }: UpdaterProps): null {\n  const { chainId, library } = useActiveWeb3React()\n\n  const lastBlockNumber = useBlockNumber()\n  const fastForwardBlockNumber = useFastForwardBlockNumber()\n\n  const getReceipt = useCallback(\n    (hash: string) => {\n      if (!library || !chainId) throw new Error('No library or chainId')\n      const retryOptions = RETRY_OPTIONS_BY_CHAIN_ID[chainId] ?? DEFAULT_RETRY_OPTIONS\n      return retry(\n        () =>\n          library.getTransactionReceipt(hash).then((receipt) => {\n            if (receipt === null) {\n              console.debug(`Retrying tranasaction receipt for ${hash}`)\n              throw new RetryableError()\n            }\n            return receipt\n          }),\n        retryOptions\n      )\n    },\n    [chainId, library]\n  )\n\n  useEffect(() => {\n    if (!chainId || !library || !lastBlockNumber) return\n\n    const cancels = Object.keys(pendingTransactions)\n      .filter((hash) => shouldCheck(lastBlockNumber, pendingTransactions[hash]))\n      .map((hash) => {\n        const { promise, cancel } = getReceipt(hash)\n        promise\n          .then((receipt) => {\n            if (receipt) {\n              onReceipt({ chainId, hash, receipt })\n            } else {\n              onCheck({ chainId, hash, blockNumber: lastBlockNumber })\n            }\n          })\n          .catch((error) => {\n            if (!error.isCancelledError) {\n              console.warn(`Failed to get transaction receipt for ${hash}`, error)\n            }\n          })\n        return cancel\n      })\n\n    return () => {\n      cancels.forEach((cancel) => cancel())\n    }\n  }, [chainId, library, lastBlockNumber, getReceipt, fastForwardBlockNumber, onReceipt, onCheck, pendingTransactions])\n\n  return null\n}\n","import { Token } from '@uniswap/sdk-core'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useAtomValue, useUpdateAtom } from 'jotai/utils'\nimport ms from 'ms.macro'\nimport { useCallback } from 'react'\nimport { Transaction, TransactionInfo, transactionsAtom, TransactionType } from 'state/transactions'\nimport invariant from 'tiny-invariant'\n\nimport useBlockNumber from '../useBlockNumber'\nimport Updater from './updater'\n\nfunction isTransactionRecent(transaction: Transaction) {\n  return Date.now() - transaction.addedTime < ms`1d`\n}\n\nexport function usePendingTransactions() {\n  const { chainId } = useActiveWeb3React()\n  const txs = useAtomValue(transactionsAtom)\n  return (chainId ? txs[chainId] : null) ?? {}\n}\n\nexport function useAddTransaction() {\n  const { chainId } = useActiveWeb3React()\n  const blockNumber = useBlockNumber()\n  const updateTxs = useUpdateAtom(transactionsAtom)\n\n  return useCallback(\n    (info: TransactionInfo) => {\n      invariant(chainId)\n      const txChainId = chainId\n      const { hash } = info.response\n\n      updateTxs((chainTxs) => {\n        const txs = chainTxs[txChainId] || {}\n        txs[hash] = { addedTime: new Date().getTime(), lastCheckedBlockNumber: blockNumber, info }\n        chainTxs[chainId] = txs\n      })\n    },\n    [blockNumber, chainId, updateTxs]\n  )\n}\n\n/** Returns the hash of a pending approval transaction, if it exists. */\nexport function usePendingApproval(token?: Token, spender?: string): string | undefined {\n  const { chainId } = useActiveWeb3React()\n  const txs = useAtomValue(transactionsAtom)\n  if (!chainId || !token || !spender) return undefined\n\n  const chainTxs = txs[chainId]\n  if (!chainTxs) return undefined\n\n  return Object.values(chainTxs).find(\n    (tx) =>\n      tx &&\n      tx.receipt === undefined &&\n      tx.info.type === TransactionType.APPROVAL &&\n      tx.info.tokenAddress === token.address &&\n      tx.info.spenderAddress === spender &&\n      isTransactionRecent(tx)\n  )?.info.response.hash\n}\n\nexport function TransactionsUpdater() {\n  const pendingTransactions = usePendingTransactions()\n\n  const updateTxs = useUpdateAtom(transactionsAtom)\n  const onCheck = useCallback(\n    ({ chainId, hash, blockNumber }) => {\n      updateTxs((txs) => {\n        const tx = txs[chainId]?.[hash]\n        if (tx) {\n          tx.lastCheckedBlockNumber = tx.lastCheckedBlockNumber\n            ? Math.max(tx.lastCheckedBlockNumber, blockNumber)\n            : blockNumber\n        }\n      })\n    },\n    [updateTxs]\n  )\n  const onReceipt = useCallback(\n    ({ chainId, hash, receipt }) => {\n      updateTxs((txs) => {\n        const tx = txs[chainId]?.[hash]\n        if (tx) {\n          tx.receipt = receipt\n        }\n      })\n    },\n    [updateTxs]\n  )\n\n  return <Updater pendingTransactions={pendingTransactions} onCheck={onCheck} onReceipt={onReceipt} />\n}\n","import {\n  I18nProvider as devI18nProvider, Trans as devTrans, useLingui as devuseLingui, withI18n as devwithI18n\n} from \"./react.development.js\"\n\nimport {\n  I18nProvider as I18nProviderProd, Trans as TransProd, useLingui as useLinguiProd, withI18n as withI18nProd\n} from \"./react.production.min.js\"\n\nexport const I18nProvider = process.env.NODE_ENV === \"production\" ? I18nProviderProd : devI18nProvider;\nexport const Trans = process.env.NODE_ENV === \"production\" ? TransProd : devTrans;\nexport const useLingui = process.env.NODE_ENV === \"production\" ? useLinguiProd : devuseLingui;\nexport const withI18n = process.env.NODE_ENV === \"production\" ? withI18nProd : devwithI18n;","export default \"data:image/svg+xml,%3Csvg%20width%3D%2223%22%20height%3D%2220%22%20viewBox%3D%220%200%2023%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cdefs%3E%20%3ClinearGradient%20id%3D%22gradient%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%221%22%20y2%3D%220%22%20gradientTransform%3D%22rotate%2895%29%22%3E%20%20%20%20%3Cstop%20id%3D%22stop1%22%20offset%3D%220%22%20stop-color%3D%22%232274E2%22%2F%3E%20%20%20%20%3Cstop%20id%3D%22stop1%22%20offset%3D%220.5%22%20stop-color%3D%22%232274E2%22%2F%3E%20%20%20%20%3Cstop%20id%3D%22stop2%22%20offset%3D%221%22%20stop-color%3D%22%233FB672%22%20%2F%3E%20%20%3C%2FlinearGradient%3E%20%20%3C%2Fdefs%3E%3Cpath%20d%3D%22M16%2016C10%2016%209%2010%205%2010M16%2016C16%2017.6569%2017.3431%2019%2019%2019C20.6569%2019%2022%2017.6569%2022%2016C22%2014.3431%2020.6569%2013%2019%2013C17.3431%2013%2016%2014.3431%2016%2016ZM5%2010C9%2010%2010%204%2016%204M5%2010H1.5M16%204C16%205.65685%2017.3431%207%2019%207C20.6569%207%2022%205.65685%2022%204C22%202.34315%2020.6569%201%2019%201C17.3431%201%2016%202.34315%2016%204Z%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke%3D%22url%28%23gradient%29%22%20%2F%3E%3C%2Fsvg%3E\"","export default \"data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%3Cpolyline%20class%3D%22left%22%20points%3D%2218%2015%2012%209%22%3E%3C%2Fpolyline%3E%20%20%20%20%3Cpolyline%20class%3D%22right%22%20points%3D%2212%209%206%2015%22%3E%3C%2Fpolyline%3E%3C%2Fsvg%3E\"","export default \"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M2%207C2%205.89543%202.89543%205%204%205H20C21.1046%205%2022%205.89543%2022%207V18C22%2019.1046%2021.1046%2020%2020%2020H4C2.89543%2020%202%2019.1046%202%2018V7Z%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222%22%2F%3E%3Cpath%20d%3D%22M4%2019H20C21.1046%2019%2022%2018.1046%2022%2017V14C22%2012.8954%2021.1046%2012%2020%2012H16C15.4477%2012%2014.9935%2012.4624%2014.7645%2012.965C14.4438%2013.6688%2013.789%2014.5%2012%2014.5C10.29%2014.5%209.48213%2013.7406%209.1936%2013.0589C8.96576%2012.5206%208.49905%2012%207.91447%2012H4C2.89543%2012%202%2012.8954%202%2014V17C2%2018.1046%202.89543%2019%204%2019Z%22%20fill%3D%22currentColor%22%2F%3E%3Cpath%20d%3D%22M22%2013V11C22%209.89543%2021.1034%209%2019.9989%209C14.0294%209%209.97062%209%204.00115%209C2.89658%209%202%209.89543%202%2011V13%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222%22%2F%3E%3C%2Fsvg%3E\"","import { ReactComponent as RouterIcon } from 'assets/svg/auto_router.svg'\nimport { ReactComponent as CheckIcon } from 'assets/svg/check.svg'\nimport { ReactComponent as ExpandoIcon } from 'assets/svg/expando.svg'\nimport { ReactComponent as InlineSpinnerIcon } from 'assets/svg/inline_spinner.svg'\nimport { ReactComponent as LogoIcon } from 'assets/svg/logo.svg'\nimport { ReactComponent as SpinnerIcon } from 'assets/svg/spinner.svg'\nimport { ReactComponent as WalletIcon } from 'assets/svg/wallet.svg'\nimport { loadingCss } from 'css/loading'\nimport { FunctionComponent, SVGProps } from 'react'\n/* eslint-disable no-restricted-imports */\nimport { Icon as FeatherIcon } from 'react-feather'\nimport {\n  AlertTriangle as AlertTriangleIcon,\n  ArrowDown as ArrowDownIcon,\n  ArrowRight as ArrowRightIcon,\n  ArrowUp as ArrowUpIcon,\n  BarChart2 as BarChart2Icon,\n  CheckCircle as CheckCircleIcon,\n  ChevronDown as ChevronDownIcon,\n  Clock as ClockIcon,\n  ExternalLink as LinkIcon,\n  HelpCircle as HelpCircleIcon,\n  Info as InfoIcon,\n  Settings as SettingsIcon,\n  Slash as SlashIcon,\n  Trash2 as Trash2Icon,\n  X as XIcon,\n  XOctagon as XOctagonIcon,\n} from 'react-feather'\nimport styled, { css, keyframes } from 'styled-components/macro'\nimport { Color } from 'theme'\n/* eslint-enable no-restricted-imports */\n\ntype SVGIcon = FunctionComponent<SVGProps<SVGSVGElement>>\n\nfunction icon(Icon: FeatherIcon | SVGIcon) {\n  return styled(Icon)<{ color?: Color }>`\n    clip-path: stroke-box;\n    height: 1em;\n    stroke: ${({ color = 'currentColor', theme }) => theme[color]};\n    width: 1em;\n  `\n}\n\nexport const largeIconCss = css<{ iconSize: number }>`\n  display: flex;\n\n  svg {\n    align-self: center;\n    height: ${({ iconSize }) => iconSize}em;\n    width: ${({ iconSize }) => iconSize}em;\n  }\n`\n\nconst LargeWrapper = styled.div<{ iconSize: number }>`\n  height: 1em;\n  width: ${({ iconSize }) => iconSize}em;\n  ${largeIconCss}\n`\n\nexport type Icon = ReturnType<typeof icon> | typeof LargeIcon\n\ninterface LargeIconProps {\n  icon?: Icon\n  color?: Color\n  size?: number\n  className?: string\n}\n\nexport function LargeIcon({ icon: Icon, color, size = 1.2, className }: LargeIconProps) {\n  return (\n    <LargeWrapper color={color} iconSize={size} className={className}>\n      {Icon && <Icon color={color} />}\n    </LargeWrapper>\n  )\n}\n\nexport const AlertTriangle = icon(AlertTriangleIcon)\nexport const ArrowDown = icon(ArrowDownIcon)\nexport const ArrowRight = icon(ArrowRightIcon)\nexport const ArrowUp = icon(ArrowUpIcon)\nexport const CheckCircle = icon(CheckCircleIcon)\nexport const BarChart = icon(BarChart2Icon)\nexport const ChevronDown = icon(ChevronDownIcon)\nexport const Clock = icon(ClockIcon)\nexport const HelpCircle = icon(HelpCircleIcon)\nexport const Info = icon(InfoIcon)\nexport const Link = icon(LinkIcon)\nexport const AutoRouter = icon(RouterIcon)\nexport const Settings = icon(SettingsIcon)\nexport const Slash = icon(SlashIcon)\nexport const Trash2 = icon(Trash2Icon)\nexport const Wallet = icon(WalletIcon)\nexport const X = icon(XIcon)\nexport const XOctagon = icon(XOctagonIcon)\n\nexport const Check = styled(icon(CheckIcon))`\n  circle {\n    fill: ${({ theme }) => theme.active};\n    stroke: none;\n  }\n`\n\nexport const Expando = styled(icon(ExpandoIcon))<{ open: boolean }>`\n  .left,\n  .right {\n    transition: transform 0.25s ease-in-out;\n    will-change: transform;\n  }\n\n  .left {\n    transform: ${({ open }) => (open ? undefined : 'translateX(-25%)')};\n  }\n\n  .right {\n    transform: ${({ open }) => (open ? undefined : 'translateX(25%)')};\n  }\n`\n\nexport const Logo = styled(icon(LogoIcon))`\n  fill: ${({ theme }) => theme.secondary};\n  stroke: none;\n`\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`\n\nexport const Spinner = styled(icon(SpinnerIcon))<{ color?: Color }>`\n  animation: 2s ${rotate} linear infinite;\n  stroke: ${({ color = 'active', theme }) => theme[color]};\n  stroke-linecap: round;\n  stroke-width: 2;\n`\n\nexport const InlineSpinner = styled(icon(InlineSpinnerIcon))<{ color?: Color }>`\n  animation: ${rotate} 1s cubic-bezier(0.83, 0, 0.17, 1) infinite;\n  color: ${({ color = 'active', theme }) => theme[color]};\n  fill: ${({ color = 'active', theme }) => theme[color]};\n\n  #track {\n    stroke: ${({ theme }) => theme.secondary};\n    ${loadingCss};\n  }\n`\n","import { darken, lighten, opacify, transparentize } from 'polished'\nimport { readableColor } from 'polished'\nimport { ReactNode, useMemo } from 'react'\nimport { ThemeProvider as StyledProvider, useTheme } from 'styled-components/macro'\nimport { hex } from 'wcag-contrast'\n\nimport type { Colors, ComputedTheme } from './styled'\n\ntype DynamicColors = Pick<Colors, 'interactive' | 'outline' | 'primary' | 'secondary' | 'onInteractive'>\n\nconst black = 'hsl(0, 0%, 0%)'\nconst white = 'hsl(0, 0%, 100%)'\n\nconst light: DynamicColors = {\n  // surface\n  interactive: transparentize(1 - 0.54, black),\n  outline: transparentize(1 - 0.24, black),\n\n  // text\n  primary: black,\n  secondary: transparentize(1 - 0.64, black),\n  onInteractive: white,\n}\n\nconst dark: DynamicColors = {\n  // surface\n  interactive: transparentize(1 - 0.48, white),\n  outline: transparentize(1 - 0.12, white),\n\n  // text\n  primary: white,\n  secondary: transparentize(1 - 0.6, white),\n  onInteractive: black,\n}\n\nexport function getDynamicTheme(theme: ComputedTheme, color: string): ComputedTheme {\n  const colors = { light, dark }[readableColor(color, 'light', 'dark', false) as 'light' | 'dark']\n  return {\n    ...theme,\n    ...colors,\n    module: color,\n    onHover: (color: string) => (color === colors.primary ? transparentize(0.4, colors.primary) : opacify(0.25, color)),\n  }\n}\n\nfunction getAccessibleColor(theme: ComputedTheme, color: string) {\n  const dynamic = getDynamicTheme(theme, color)\n  let { primary } = dynamic\n  let AAscore = hex(color, primary)\n  const contrastify = hex(color, '#000') > hex(color, '#fff') ? darken : lighten\n  while (AAscore < 3) {\n    color = contrastify(0.005, color)\n    primary = getDynamicTheme(theme, color).primary\n    AAscore = hex(color, primary)\n  }\n  return color\n}\n\ninterface DynamicThemeProviderProps {\n  color?: string\n  children: ReactNode\n}\n\nexport function DynamicThemeProvider({ color, children }: DynamicThemeProviderProps) {\n  const theme = useTheme()\n  const value = useMemo(() => {\n    if (!color) {\n      return theme\n    }\n\n    const accessibleColor = getAccessibleColor(theme, color)\n    return getDynamicTheme(theme, accessibleColor)\n  }, [theme, color])\n  return (\n    <StyledProvider theme={value}>\n      <div style={{ color: value.primary }}>{children}</div>\n    </StyledProvider>\n  )\n}\n","export enum Layer {\n  UNDERLAYER = -1,\n  OVERLAY = 100,\n  DIALOG = 1000,\n  TOOLTIP = 2000,\n}\n","import { Text, TextProps as TextPropsWithCss } from 'rebass'\nimport styled, { useTheme } from 'styled-components/macro'\n\nimport type { Color } from './styled'\n\ntype TextProps = Omit<TextPropsWithCss, 'css' | 'color' | 'userSelect'> & {\n  color?: Color\n  userSelect?: true\n}\n\nconst TextWrapper = styled(Text)<{ color?: Color; lineHeight: string; noWrap?: true; userSelect?: true }>`\n  color: ${({ color = 'currentColor', theme }) => theme[color as Color]};\n  // Avoid the need for placeholders by setting min-height to line-height.\n  min-height: ${({ lineHeight }) => lineHeight};\n  // user-select is set to 'none' at the root element (Widget), but is desired for displayed data.\n  // user-select must be configured through styled-components for cross-browser compat (eg to auto-generate prefixed properties).\n  user-select: ${({ userSelect }) => userSelect && 'text'};\n  white-space: ${({ noWrap }) => noWrap && 'nowrap'};\n`\n\nconst TransitionTextWrapper = styled(TextWrapper)`\n  transition: font-size 0.25s ease-out, line-height 0.25s ease-out;\n`\n\nexport function H1(props: TextProps) {\n  return (\n    <TextWrapper className=\"headline headline-1\" fontSize={36} fontWeight={400} lineHeight=\"36px\" noWrap {...props} />\n  )\n}\n\nexport function H2(props: TextProps) {\n  return (\n    <TextWrapper className=\"headline headline-2\" fontSize={32} fontWeight={400} lineHeight=\"32px\" noWrap {...props} />\n  )\n}\n\nexport function H3(props: TextProps) {\n  return (\n    <TextWrapper className=\"headline headline-3\" fontSize={20} fontWeight={400} lineHeight=\"20px\" noWrap {...props} />\n  )\n}\n\nexport function Subhead1(props: TextProps) {\n  return (\n    <TextWrapper className=\"subhead subhead-1\" fontSize={16} fontWeight={500} lineHeight=\"16px\" noWrap {...props} />\n  )\n}\n\nexport function Subhead2(props: TextProps) {\n  return (\n    <TextWrapper className=\"subhead subhead-2\" fontSize={14} fontWeight={500} lineHeight=\"14px\" noWrap {...props} />\n  )\n}\n\nexport function Body1(props: TextProps) {\n  return <TextWrapper className=\"body body-1\" fontSize={16} fontWeight={400} lineHeight=\"24px\" {...props} />\n}\n\nexport function Body2(props: TextProps) {\n  return <TextWrapper className=\"body body-2\" fontSize={14} fontWeight={400} lineHeight=\"20px\" {...props} />\n}\n\nexport function Caption(props: TextProps) {\n  return <TextWrapper className=\"caption\" fontSize={12} fontWeight={400} lineHeight=\"16px\" {...props} />\n}\n\nexport function Badge(props: TextProps) {\n  return <TextWrapper className=\"badge\" fontSize=\"8px\" fontWeight={600} lineHeight=\"8px\" noWrap {...props} />\n}\n\nexport function ButtonLarge(props: TextProps) {\n  return (\n    <TextWrapper className=\"button button-large\" fontSize={20} fontWeight={500} lineHeight=\"20px\" noWrap {...props} />\n  )\n}\n\nexport function ButtonMedium(props: TextProps) {\n  return (\n    <TextWrapper className=\"button button-medium\" fontSize={16} fontWeight={500} lineHeight=\"16px\" noWrap {...props} />\n  )\n}\n\nexport function ButtonSmall(props: TextProps) {\n  return (\n    <TextWrapper className=\"button button-small\" fontSize={14} fontWeight={500} lineHeight=\"14px\" noWrap {...props} />\n  )\n}\n\nexport function TransitionButton(props: TextProps & { buttonSize: 'small' | 'medium' | 'large' }) {\n  const className = `button button-${props.buttonSize}`\n  const fontSize = { small: 14, medium: 16, large: 20 }[props.buttonSize]\n  const lineHeight = `${fontSize}px`\n  return (\n    <TransitionTextWrapper\n      className={className}\n      fontSize={fontSize}\n      fontWeight={500}\n      lineHeight={lineHeight}\n      noWrap\n      {...props}\n    />\n  )\n}\n\nexport function Code(props: TextProps) {\n  const { fontFamilyCode } = useTheme()\n  return (\n    <TextWrapper\n      className=\"code\"\n      fontSize={12}\n      fontWeight={400}\n      lineHeight=\"16px\"\n      fontFamily={fontFamilyCode}\n      {...props}\n    />\n  )\n}\n","import 'assets/fonts.scss'\n\nimport { mix, transparentize } from 'polished'\nimport { createContext, ReactNode, useContext, useMemo, useState } from 'react'\nimport { ThemeProvider as StyledProvider } from 'styled-components/macro'\n\nimport type { Colors, ComputedTheme, Theme } from './styled'\n\nexport * from './dynamic'\nexport * from './layer'\nexport type { Color, Colors, Theme } from './styled'\nexport * as ThemedText from './type'\n\nconst white = 'hsl(0, 0%, 100%)'\nconst black = 'hsl(0, 0%, 0%)'\n\nconst brandLight = 'hsl(331.3, 100%, 50%)'\nconst brandDark = 'hsl(215, 79%, 51.4%)'\nexport const brand = brandLight\n\nconst stateColors = {\n  active: 'hsl(215, 79%, 51.4%)',\n  success: 'hsl(145, 63.4%, 41.8%)',\n  warning: 'hsl(43, 89.9%, 53.5%)',\n  error: 'hsl(0, 98%, 62.2%)',\n}\n\nexport const lightTheme: Colors = {\n  // surface\n  accent: brandLight,\n  container: 'hsl(220, 23%, 97.5%)',\n  module: 'hsl(231, 14%, 90%)',\n  interactive: 'hsl(229, 13%, 83%)',\n  outline: 'hsl(225, 7%, 78%)',\n  dialog: white,\n\n  // text\n  onAccent: white,\n  primary: black,\n  secondary: 'hsl(227, 10%, 37.5%)',\n  hint: 'hsl(224, 9%, 57%)',\n  onInteractive: black,\n\n  // state\n  ...stateColors,\n\n  currentColor: 'currentColor',\n}\n\nexport const darkTheme: Colors = {\n  // surface\n  accent: brandDark,\n  container: 'hsl(220, 10.7%, 11%)',\n  module: 'hsl(222, 10.2%, 19.2%)',\n  interactive: 'hsl(224, 10%, 28%)',\n  outline: 'hsl(227, 10%, 37.5%)',\n  dialog: black,\n\n  // text\n  onAccent: white,\n  primary: white,\n  secondary: 'hsl(224, 8.7%, 57.1%)',\n  hint: 'hsl(225, 10%, 47.1%)',\n  onInteractive: white,\n\n  // state\n  ...stateColors,\n\n  currentColor: 'currentColor',\n}\n\nexport const defaultTheme = {\n  borderRadius: 1,\n  fontFamily: {\n    font: '\"Inter\", sans-serif',\n    variable: '\"InterVariable\", sans-serif',\n  },\n  fontFamilyCode: 'IBM Plex Mono',\n  tokenColorExtraction: false,\n  ...lightTheme,\n}\n\nexport function useSystemTheme() {\n  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)')\n  const [systemTheme, setSystemTheme] = useState(prefersDark.matches ? darkTheme : lightTheme)\n  prefersDark.addEventListener('change', (e) => {\n    setSystemTheme(e.matches ? darkTheme : lightTheme)\n  })\n  return systemTheme\n}\n\nconst ThemeContext = createContext<ComputedTheme>(toComputedTheme(defaultTheme))\n\ninterface ThemeProviderProps {\n  theme?: Theme\n  children: ReactNode\n}\n\nexport function ThemeProvider({ theme, children }: ThemeProviderProps) {\n  const contextTheme = useContext(ThemeContext)\n  const value = useMemo(() => {\n    return toComputedTheme({\n      ...contextTheme,\n      ...theme,\n    } as Required<Theme>)\n  }, [contextTheme, theme])\n  return (\n    <ThemeContext.Provider value={value}>\n      <StyledProvider theme={value}>{children}</StyledProvider>\n    </ThemeContext.Provider>\n  )\n}\n\nfunction toComputedTheme(theme: Required<Theme>): ComputedTheme {\n  return {\n    ...theme,\n    borderRadius: clamp(\n      Number.isFinite(theme.borderRadius) ? (theme.borderRadius as number) : theme.borderRadius ? 1 : 0\n    ),\n    onHover: (color: string) =>\n      color === theme.primary ? transparentize(0.4, theme.primary) : mix(0.16, theme.primary, color),\n  }\n\n  function clamp(value: number) {\n    return Math.min(Math.max(value, 0), 1)\n  }\n}\n","import { RefObject } from 'react'\n\nexport function isAnimating(node: Animatable | Document) {\n  return (node.getAnimations().length ?? 0) > 0\n}\n\nexport const UNMOUNTING = 'unmounting'\n\n/**\n * Delays a node's unmounting until any animations on that node are finished, so that an unmounting\n * animation may be applied. If there is no animation, this is a no-op.\n *\n * CSS should target the UNMOUNTING class to determine when to apply an unmounting animation.\n */\nexport function delayUnmountForAnimation(node: RefObject<HTMLElement>) {\n  const current = node.current\n  const parent = current?.parentElement\n  const removeChild = parent?.removeChild\n  if (parent && removeChild) {\n    parent.removeChild = function <T extends Node>(child: T) {\n      if ((child as Node) === current) {\n        current.classList.add(UNMOUNTING)\n        if (isAnimating(current)) {\n          current.addEventListener('animationend', () => {\n            removeChild.call(parent, child)\n          })\n        } else {\n          removeChild.call(parent, child)\n        }\n        return child\n      } else {\n        return removeChild.call(parent, child) as T\n      }\n    }\n  }\n}\n","import { Icon } from 'icons'\nimport { ComponentProps, forwardRef } from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { Color } from 'theme'\n\nexport const BaseButton = styled.button`\n  background-color: transparent;\n  border: none;\n  border-radius: 0.5em;\n  color: currentColor;\n  cursor: pointer;\n  font-size: inherit;\n  font-weight: inherit;\n  height: inherit;\n  line-height: inherit;\n  margin: 0;\n  padding: 0;\n\n  :enabled {\n    transition: filter 0.125s linear;\n  }\n\n  :disabled {\n    cursor: initial;\n    filter: opacity(0.4);\n  }\n`\nconst transitionCss = css`\n  transition: background-color 0.125s linear, border-color 0.125s linear, filter 0.125s linear;\n`\n\nexport default styled(BaseButton)<{ color?: Color; transition?: boolean }>`\n  background-color: ${({ color = 'interactive', theme }) => theme[color]};\n  border: 1px solid transparent;\n  color: ${({ color = 'interactive', theme }) => color === 'interactive' && theme.onInteractive};\n\n  :enabled {\n    ${({ transition = true }) => transition && transitionCss};\n  }\n\n  :enabled:hover {\n    background-color: ${({ color = 'interactive', theme }) => theme.onHover(theme[color])};\n  }\n`\n\nconst transparentButton = (defaultColor: Color) => styled(BaseButton)<{ color?: Color }>`\n  color: ${({ color = defaultColor, theme }) => theme[color]};\n\n  :enabled:hover {\n    color: ${({ color = defaultColor, theme }) => theme.onHover(theme[color])};\n  }\n`\n\nexport const TextButton = transparentButton('accent')\n\nconst SecondaryButton = transparentButton('secondary')\n\ninterface IconButtonProps {\n  icon: Icon\n  iconProps?: ComponentProps<Icon>\n}\n\nexport const IconButton = forwardRef<HTMLButtonElement, IconButtonProps & ComponentProps<typeof BaseButton>>(\n  function IconButton({ icon: Icon, iconProps, ...props }: IconButtonProps & ComponentProps<typeof BaseButton>, ref) {\n    return (\n      <SecondaryButton {...props} ref={ref}>\n        <Icon {...iconProps} />\n      </SecondaryButton>\n    )\n  }\n)\n","import styled, { css } from 'styled-components/macro'\nimport { Color } from 'theme'\n\nconst Column = styled.div<{\n  align?: string\n  color?: Color\n  justify?: string\n  gap?: number\n  padded?: true\n  flex?: true\n  grow?: true\n  css?: ReturnType<typeof css>\n}>`\n  align-items: ${({ align }) => align ?? 'center'};\n  color: ${({ color, theme }) => color && theme[color]};\n  display: ${({ flex }) => (flex ? 'flex' : 'grid')};\n  flex-direction: column;\n  flex-grow: ${({ grow }) => grow && 1};\n  gap: ${({ gap }) => gap && `${gap}em`};\n  grid-auto-flow: row;\n  grid-template-columns: 1fr;\n  justify-content: ${({ justify }) => justify ?? 'space-between'};\n  padding: ${({ padded }) => padded && '0.75em'};\n\n  ${({ css }) => css}\n`\n\nexport default Column\n","import { Children, ReactNode } from 'react'\nimport styled from 'styled-components/macro'\nimport { Color, Theme } from 'theme'\n\nconst Row = styled.div<{\n  color?: Color\n  align?: string\n  justify?: string\n  pad?: number\n  gap?: number\n  flex?: true\n  grow?: true | 'first' | 'last'\n  children?: ReactNode\n  theme: Theme\n}>`\n  align-items: ${({ align }) => align ?? 'center'};\n  color: ${({ color, theme }) => color && theme[color]};\n  display: ${({ flex }) => (flex ? 'flex' : 'grid')};\n  flex-flow: wrap;\n  flex-grow: ${({ grow }) => grow && 1};\n  gap: ${({ gap }) => gap && `${gap}em`};\n  grid-auto-flow: column;\n  grid-template-columns: ${({ grow, children }) => {\n    if (grow === 'first') return '1fr'\n    if (grow === 'last') return `repeat(${Children.count(children) - 1}, auto) 1fr`\n    if (grow) return `repeat(${Children.count(children)}, 1fr)`\n    return undefined\n  }};\n  justify-content: ${({ justify }) => justify ?? 'space-between'};\n  padding: ${({ pad }) => pad && `0 ${pad}em`};\n`\n\nexport default Row\n","import styled from 'styled-components/macro'\n\nconst Rule = styled.hr<{ padded?: true; scrollingEdge?: 'top' | 'bottom' }>`\n  border: none;\n  border-bottom: 1px solid ${({ theme }) => theme.outline};\n  margin: 0 ${({ padded }) => (padded ? '0.75em' : 0)};\n  margin-bottom: ${({ scrollingEdge }) => (scrollingEdge === 'bottom' ? -1 : 0)}px;\n  margin-top: ${({ scrollingEdge }) => (scrollingEdge !== 'bottom' ? -1 : 0)}px;\n\n  // Integrators will commonly modify hr width - this overrides any modifications within the widget.\n  max-width: auto;\n  width: auto;\n`\n\nexport default Rule\n","import 'wicg-inert'\n\nimport { X } from 'icons'\nimport { createContext, ReactElement, ReactNode, useContext, useEffect, useRef, useState } from 'react'\nimport { createPortal } from 'react-dom'\nimport styled from 'styled-components/macro'\nimport { Color, Layer, ThemeProvider } from 'theme'\nimport { delayUnmountForAnimation } from 'utils/animations'\n\nimport { IconButton } from './Button'\nimport Column from './Column'\nimport { default as BaseHeader } from './Header'\nimport Rule from './Rule'\n\n// Include inert from wicg-inert\ndeclare global {\n  interface HTMLElement {\n    inert?: boolean\n  }\n}\n\nconst Context = createContext({\n  element: null as HTMLElement | null,\n  active: false,\n  setActive: (active: boolean) => undefined as void,\n})\n\ninterface ProviderProps {\n  value: HTMLElement | null\n  children: ReactNode\n}\n\nexport function Provider({ value, children }: ProviderProps) {\n  // If a Dialog is active, mark the main content inert\n  const ref = useRef<HTMLDivElement>(null)\n  const [active, setActive] = useState(false)\n  const context = { element: value, active, setActive }\n  useEffect(() => {\n    if (ref.current) {\n      ref.current.inert = active\n    }\n  }, [active])\n  return (\n    <div\n      ref={ref}\n      style={{ isolation: 'isolate' }} // creates a new stacking context, preventing the dialog from intercepting non-dialog clicks\n    >\n      <Context.Provider value={context}>{children}</Context.Provider>\n    </div>\n  )\n}\n\nconst OnCloseContext = createContext<() => void>(() => void 0)\n\ninterface HeaderProps {\n  title?: ReactElement\n  ruled?: boolean\n  children?: ReactNode\n}\n\nexport function Header({ title, children, ruled }: HeaderProps) {\n  return (\n    <>\n      <Column>\n        <BaseHeader title={title}>\n          {children}\n          <IconButton color=\"primary\" onClick={useContext(OnCloseContext)} icon={X} />\n        </BaseHeader>\n        {ruled && <Rule padded />}\n      </Column>\n    </>\n  )\n}\n\nexport const Modal = styled.div<{ color: Color }>`\n  background-color: ${({ color, theme }) => theme[color]};\n  border-radius: ${({ theme }) => theme.borderRadius * 0.75}em;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: ${Layer.DIALOG};\n`\n\ninterface DialogProps {\n  color: Color\n  children: ReactNode\n  onClose?: () => void\n}\n\nexport default function Dialog({ color, children, onClose = () => void 0 }: DialogProps) {\n  const context = useContext(Context)\n  useEffect(() => {\n    context.setActive(true)\n    return () => context.setActive(false)\n  }, [context])\n\n  const modal = useRef<HTMLDivElement>(null)\n  useEffect(() => delayUnmountForAnimation(modal), [])\n\n  useEffect(() => {\n    const close = (e: KeyboardEvent) => e.key === 'Escape' && onClose?.()\n    document.addEventListener('keydown', close, true)\n    return () => document.removeEventListener('keydown', close, true)\n  }, [onClose])\n  return (\n    context.element &&\n    createPortal(\n      <ThemeProvider>\n        <OnCloseContext.Provider value={onClose}>\n          <Modal color={color} ref={modal}>\n            {children}\n          </Modal>\n        </OnCloseContext.Provider>\n      </ThemeProvider>,\n      context.element\n    )\n  )\n}\n","import { AlertTriangle, Icon, LargeIcon } from 'icons'\nimport { ReactNode, useMemo } from 'react'\nimport styled, { css, keyframes } from 'styled-components/macro'\nimport { Color, ThemedText } from 'theme'\n\nimport Button from './Button'\nimport Row from './Row'\n\nconst StyledButton = styled(Button)`\n  border-radius: ${({ theme }) => theme.borderRadius * 0.75}em;\n  flex-grow: 1;\n  transition: background-color 0.25s ease-out, border-radius 0.25s ease-out, flex-grow 0.25s ease-out;\n\n  :disabled {\n    margin: -1px;\n  }\n`\n\nconst ActionRow = styled(Row)``\n\nconst grow = keyframes`\n  from {\n    opacity: 0;\n    width: 0;\n  }\n  to {\n    opacity: 1;\n    width: max-content;\n  }\n`\n\nconst actionCss = css`\n  border: 1px solid ${({ theme }) => theme.outline};\n  padding: calc(0.25em - 1px);\n  padding-left: calc(0.75em - 1px);\n\n  ${ActionRow} {\n    animation: ${grow} 0.25s ease-in;\n    flex-grow: 1;\n    justify-content: flex-start;\n    white-space: nowrap;\n  }\n\n  ${StyledButton} {\n    border-radius: ${({ theme }) => theme.borderRadius}em;\n    flex-grow: 0;\n    padding: 1em;\n  }\n`\n\nexport const Overlay = styled(Row)<{ hasAction: boolean }>`\n  border-radius: ${({ theme }) => theme.borderRadius}em;\n  flex-direction: row-reverse;\n  min-height: 3.5em;\n  transition: padding 0.25s ease-out;\n\n  ${({ hasAction }) => hasAction && actionCss}\n`\n\nexport interface Action {\n  message: ReactNode\n  icon?: Icon\n  onClick?: () => void\n  children?: ReactNode\n}\n\nexport interface BaseProps {\n  color?: Color\n  action?: Action\n}\n\nexport type ActionButtonProps = BaseProps & Omit<React.ButtonHTMLAttributes<HTMLButtonElement>, keyof BaseProps>\n\nexport default function ActionButton({ color = 'accent', disabled, action, onClick, children }: ActionButtonProps) {\n  const textColor = useMemo(() => (color === 'accent' ? 'onAccent' : 'currentColor'), [color])\n  return (\n    <Overlay hasAction={Boolean(action)} flex align=\"stretch\">\n      {(action ? action.onClick : true) && (\n        <StyledButton color={color} disabled={disabled} onClick={action?.onClick || onClick}>\n          <ThemedText.TransitionButton buttonSize={action ? 'medium' : 'large'} color={textColor}>\n            {action?.children || children}\n          </ThemedText.TransitionButton>\n        </StyledButton>\n      )}\n      {action && (\n        <ActionRow gap={0.5}>\n          <LargeIcon color=\"currentColor\" icon={action.icon || AlertTriangle} />\n          <ThemedText.Subhead2>{action?.message}</ThemedText.Subhead2>\n        </ActionRow>\n      )}\n    </Overlay>\n  )\n}\n","import { useMemo } from 'react'\nimport { css } from 'styled-components/macro'\n\nconst overflowCss = css`\n  overflow-y: scroll;\n`\n\n/** Customizes the scrollbar for vertical overflow. */\nconst scrollbarCss = (padded: boolean) => css`\n  overflow-y: scroll;\n\n  ::-webkit-scrollbar {\n    width: 1.25em;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: radial-gradient(\n        closest-corner at 0.25em 0.25em,\n        ${({ theme }) => theme.interactive} 0.25em,\n        transparent 0.25em\n      ),\n      linear-gradient(\n        to bottom,\n        #ffffff00 0.25em,\n        ${({ theme }) => theme.interactive} 0.25em,\n        ${({ theme }) => theme.interactive} calc(100% - 0.25em),\n        #ffffff00 calc(100% - 0.25em)\n      ),\n      radial-gradient(\n        closest-corner at 0.25em calc(100% - 0.25em),\n        ${({ theme }) => theme.interactive} 0.25em,\n        #ffffff00 0.25em\n      );\n    background-clip: padding-box;\n    border: none;\n    ${padded ? 'border-right' : 'border-left'}: 0.75em solid transparent;\n  }\n\n  @supports not selector(::-webkit-scrollbar-thumb) {\n    scrollbar-color: ${({ theme }) => theme.interactive} transparent;\n  }\n`\n\ninterface ScrollbarOptions {\n  padded?: boolean\n}\n\nexport default function useScrollbar(element: HTMLElement | null, { padded = false }: ScrollbarOptions = {}) {\n  return useMemo(\n    // NB: The css must be applied on an element's first render. WebKit will not re-apply overflow\n    // properties until any transitions have ended, so waiting a frame for state would cause jank.\n    () => (hasOverflow(element) ? scrollbarCss(padded) : overflowCss),\n    [element, padded]\n  )\n\n  function hasOverflow(element: HTMLElement | null) {\n    if (!element) return true\n    return element.scrollHeight > element.clientHeight\n  }\n}\n","import { IconButton } from 'components/Button'\nimport Column from 'components/Column'\nimport Row from 'components/Row'\nimport Rule from 'components/Rule'\nimport useScrollbar from 'hooks/useScrollbar'\nimport { Expando as ExpandoIcon } from 'icons'\nimport { PropsWithChildren, ReactNode, useState } from 'react'\nimport styled from 'styled-components/macro'\n\nconst HeaderColumn = styled(Column)`\n  transition: gap 0.25s;\n`\n\nconst ExpandoColumn = styled(Column)<{ height: number; open: boolean }>`\n  height: ${({ height, open }) => (open ? height : 0)}em;\n  overflow: hidden;\n  position: relative;\n  transition: height 0.25s, padding 0.25s;\n\n  :after {\n    background: linear-gradient(transparent, ${({ theme }) => theme.dialog});\n    bottom: 0;\n    content: '';\n    height: 0.75em;\n    pointer-events: none;\n    position: absolute;\n    width: calc(100% - 1em);\n  }\n`\n\nconst InnerColumn = styled(Column)<{ height: number }>`\n  height: ${({ height }) => height}em;\n  padding: 0.5em 0;\n`\n\ninterface ExpandoProps {\n  title: ReactNode\n  open: boolean\n  onExpand: () => void\n  // The absolute height of the expanded container, in em.\n  height: number\n}\n\n/** A scrollable Expando with an absolute height. */\nexport default function Expando({ title, open, onExpand, height, children }: PropsWithChildren<ExpandoProps>) {\n  const [scrollingEl, setScrollingEl] = useState<HTMLDivElement | null>(null)\n  const scrollbar = useScrollbar(scrollingEl)\n  return (\n    <Column>\n      <HeaderColumn gap={open ? 0.5 : 0.75}>\n        <Rule />\n        <Row>\n          {title}\n          <IconButton color=\"secondary\" onClick={onExpand} icon={ExpandoIcon} iconProps={{ open }} />\n        </Row>\n        <Rule />\n      </HeaderColumn>\n      <ExpandoColumn open={open} height={height}>\n        <InnerColumn flex align=\"stretch\" height={height} ref={setScrollingEl} css={scrollbar}>\n          {children}\n        </InnerColumn>\n      </ExpandoColumn>\n    </Column>\n  )\n  return null\n}\n","import { Trans } from '@lingui/macro'\nimport ActionButton from 'components/ActionButton'\nimport Column from 'components/Column'\nimport Expando from 'components/Expando'\nimport { AlertTriangle, Icon, LargeIcon } from 'icons'\nimport { ReactNode, useCallback, useState } from 'react'\nimport styled from 'styled-components/macro'\nimport { Color, ThemedText } from 'theme'\n\nconst HeaderIcon = styled(LargeIcon)`\n  flex-grow: 1;\n  transition: height 0.25s, width 0.25s;\n\n  svg {\n    transition: height 0.25s, width 0.25s;\n  }\n`\n\ninterface StatusHeaderProps {\n  icon: Icon\n  iconColor?: Color\n  iconSize?: number\n  children: ReactNode\n}\n\nexport function StatusHeader({ icon: Icon, iconColor, iconSize = 4, children }: StatusHeaderProps) {\n  return (\n    <>\n      <Column flex style={{ flexGrow: 1 }}>\n        <HeaderIcon icon={Icon} color={iconColor} size={iconSize} />\n        <Column gap={0.75} flex style={{ textAlign: 'center' }}>\n          {children}\n        </Column>\n      </Column>\n    </>\n  )\n}\n\nconst ErrorHeader = styled(Column)<{ open: boolean }>`\n  transition: gap 0.25s;\n\n  div:last-child {\n    max-height: ${({ open }) => (open ? 0 : 60 / 14)}em; // 3 * line-height\n    overflow-y: hidden;\n    transition: max-height 0.25s;\n  }\n`\n\ninterface ErrorDialogProps {\n  header?: ReactNode\n  error: Error\n  action: ReactNode\n  onClick: () => void\n}\n\nexport default function ErrorDialog({ header, error, action, onClick }: ErrorDialogProps) {\n  const [open, setOpen] = useState(false)\n  const onExpand = useCallback(() => setOpen((open) => !open), [])\n\n  return (\n    <Column flex padded gap={0.75} align=\"stretch\" style={{ height: '100%' }}>\n      <StatusHeader icon={AlertTriangle} iconColor=\"error\" iconSize={open ? 3 : 4}>\n        <ErrorHeader gap={open ? 0 : 0.75} open={open}>\n          <ThemedText.Subhead1>\n            <Trans>Something went wrong.</Trans>\n          </ThemedText.Subhead1>\n          <ThemedText.Body2>{header}</ThemedText.Body2>\n        </ErrorHeader>\n      </StatusHeader>\n      <Column gap={open ? 0 : 0.75} style={{ transition: 'gap 0.25s' }}>\n        <Expando title={<Trans>Error details</Trans>} open={open} onExpand={onExpand} height={7.5}>\n          <ThemedText.Code userSelect>\n            {error.name}\n            {error.message ? `: ${error.message}` : ''}\n          </ThemedText.Code>\n        </Expando>\n        <ActionButton onClick={onClick}>{action}</ActionButton>\n      </Column>\n    </Column>\n  )\n}\n","import { Trans } from '@lingui/macro'\nimport { Component, ErrorInfo, PropsWithChildren } from 'react'\n\nimport Dialog from '../Dialog'\nimport ErrorDialog from './ErrorDialog'\n\nexport type ErrorHandler = (error: Error, info: ErrorInfo) => void\n\ninterface ErrorBoundaryProps {\n  onError?: ErrorHandler\n}\n\ntype ErrorBoundaryState = {\n  error: Error | null\n}\n\nexport default class ErrorBoundary extends Component<PropsWithChildren<ErrorBoundaryProps>, ErrorBoundaryState> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props)\n    this.state = { error: null }\n  }\n\n  static getDerivedStateFromError(error: Error) {\n    return { error }\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    this.props.onError?.(error, errorInfo)\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <Dialog color=\"dialog\">\n          <ErrorDialog\n            error={this.state.error}\n            header={<Trans>Something went wrong.</Trans>}\n            action={<Trans>Reload the page</Trans>}\n            onClick={() => window.location.reload()}\n          />\n        </Dialog>\n      )\n    }\n    return this.props.children\n  }\n}\n","import { JsonRpcProvider } from '@ethersproject/providers'\nimport { TokenInfo } from '@uniswap/token-lists'\nimport { Provider as Eip1193Provider } from '@web3-react/types'\n// eslint-disable-next-line no-restricted-imports\nimport { ethers } from 'ethers'\nimport { SwapInfo } from 'hooks/swap/useSwapInfo'\nimport { TransactionsUpdater } from 'hooks/transactions'\nimport { ActiveWeb3Provider } from 'hooks/useActiveWeb3React'\nimport { BlockNumberProvider } from 'hooks/useBlockNumber'\nimport { TokenListProvider } from 'hooks/useTokenList'\nimport { Provider as AtomProvider } from 'jotai'\nimport { PropsWithChildren, StrictMode } from 'react'\nimport { Provider as ReduxProvider } from 'react-redux'\nimport { MulticallUpdater, store as multicallStore } from 'state/multicall'\n\nimport ErrorBoundary, { ErrorHandler } from './Error/ErrorBoundary'\n\nexport type OnChange = (e: SwapInfo) => void\nexport type WrapperProps = {\n  accounts?: string[]\n  provider?: Eip1193Provider | JsonRpcProvider\n  jsonRpcEndpoint?: string | JsonRpcProvider\n  tokenList?: string | TokenInfo[]\n  onError?: ErrorHandler\n}\n\nconst getCustomProvider = () => {\n  const provider = new ethers.providers.JsonRpcProvider('https://rinkeby.infura.io/v3/14c73ecdbcaa464585aa7c438fdf6a77')\n  const jsonRpcEndpoint = 'https://rinkeby.infura.io/v3/14c73ecdbcaa464585aa7c438fdf6a77'\n\n  return { provider, jsonRpcEndpoint }\n}\n\nexport default function Wrapper(props: PropsWithChildren<WrapperProps>) {\n  const { children, onError } = props\n  const { provider, jsonRpcEndpoint } = getCustomProvider()\n  return (\n    <StrictMode>\n      <ErrorBoundary onError={onError}>\n        <ReduxProvider store={multicallStore}>\n          <AtomProvider>\n            <ActiveWeb3Provider\n              provider={provider}\n              jsonRpcEndpoint={jsonRpcEndpoint}\n              accounts={['0xf08fD75cCed9Eb65cff7451291Bf41e91c8457eD']}\n            >\n              <BlockNumberProvider>\n                <MulticallUpdater />\n                <TransactionsUpdater />\n                <TokenListProvider list={props.tokenList}>{children}</TokenListProvider>\n              </BlockNumberProvider>\n            </ActiveWeb3Provider>\n          </AtomProvider>\n        </ReduxProvider>\n      </ErrorBoundary>\n    </StrictMode>\n  )\n}\n","export const SUPPORTED_LOCALES = [\n  // order as they appear in the language dropdown\n  'en-US',\n  'af-ZA',\n  'ar-SA',\n  'ca-ES',\n  'cs-CZ',\n  'da-DK',\n  'de-DE',\n  'el-GR',\n  'es-ES',\n  'fi-FI',\n  'fr-FR',\n  'he-IL',\n  'hu-HU',\n  'id-ID',\n  'it-IT',\n  'ja-JP',\n  'ko-KR',\n  'nl-NL',\n  'no-NO',\n  'pl-PL',\n  'pt-BR',\n  'pt-PT',\n  'ro-RO',\n  'ru-RU',\n  'sr-SP',\n  'sv-SE',\n  'sw-TZ',\n  'tr-TR',\n  'uk-UA',\n  'vi-VN',\n  'zh-CN',\n  'zh-TW',\n]\nexport type SupportedLocale = typeof SUPPORTED_LOCALES[number] | 'pseudo'\n\nexport const DEFAULT_LOCALE: SupportedLocale = 'en-US'\n\nexport const LOCALE_LABEL: { [locale in SupportedLocale]: string } = {\n  'af-ZA': 'Afrikaans',\n  'ar-SA': 'العربية',\n  'ca-ES': 'Català',\n  'cs-CZ': 'čeština',\n  'da-DK': 'dansk',\n  'de-DE': 'Deutsch',\n  'el-GR': 'ελληνικά',\n  'en-US': 'English',\n  'es-ES': 'Español',\n  'fi-FI': 'suomi',\n  'fr-FR': 'français',\n  'he-IL': 'עִברִית',\n  'hu-HU': 'Magyar',\n  'id-ID': 'bahasa Indonesia',\n  'it-IT': 'Italiano',\n  'ja-JP': '日本語',\n  'ko-KR': '한국어',\n  'nl-NL': 'Nederlands',\n  'no-NO': 'norsk',\n  'pl-PL': 'Polskie',\n  'pt-BR': 'português',\n  'pt-PT': 'português',\n  'ro-RO': 'Română',\n  'ru-RU': 'русский',\n  'sr-SP': 'Српски',\n  'sv-SE': 'svenska',\n  'sw-TZ': 'Kiswahili',\n  'tr-TR': 'Türkçe',\n  'uk-UA': 'Український',\n  'vi-VN': 'Tiếng Việt',\n  'zh-CN': '简体中文',\n  'zh-TW': '繁体中文',\n  pseudo: 'ƥƨèúδô',\n}\n","import Swap, { SwapField, SwapProps } from 'components/Swap'\nimport Wrapper, { WrapperProps } from 'components/Wrapper'\nimport React, { useContext, useReducer } from 'react'\n\nexport interface Values {\n  uniswap?: any\n  input?: SwapField\n  output?: SwapField\n}\ninterface Action extends Values {\n  type: 'setUniswapValues' | 'setUniswapInput' | 'setUniswapOutput'\n}\n\nexport type Dispatch = React.Dispatch<Values>\nconst reducer = (state: Values, action: Action) => {\n  switch (action.type) {\n    case 'setUniswapValues':\n      return { ...state, values: action?.uniswap }\n    case 'setUniswapInput':\n      return { ...state, input: action?.input }\n    case 'setUniswapOutput':\n      return { ...state, output: action?.output }\n    default:\n      return state\n  }\n}\n\nconst DispatchSwapValues = React.createContext<((a: Action) => void) | undefined>(undefined)\n\nconst initValues = {}\nconst SwapValuesContext = React.createContext<Values>(initValues)\n\nexport type SwapWidgetProps = SwapProps & WrapperProps\n\nexport const SwapValuesProvider = (props: SwapWidgetProps) => {\n  const [values, dispatchSwapValues] = useReducer(reducer, initValues)\n  const { children, ...rest } = props\n\n  console.log({ values })\n  return (\n    <SwapValuesContext.Provider value={values}>\n      <DispatchSwapValues.Provider value={dispatchSwapValues}>\n        <Wrapper {...rest}>\n          <Swap {...rest}>{children}</Swap>\n        </Wrapper>\n      </DispatchSwapValues.Provider>\n    </SwapValuesContext.Provider>\n  )\n}\n\nexport const useDispatchSwapValues = () => {\n  const context = React.useContext(DispatchSwapValues)\n\n  if (context === undefined) {\n    throw new Error('useOnChainContract context is missing')\n  }\n\n  return context\n}\n\nexport function useSwapValues() {\n  return useContext(SwapValuesContext)\n}\n\nexport type { Provider as EthersProvider } from '@ethersproject/abstract-provider'\nexport type { TokenInfo } from '@uniswap/token-lists'\nexport type { Provider as Eip1193Provider } from '@web3-react/types'\nexport type { ErrorHandler } from 'components/Error/ErrorBoundary'\nexport { SupportedChainId } from 'constants/chains'\nexport type { SupportedLocale } from 'constants/locales'\nexport { DEFAULT_LOCALE, SUPPORTED_LOCALES } from 'constants/locales'\nexport type { FeeOptions } from 'hooks/swap/useSyncConvenienceFee'\nexport type { DefaultAddress, TokenDefaults } from 'hooks/swap/useSyncTokenDefaults'\nexport type { Theme } from 'theme'\nexport { darkTheme, defaultTheme, lightTheme } from 'theme'\n"],"names":["parseChainId","chainId","Number","parseInt","JsonRpcConnector","actions","customProvider","on","update","error","reportError","accounts","startActivation","Promise","all","getNetwork","listAccounts","Connector","initializeConnector","EMPTY","EMPTY_CONNECTOR","EMPTY_HOOKS","EMPTY_STATE","connector","hooks","EMPTY_CONTEXT","Web3Context","createContext","useActiveWeb3React","useContext","ActiveWeb3Provider","jsonRpcEndpoint","provider","children","network","useMemo","JsonRpcProvider","isProvider","Url","activate","wallet","Error","EIP1193","useIsActive","account","activating","useIsActivating","active","useChainId","useError","library","useProvider","web3","useEffect","console","_jsxDEV","SupportedChainId","MAINNET","ROPSTEN","RINKEBY","GOERLI","KOVAN","POLYGON","POLYGON_MUMBAI","ARBITRUM_ONE","ARBITRUM_RINKEBY","OPTIMISM","OPTIMISTIC_KOVAN","ALL_SUPPORTED_CHAIN_IDS","Object","values","filter","id","SUPPORTED_GAS_ESTIMATE_CHAIN_IDS","L2_CHAIN_IDS","DEFAULT_NETWORKS","constructSameAddressMap","address","additionalNetworks","concat","reduce","memo","UNI_ADDRESS","MULTICALL_ADDRESS","V2_FACTORY_ADDRESSES","V2_FACTORY_ADDRESS","V3_CORE_FACTORY_ADDRESSES","V3_FACTORY_ADDRESS","QUOTER_ADDRESSES","ENS_REGISTRAR_ADDRESSES","USDC_MAINNET","Token","USDC_ROPSTEN","USDC_RINKEBY","USDC_GOERLI","USDC_KOVAN","USDC_OPTIMISM","USDC_OPTIMISTIC_KOVAN","USDC_ARBITRUM","USDC_ARBITRUM_RINKEBY","USDC_POLYGON","USDC_POLYGON_MUMBAI","AMPL","DAI","DAI_ARBITRUM_ONE","DAI_OPTIMISM","DAI_POLYGON","USDT_POLYGON","WBTC_POLYGON","USDT","USDT_ARBITRUM_ONE","USDT_OPTIMISM","WBTC","WBTC_ARBITRUM_ONE","WBTC_OPTIMISM","FEI","TRIBE","FRAX","FXS","renBTC","ETH2X_FLI","sETH2","rETH2","SWISE","WETH_POLYGON_MUMBAI","WETH_POLYGON","WRAPPED_NATIVE_CURRENCY","WETH9","isMatic","MaticNativeCurrency","other","isNative","wrapped","invariant","NativeCurrency","ExtendedEther","_cachedExtendedEther","Ether","cachedNativeCurrency","nativeOnChain","onChain","USDC","isVisibilityStateSupported","document","isWindowVisible","visibilityState","useIsWindowVisible","useState","focused","setFocused","listener","useCallback","undefined","addEventListener","removeEventListener","MISSING_PROVIDER","Symbol","BlockNumberContext","useBlockNumberContext","blockNumber","useBlockNumber","value","useFastForwardBlockNumber","fastForward","BlockNumberProvider","activeChainId","block","setChainBlock","onBlock","chainBlock","windowVisible","stale","getBlockNumber","then","off","isAddress","getAddress","getSigner","connectUnchecked","getProviderOrSigner","getContract","ABI","AddressZero","Contract","QuoterABI","QuoterJson","abi","MulticallABI","UniswapInterfaceMulticallJson","useContract","addressOrAddressMap","withSignerIfPossible","useTokenContract","tokenAddress","ERC20_ABI","useWETHContract","WETH_ABI","useENSRegistrarContract","ENS_ABI","useENSResolverContract","ENS_PUBLIC_RESOLVER_ABI","useBytes32TokenContract","ERC20_BYTES32_ABI","useInterfaceMulticall","useV3Quoter","multicall","createMulticall","reducer","combineReducers","reducerPath","store","createStore","MulticallUpdater","latestBlockNumber","contract","useMultipleContractSingleData","useCallContext","latestBlock","args","useSingleCallResult","useSingleContractMultipleData","useSingleContractWithCallData","useNativeCurrencyBalances","uncheckedAddresses","multicallContract","validAddressInputs","map","a","sort","addr","results","i","result","CurrencyAmount","fromRawAmount","JSBI","BigInt","toString","ERC20Interface","Interface","ERC20ABI","tokenBalancesGasRequirement","gasRequired","useTokenBalancesWithLoadingIndicator","tokens","validatedTokens","t","validatedTokenAddresses","vt","balances","anyLoading","some","callState","loading","length","token","amount","useTokenBalances","useCurrencyBalances","currencies","currency","isToken","tokenBalances","containsETH","ethBalance","useCurrencyBalance","useNativeCurrency","isZero","hexNumberString","test","safeNamehash","name","namehash","debug","useDebounce","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useENSAddress","ensName","debouncedName","ensNodeArgument","registrarContract","resolverAddress","resolverAddressResult","resolverContract","changed","CHAIN_DATA_ABI","inputs","outputs","internalType","type","stateMutability","useGasPrice","resultStr","tryParseCurrencyAmount","typedValueParsed","parseUnits","decimals","BIPS_BASE","Percent","ALLOWED_PRICE_IMPACT_MEDIUM","ALLOWED_PRICE_IMPACT_HIGH","BETTER_TRADE_LESS_HOPS_THRESHOLD","ZERO_PERCENT","ONE_HUNDRED_PERCENT","isTradeBetter","tradeA","tradeB","minimumDelta","tradeType","inputAmount","equals","outputAmount","equalTo","executionPrice","lessThan","asFraction","multiply","add","WRAPPED_NATIVE_CURRENCIES_ONLY","fromEntries","entries","key","Boolean","BASES_TO_CHECK_TRADES_AGAINST","ADDITIONAL_BASES","CUSTOM_BASES","useAllCurrencyCombinations","currencyA","currencyB","tokenA","tokenB","bases","common","additionalA","additionalB","basePairs","flatMap","base","otherBase","t0","t1","otherPairs","firstIndexInOtherPairs","findIndex","t0Other","t1Other","customBases","customBasesA","customBasesB","find","PAIR_INTERFACE","IUniswapV2PairABI","PairState","useV2Pairs","pairAddresses","computePairAddress","factoryAddress","reserves","LOADING","INVALID","NOT_EXISTS","reserve0","reserve1","sortsBefore","token0","token1","EXISTS","Pair","useAllCommonPairs","allCurrencyCombinations","allPairs","pair","MAX_HOPS","useBestV2Trade","amountSpecified","otherCurrency","maxHops","TradeType","EXACT_INPUT","currencyIn","currencyOut","allowedPairs","options","maxNumResults","amountIn","Trade","bestTradeExactIn","amountOut","bestTradeExactOut","bestTradeSoFar","currentTrade","TradeState","InterfaceTrade","gasUseEstimateUSD","routes","POOL_STATE_INTERFACE","IUniswapV3PoolStateABI","PoolCache","fee","addresses","MAX_ENTRIES","slice","addressA","addressB","found","computePoolAddress","unshift","sqrtPriceX96","liquidity","tick","pools","pool","EQ","sqrtRatioX96","tickCurrent","Pool","PoolState","usePools","poolKeys","poolTokens","Array","feeAmount","poolAddresses","v3CoreFactoryAddress","getPoolAddress","slot0s","liquidities","_key","index","slot0","slot0Loading","slot0Valid","valid","liquidityLoading","liquidityValid","eq","getPool","useV3SwapPools","allCurrencyCombinationsWithAllFees","list","FeeAmount","LOW","MEDIUM","HIGH","LOWEST","tuple","state","poolEquals","poolA","poolB","computeAllRoutes","currentPath","allPaths","startCurrencyIn","tokenIn","tokenOut","involvesToken","pathPool","outputToken","push","Route","useAllV3Routes","poolsLoading","QUOTE_GAS_OVERRIDES","DEFAULT_GAS_QUOTE","useClientSideV3Trade","routesLoading","quoter","callData","route","SwapQuoter","quoteCallParameters","calldata","quotesResults","trade","currentBest","quotient","bestRoute","greaterThan","NO_ROUTE_FOUND","VALID","v2Routes","v3Routes","routev3","STABLECOIN_AMOUNT_OUT","useUSDCPrice","stablecoin","v2USDCTrade","EXACT_OUTPUT","v3USDCTrade","price","Price","midPrice","numerator","denominator","lastPrice","useRef","current","useUSDCValue","currencyAmount","quote","useStablecoinAmountFromFiatValue","fiatValue","parsedForDecimals","parseFloat","toFixed","V3_SWAP_DEFAULT_SLIPPAGE","ONE_TENTHS_PERCENT","DEFAULT_AUTO_SLIPPAGE","guesstimateGas","swaps","swap","MIN_AUTO_SLIPPAGE_TOLERANCE","MAX_AUTO_SLIPPAGE_TOLERANCE","useAutoSlippageTolerance","onL2","includes","outputDollarValue","nativeGasPrice","gasEstimate","nativeCurrency","nativeCurrencyPrice","nativeGasCost","dollarGasCost","dollarCostToUse","fraction","divide","pickAtom","anAtom","setter","draft","atom","get","set","withImmer","derived","setTogglable","initialSettings","autoSlippage","maxSlippage","transactionTtl","mockTogglable","clientSideRouter","settingsAtom","atomWithReset","autoSlippageAtom","maxSlippageAtom","toPercent","Math","floor","DEFAULT_SLIPPAGE","auto","allowed","useSlippage","shouldUseAutoSlippage","useAtomValue","maxSlippageValue","warning","getSlippageWarning","MAX_VALID_SLIPPAGE","MIN_HIGH_SLIPPAGE","slippage","computeFiatValuePriceImpact","fiatValueInput","fiatValueOutput","equal","pct","subtract","THIRTY_BIPS_FEE","getPriceImpactWarning","priceImpact","useUSDCPriceImpact","inputUSDC","outputUSDC","impact","percent","toHumanReadablePriceImpact","sign","number","toSignificant","Field","swapAtom","atomWithImmer","independentField","INPUT","feeOptionsAtom","useLast","filterFn","last","setLast","shouldUse","computeRoutes","quoteResult","parsedTokenIn","parseToken","parsedTokenOut","parsedCurrencyIn","parsedCurrencyOut","rawAmountIn","rawAmountOut","isV3Route","V3Route","parsePool","routev2","V2Route","parsePair","e","transformRoutesToTrade","r","symbol","WrapType","useWrapCallback","wrappedNativeCurrencyContract","inputCurrency","outputCurrency","OUTPUT","wrapType","WRAP","UNWRAP","NONE","parsedAmountIn","balanceIn","callback","deposit","withdraw","oldestBlockMapAtom","DEFAULT_MAX_BLOCK_AGE","useGetIsValidBlock","maxBlockAge","currentBlock","oldestBlockMap","oldestBlock","DEFAULT_POLLING_INTERVAL","DEFAULT_KEEP_UNUSED_DATA_FOR","usePoll","fetch","debounce","isStale","pollingInterval","keepUnusedDataFor","cache","Map","setData","timeout","entry","ttl","poll","Date","now","max","data","forEach","useRoutingAPIArguments","useClientSideRouter","tokenInAddress","tokenInChainId","tokenInDecimals","tokenInSymbol","tokenOutAddress","tokenOutChainId","tokenOutDecimals","tokenOutSymbol","DistributionPercents","DEFAULT_DISTRIBUTION_PERCENT","getConfig","protocols","Protocol","V2","V3","distributionPercent","useClientSideSmartOrderRouterTrade","debouncedAmount","debouncedCurrencyIn","debouncedCurrencyOut","isDebouncing","queryArgs","params","config","getQuoteResult","getClientSideQuote","resolve","setImmediate","getIsValidBlock","JSON","stringify","isValid","SYNCING","otherAmount","INVALID_TRADE","useBestTrade","clientSORTradeObject","useFallback","fallbackTradeObject","tradeObject","lastTrade","useComputeSwapInfo","isWrapping","isExactIn","parsedAmount","hasAmounts","balanceOut","balance","usdc","DEFAULT_SWAP_INFO","SwapInfoContext","SwapInfoProvider","disabled","swapInfo","useSwapInfo","useSyncConvenienceFee","convenienceFee","convenienceFeeRecipient","updateFeeOptions","useUpdateAtom","recipient","REGISTRAR_ABI","constant","payable","REGISTRAR_ADDRESS","RESOLVER_ABI","resolveENSContentHash","ensRegistrarContract","hash","resolver","contenthash","hexToUint8Array","hex","startsWith","substr","arr","Uint8Array","UTF_8_DECODER","TextDecoder","contenthashToUri","codec","getNameFromData","unprefixedData","rmPrefix","cid","CID","toB58String","multihash","decode","digest","trim","ENS_NAME_REGEX","parseENSAddress","ensAddress","match","toLowerCase","ensPath","uriToHttp","uri","protocol","split","tx","ValidationSchema","validator","ajv","schema","allErrors","addSchema","LIST","$id","required","TOKENS","getValidationErrors","validate","errors","dataPath","message","join","validateTokens","json","getSchema","validateTokenList","listCache","fetchTokenList","listUrl","cached","parsedENS","contentHashUri","translatedUri","urls","url","isLast","response","credentials","ok","statusText","WrappedTokenInfo","tokenInfo","_checksummedAddress","checksummedAddress","logoURI","_tags","tags","listTags","tagId","mapCache","WeakMap","tokensToChainTokenMap","isArray","infos","info","warn","DEFAULT_TOKEN_LIST","ChainTokenMapContext","useChainTokenMapContext","chainTokenMap","useIsTokenListLoaded","useTokenMap","tokenMap","TokenListProvider","setError","setChainTokenMap","activateList","BYTES32_REGEX","parseStringOrBytes32","str","bytes32","defaultValue","arrayify","parseBytes32String","useTokenFromNetwork","formattedAddress","tokenContract","tokenContractBytes32","tokenName","NEVER_RELOAD","tokenNameBytes32","symbolBytes32","useTokenFromMapOrNetwork","tokenFromNetwork","useToken","useOnSupportedNetwork","useDefaultToken","defaultAddress","onSupportedNetwork","useSyncTokenDefaults","defaultInputTokenAddress","defaultInputAmount","defaultOutputTokenAddress","defaultOutputAmount","updateSwap","defaultOutputToken","defaultInputToken","setToDefaults","defaultSwapState","lastChainId","isTokenListLoaded","shouldSync","otherField","field","useSwitchSwapCurrencies","oldOutput","useSwapCurrency","otherAtom","useAtom","setCurrency","switchSwapCurrencies","setOrSwitchCurrency","independentFieldAtom","useIsSwapFieldIndependent","amountAtom","useSwapAmount","isFieldIndependent","updateAmount","useCurrentMutableState","ref","SwapWrapper","useSwapValues","input","output","updateInputAmount","updateInputCurrency","updateSwapOutputAmount","updateSwapOutputCurrency","_updateInputAmount","_updateInputCurrency","_updateSwapOutputAmount","_updateSwapOutputCurrency","newInputToken","dispatchSwapValues","useDispatchSwapValues","_dispatchSwapValues","_swapInfo","uniswap","inputAmountFormatted","outputAmountFormatted","isLoading","IntegrationError","isAddressOrAddressMap","addressOrMap","every","useValidate","props","isNaN","Swap","isDisabled","TransactionType","transactionsAtom","wait","ms","waitRandom","min","round","random","CancelledError","RetryableError","retry","fn","n","minWait","maxWait","completed","rejectCancelled","promise","reject","isRetryableError","cancel","shouldCheck","lastBlockNumber","receipt","lastCheckedBlockNumber","blocksSinceCheck","minutesPending","getTime","addedTime","RETRY_OPTIONS_BY_CHAIN_ID","DEFAULT_RETRY_OPTIONS","Updater","pendingTransactions","onCheck","onReceipt","fastForwardBlockNumber","getReceipt","retryOptions","getTransactionReceipt","cancels","keys","isCancelledError","usePendingTransactions","txs","TransactionsUpdater","updateTxs","process","env","NODE_ENV","I18nProviderProd","devI18nProvider","Trans","TransProd","devTrans","useLinguiProd","devuseLingui","withI18nProd","devwithI18n","_path","_extends","icon","Icon","styled","color","theme","largeIconCss","css","iconSize","LargeWrapper","div","LargeIcon","size","className","AlertTriangle","AlertTriangleIcon","ArrowDownIcon","ArrowRightIcon","ArrowUpIcon","CheckCircleIcon","BarChart2Icon","ChevronDownIcon","ClockIcon","HelpCircleIcon","InfoIcon","LinkIcon","RouterIcon","SettingsIcon","SlashIcon","Trash2Icon","WalletIcon","XIcon","XOctagonIcon","Expando","ExpandoIcon","open","keyframes","black","white","interactive","transparentize","outline","primary","secondary","onInteractive","Layer","TextWrapper","Text","lineHeight","userSelect","noWrap","TransitionTextWrapper","Subhead1","Subhead2","Body2","TransitionButton","buttonSize","fontSize","small","medium","large","Code","useTheme","fontFamilyCode","brandLight","brandDark","stateColors","success","lightTheme","accent","container","module","dialog","onAccent","hint","currentColor","darkTheme","defaultTheme","borderRadius","fontFamily","font","variable","tokenColorExtraction","ThemeContext","toComputedTheme","ThemeProvider","contextTheme","_ThemeProvider","clamp","isFinite","onHover","mix","isAnimating","node","getAnimations","UNMOUNTING","delayUnmountForAnimation","parent","parentElement","removeChild","child","classList","call","BaseButton","button","transitionCss","transition","transparentButton","defaultColor","SecondaryButton","IconButton","forwardRef","iconProps","Column","align","flex","grow","gap","justify","padded","Row","Children","count","pad","Rule","hr","scrollingEdge","Context","element","setActive","OnCloseContext","Modal","DIALOG","Dialog","onClose","context","modal","close","createPortal","StyledButton","Button","ActionRow","actionCss","Overlay","hasAction","ActionButton","action","onClick","textColor","ThemedText.TransitionButton","ThemedText.Subhead2","overflowCss","scrollbarCss","useScrollbar","hasOverflow","scrollHeight","clientHeight","HeaderColumn","ExpandoColumn","height","InnerColumn","title","onExpand","scrollingEl","setScrollingEl","scrollbar","HeaderIcon","StatusHeader","iconColor","flexGrow","textAlign","ErrorHeader","ErrorDialog","header","setOpen","ThemedText.Subhead1","ThemedText.Body2","ThemedText.Code","ErrorBoundary","errorInfo","onError","window","location","reload","Component","getCustomProvider","ethers","providers","Wrapper","ReduxProvider","multicallStore","AtomProvider","tokenList","SUPPORTED_LOCALES","DEFAULT_LOCALE","DispatchSwapValues","React","initValues","SwapValuesContext","SwapValuesProvider","useReducer","rest","log"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}